<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[åŸºç¡€DLæ¨¡åž‹-Dilated Residual Networks-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F47648ee6%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šDilated Residual Networks CVPR2017ä»£ç ï¼šhttps://github.com/fyu/drn pytorch çŽ°åœ¨ç”¨äºŽåˆ†ç±»çš„å¤§å¤šæ•°å·ç§¯ç¥žç»ç½‘ç»œï¼Œéƒ½æ˜¯å°†å›¾ç‰‡åˆ†è¾¨çŽ‡é™ä½Žäº†32å€çš„ã€‚åœ¨è¾“å…¥å›ºå®šçš„æƒ…å†µä¸‹ï¼ˆåˆ†ç±»ä¸€èˆ¬éƒ½æ˜¯224Ã—224ï¼‰ï¼Œæœ€åŽçš„è¾“å‡ºæ˜¯7Ã—7çš„feature mapï¼Œé€‰æ‹©è¿™ä¸ªå€æ•°ï¼Œåœ¨å‡å°‘æ¨¡åž‹çš„å‚æ•°é‡å’Œè®¡ç®—é‡çš„åŒæ—¶ä¿è¯æœ€åŽçš„feature mapä¸è‡³äºŽä¸¢å¤±å¤ªå¤šä¿¡æ¯ã€‚è¿™å¯¹äºŽåˆ†ç±»é—®é¢˜æ¥è¯´æ˜¯æ¯”è¾ƒåˆç†çš„ï¼Œä½†æ˜¯å¯¹äºŽåˆ†å‰²æˆ–è€…å®šä½æˆ–è€…æ£€æµ‹æ¥è¯´ï¼Œæ¯•ç«Ÿå±žäºŽåƒç´ çº§åˆ«çš„åˆ†ç±»ä»»åŠ¡ï¼Œå¦‚æžœè¿˜æ˜¯é€‰æ‹©32çš„æ€»æ­¥é•¿ï¼ŒåŠ¿å¿…ä¼šä¸¢æŽ‰ä¸€äº›ä¿¡æ¯ã€‚ä½†æ˜¯å¦‚æžœé€‰æ‹©å°çš„æ­¥é•¿ï¼Œåˆä¼šä½¿æ„Ÿå—é‡Žå˜å°ã€‚æ‰€ä»¥çŽ°åœ¨æœ‰äº›æ–‡ç« ä¼šé‡‡ç”¨ up-convolutions, skip connections, and posthoc dilationç­‰æ“ä½œåœ¨é™ä½Žæ­¥é•¿çš„åŒæ—¶ï¼Œç»´æŒæ„Ÿå—é‡Žã€‚ è¿™ç¯‡æ–‡ç« ä½¿ç”¨äº† Dilated Convolution ï¼Œä¹Ÿå°±æ˜¯ç©ºæ´žå·ç§¯ï¼Œæˆ–è€…è†¨èƒ€å·ç§¯ï¼Œæˆ–è€…å¸¦å­”å·ç§¯ã€‚ç©ºæ´žå·ç§¯çš„ä½¿ç”¨ä½¿å¾—ç½‘ç»œå¯ä»¥åœ¨å‡å°‘æ­¥é•¿çš„æƒ…å†µä¸‹ï¼Œä¿æŒæ„Ÿå—é‡Žä¸å˜ã€‚å…³äºŽç©ºæ´žå·ç§¯çš„åŽŸç†è§ [å‚è€ƒèµ„æ–™ 1]ï¼Œè¿™é‡Œä¸å†å™è¿°ã€‚ Dilated Convolution ä¸ŽResNetçš„ç»“åˆï¼Œæ‰€ä»¥æœ¬æ–‡å«åšDilated Residual NetWorksï¼Œç®€ç§°DRNã€‚ 1 DRNResNetçš„æ€»æ­¥é•¿ä¸º32ï¼Œç”±äºŽç›´æŽ¥é™ä½Žæ­¥é•¿ä¼šå½±å“æ„Ÿå—é‡Žï¼Œæ‰€ä»¥ä½œè€…ä½¿ç”¨ Dilated Convolution æ¥æ”¹è¿›ResNetã€‚ å¦‚ä¸‹å›¾ï¼ŒDRNä¸ŽResNetçš„å¯¹æ¯”ã€‚ DRNä¸­çš„Group4å’ŒGroup5çš„æ­¥é•¿strideå˜æˆäº†1ï¼Œè¿™å¯¼è‡´æ•´ä¸ªDRNçš„æ€»æ­¥é•¿å˜ä¸º8. Group4ä¸­ï¼Œç¬¬ä¸€å±‚ dilation=1ï¼Œæœ¬å±‚æ„Ÿå—é‡Žæ²¡æœ‰å˜ï¼Œä½†æ˜¯åŽç»­å·ç§¯å±‚çš„æ„Ÿå—é‡Žä¼šå˜å°ï¼Œå› æ­¤é‡‡ç”¨dilation=2ï¼Œç»´æŒæ„Ÿå—é‡Žä¸å˜ Group5ä¸ŽåŽŸæ¥ç›¸æ¯”ï¼Œç›¸å½“äºŽå°‘äº†2ä¸ªstride=2çš„å±‚ï¼Œä¸ºäº†ç»´æŒæ„Ÿå—é‡Žä¸å˜ï¼Œä½¿dilation=4 è¿™é‡Œç¨å¾®è§£é‡Šä¸‹ï¼š å‡è®¾è¾“å…¥ï¼Œè¾“å‡ºä¸ºï¼šInput: $(N, C_{in}, H_{in}, W_{in})$ï¼ŒOutput: $(N, C_{out}, H_{out}, W_{out})$ è¾“å‡ºçš„è®¡ç®—æ˜¯è¿™æ ·çš„ï¼š$$\begin{align}\begin{aligned}H_{out} = \left\lfloor\frac{H_{in} + 2 \text{padding}[0] - \text{dilation}[0] (\text{kernel_size}[0] - 1) - 1}{\text{stride}[0]} + 1\right\rfloor\\W_{out} = \left\lfloor\frac{W_{in} + 2 \text{padding}[1] - \text{dilation}[1] (\text{kernel_size}[1] - 1) - 1}{\text{stride}[1]} + 1\right\rfloor\end{aligned}\end{align}$$æ„Ÿå—é‡Žçš„è®¡ç®— [å‚è€ƒèµ„æ–™ 2,3]ã€‚ å½“ç„¶è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥åŠ åˆ° Group2å’Œ3çš„ï¼Œé‚£æ ·å°±è¾¾åˆ°æ€»æ­¥é•¿ä¸º1äº†ï¼Œä½†æ˜¯è¿™æ ·å‚æ•°é‡ä¼šå¾ˆå¤šã€‚æ–‡ç« çš„åˆ†æžï¼Œæ­¥é•¿ä¸º8å·²è¶³å¤Ÿåº”å¯¹ï¼Œåˆ†å‰²è¿™ç§åƒç´ çº§åˆ«çš„ä»»åŠ¡äº†ã€‚ ä»¥ä¸Šå°±æ˜¯å¯¹ResNetçš„åŸºç¡€æ”¹è¿›ï¼Œæ¯”è¾ƒç®€å•ï¼ŒåªåŠ äº†dilationã€‚ 2 Localizationåœ¨é’ˆå¯¹å®šä½æˆ–è€…åˆ†å‰²ä»»åŠ¡æ—¶ï¼Œä½œè€…è¿˜åšäº†ä¸€ç‚¹æ”¹åŠ¨ï¼Œå¦‚ä¸‹å›¾ï¼š è¿™å°±æ˜¯å°†æœ€åŽçš„average global poolingæ¢æˆäº† 1Ã—1 å·ç§¯ï¼Œä½¿å¾—è¾“å‡ºå˜æˆä¸€ä¸ªchannel=nï¼Œnä¸ºç±»åˆ«æ•°çš„feature mapï¼Œè¿™åœ¨åˆ†å‰²ä¸­æ˜¯æ¯”è¾ƒå¸¸è§çš„å¤„ç†ï¼Œè¾“å‡ºçš„æ˜¯ä¸€ä¸ª28Ã—28çš„score mapï¼Œè€Œå…¶ä»–æ–‡ç« ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯14Ã—14å¤§å°çš„score mapã€‚28Ã—28æ˜Žæ˜¾å¯ä»¥ä¿ç•™æ›´å¤šä¿¡æ¯ã€‚ åšObject Localizationæ—¶çš„å¤„ç†ï¼š å‡è®¾æœ€åŽç”Ÿæˆçš„score mapæ˜¯CÃ—WÃ—Hçš„ï¼ŒCä¸ºç±»åˆ«ï¼ŒW,Hä¸ºå®½é«˜ï¼Œå¯¹å¯¹ImageNetæ¥è¯´å°±æ˜¯ 1000Ã—28Ã—28.ä»¤ $f(c,w,h)$ ä¸º åæ ‡ $(w,h)$ å¤„çš„æ¿€æ´»å€¼åŽè€…å«åšå¾—åˆ†ã€‚ é‚£ä¹ˆç”¨ä¸‹å¼è¡¨ç¤º åæ ‡ $(w,h)$å¤„çš„ç±»åˆ«ï¼š åæ ‡ $(w,h)$ åœ¨æ‰€æœ‰Cä¸ªç±»åˆ«ä¸­ï¼Œå¾—åˆ†æœ€å¤§çš„ä½œä¸ºå½“å‰åæ ‡çš„ç±»åˆ« c bounding boxç”±ä¸‹å¼ç¡®å®šï¼š ç±»åˆ«ä¸º $c_i$ ï¼Œä¸”å¾—åˆ†å¤§äºŽ é˜ˆå€¼ $t$ çš„é‚£äº›åæ ‡é›†åˆæž„æˆçš„bounding box ä»¥ä¸Šbounding boxçš„ç¡®å®šï¼Œå¯¹äºŽclass $c_i$ ,è‚¯å®šä¼šç¡®å®šä¸‹å¤šä¸ªbounding boxï¼Œä½¿ç”¨ä¸‹å¼æ‰¾åˆ°ä¸Žç›®æ ‡æœ€è´´åˆ‡çš„é‚£ä¸ªã€‚ æ›´æœ‰è¶£çš„æ˜¯ï¼Œå¯¹è¿™ä¸ª Object Localization å¯ä»¥ç›´æŽ¥æ‹¿ åˆ†ç±»ç½‘ç»œæ¥åšï¼Œè¿žfine-tuningéƒ½ä¸ç”¨äº†ã€‚ 3 DegriddingDilated Convolution çš„ç½‘æ ¼åŒ–çŽ°è±¡ï¼Œè¿™æ˜¯ç”±äºŽç©ºæ´žå·ç§¯æœ¬èº«çš„é—®é¢˜å¸¦æ¥çš„ã€‚ æ¯”å¦‚ä¸‹é¢ (c) åˆ—ï¼Œfeature mapä¸Šæœ‰å¾ˆæ˜Žæ˜¾çš„ç½‘æ ¼åŒ–çŽ°è±¡. ä½œè€…ä¹Ÿç»™äº†ä¸€ä¸ªå›¾æ¥è§£é‡Š,ç½‘æ ¼åŒ–çŽ°è±¡äº§ç”Ÿçš„åŽŸå› : ç½‘æ ¼åŒ–çŽ°è±¡ä¼šå½±å“ç½‘ç»œçš„æ€§èƒ½ï¼ŒäºŽæ˜¯ä½œè€…è®¾è®¡äº†åŽ»ç½‘æ ¼åŒ–ï¼ˆDegriddingï¼‰çš„ç»“æž„ï¼Œå¦‚ä¸‹å›¾ï¼š DRN-A-18ä¸ŽResNet18çš„ç»“æž„ç±»ä¼¼ï¼Œåªåšäº†stride å’Œ dilationçš„è½¬æ¢ DRN-B-26ï¼šä¸ºäº†æ¶ˆé™¤ç½‘æ ¼åŒ–çŽ°è±¡ï¼Œåœ¨æ•´ä¸ªç½‘ç»œåŽé¢å†åŠ ä¸¤ä¸ªshortcut block ä½†æ˜¯è€ƒè™‘åˆ°shortcut blockä¸­çš„shortcutä¼šæŠŠè¾“å…¥å±‚ç›´æŽ¥åŠ åˆ°è¾“å‡ºï¼Œè¿˜æ˜¯ä¼šäº§ç”Ÿç½‘æ ¼çŽ°è±¡ï¼Œæ‰€ä»¥å–å‡ºshortcut connection ä¸ºäº†æ¶ˆé™¤ç½‘æ ¼çŽ°è±¡ï¼Œä½œè€…çš„æ”¹è¿›æ–¹æ³•æœ‰å¦‚ä¸‹ä¸‰ç§ï¼š Removing max pooling å¦‚ä¸Šå›¾ï¼Œè€ƒè™‘åˆ°ResNetä¸­ ç¬¬ä¸€ä¸ªå·ç§¯å±‚åŽé¢çš„ max poolingï¼Œå…¶æå–åˆ°çš„ä¿¡æ¯é«˜é¢‘éƒ¨åˆ†å ä¸»è¦åœ°ä½ï¼ˆfigure 6(b)ï¼‰ï¼Œè¿™äº›é«˜é¢‘ä¿¡æ¯ä¼šä½¿åŽç»­çš„feature mapä¸­çš„ç½‘æ ¼åŒ–çŽ°è±¡åŠ é‡ï¼Œå› æ­¤ä½œè€…ç§»é™¤äº† max pooling æ¢æˆäº†stride=2çš„å·ç§¯å±‚ï¼Œfigure 6(c)ä½œä¸ºå¯¹æ¯”ç»“æžœã€‚ Adding layers åœ¨ç½‘ç»œåŽé¢æ·»åŠ  dilation è¾ƒå°çš„å·ç§¯å±‚ï¼Œå¦‚Figure 5(b)ï¼Œé€šè¿‡ç½‘ç»œå­¦ä¹ ï¼Œæ¶ˆé™¤ç½‘æ ¼çŽ°è±¡ã€‚ Removing residual connections å› ä¸ºshortcut connection çš„å­˜åœ¨ï¼Œä¼šä½¿ level6ï¼ˆdilation=4ï¼‰çš„è¾“å‡ºç›´æŽ¥åŠ åˆ° level7 çš„è¾“å‡ºä¸Šï¼ˆlevel7å’Œ8ä¹Ÿæ˜¯åŒæ ·çš„ï¼‰ï¼Œå› æ­¤å°†shortcut connection åŽ»æŽ‰ï¼Œå¦‚Figure 5(c)ã€‚ ä¸‹å›¾æ˜¯DRN-Cç»“æž„ä¸­ä¸åŒå±‚çš„feature mapå¯è§†åŒ–ç»“æžœï¼š level5ï¼ˆdilation=2ï¼‰å’Œlevel6ï¼ˆdilation=4ï¼‰çš„ç½‘æ ¼çŽ°è±¡è¿˜æ¯”è¾ƒä¸¥é‡ï¼Œè€Œæœ€ç»ˆçš„ class activation ä¸­çš„ç½‘æ ¼çŽ°è±¡å·²ç»æ¶ˆé™¤çš„å¾ˆä¸é”™äº†ã€‚ 4 Experiments4.1 Image ClassificationTraining is performed by SGD with momentum 0.9 and weight decay 10e-4. The learning rate isinitially set to 10e-1 and is reduced by a factor of 10 every 30 epochs. Training proceeds for 120 epochs total. ImageNet åˆ†ç±»å®žéªŒï¼Œtop-1å’Œtop-5é”™è¯¯çŽ‡ åŒç­‰æ·±åº¦æƒ…å†µä¸‹ DRNçš„æ•ˆæžœæ¯”ResNetå¥½ è€Œä¸”æ•ˆæžœ DRN-C &gt; DRN-B &gt; DRN-A ï¼Œè¯´æ˜Žæ¶ˆé™¤ç½‘æ ¼çŽ°è±¡çš„æŽªæ–½æ˜¯æœ‰ç”¨çš„ DRN-C-42ä¸Ž ResNet101çš„ç»“æžœç›¸å½“ï¼Œè€Œæ·±åº¦åªæœ‰ä¸åˆ°ä¸€åŠï¼Œè®¡ç®—é‡ä¹Ÿæ›´å°‘ 4.2 Object Localizationåœ¨ImageNetä¸Šçš„ Localizationç»“æžœï¼Œä¹Ÿæ˜¯é”™è¯¯çŽ‡ è¿˜æ˜¯DRN å¥½ DRN-C-26æ¯”ResNet101ç»“æžœéƒ½è¦å¥½ï¼Œè€Œæ·±åº¦åªæœ‰26å±‚ DRN-Cæ¯”DRN-Bå’ŒDRN-Aæ•ˆæžœæ›´å¥½ 4.3 Semantic SegmentationCityscapes æ•°æ®é›†ä¸Šçš„åˆ†å‰²ç»“æžœï¼š baseline æ˜¯ResNet101ï¼Œå…¶ç»“æžœæ˜¯ 66.6ï¼ŒDRNçš„æ•ˆæžœè¦æ›´å¥½ã€‚ DRN-A-50è™½ç„¶å­˜åœ¨ç½‘æ ¼åŒ–çŽ°è±¡ï¼Œä½†ä»ç„¶èµ¶ä¸Š ResNetäº† DRN-C-26æ¯”DRN-A-50è¿˜è¦å¥½ï¼Œè€Œç½‘ç»œæ·±åº¦åªæœ‰ä¸€åŠå¤šä¸€ç‚¹ï¼Œè¯´æ˜Žæ¶ˆé™¤ç½‘æ ¼å¾ˆæœ‰å¿…è¦ ä¸‹å›¾æ˜¯DRNä¸åŒé…ç½®çš„æœ€ç»ˆåˆ†å‰²ç»“æžœå±•ç¤ºï¼ŒDRN-C-26çš„ç»“æžœå·²ç»å¾ˆå¥½äº†ã€‚ 5 æ€»ç»“ å¯¹äºŽåˆ†å‰²ä»»åŠ¡ï¼Œå‡å°‘äº†æ­¥é•¿ï¼Œä½¿æœ€åŽç”¨äºŽåˆ†ç±»çš„feature mapæ›´ç²¾ç»†ï¼Œå¹¶å°†dilated convolutionä¸ŽResNetç»“åˆï¼Œä¿æŒæ„Ÿå—é‡Žã€‚ DRNå¯¹äºŽåˆ†ç±»ï¼Œå®šä½ï¼Œåˆ†å‰²çš„æ•ˆæžœå‡å¥½äºŽä»¥ResNetä¸ºbackboneçš„æ¨¡åž‹ã€‚ å¤§å¤§å‡å°‘äº†ç½‘ç»œæ·±åº¦ï¼Œè€Œä¸”å‡å°‘äº†è®¡ç®—é‡ã€‚ å‚è€ƒèµ„æ–™ çŸ¥ä¹Žï¼šå¦‚ä½•ç†è§£ç©ºæ´žå·ç§¯ï¼ˆdilated convolutionï¼‰ï¼Ÿ CNNä¸­æ„Ÿå—é‡Žçš„è®¡ç®— å·ç§¯ç¥žç»ç½‘ç»œç‰©ä½“æ£€æµ‹ä¹‹æ„Ÿå—é‡Žå¤§å°è®¡ç®— A guide to receptive field arithmetic for Convolutional Neural Networks https://pytorch.org/docs/stable/nn.html?highlight=conv2d#torch.nn.Conv2d]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>basic dl models</tag>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>DRN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-An Analysis of Scale Invariance in Object Detection â€“ SNIP-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F89e6ce5e%2F</url>
    <content type="text"><![CDATA[CVPR2018 the Best Student Entry in the COCO 2017 challengeè®ºæ–‡ï¼šAn Analysis of Scale Invariance in Object Detection-SNIPä»£ç ï¼šhttps://github.com/bharatsingh430/snip è¿™ç¯‡è®ºæ–‡çœ‹äº†å‡ éæ‰çœ‹æ˜Žç™½ä»€ä¹ˆæ„æ€ï¼Œå“Žï¼ŒåŠŸåŠ›ç«å€™ä¸å¤Ÿå•Šã€‚ã€‚ã€‚ä¸è¿‡æ„Ÿè§‰è¶Šçœ‹è¶Šæœ‰æ„æ€ï¼Œæ–‡ç« æ€æƒ³è¿˜æ˜¯å¾ˆå·§å¦™çš„ã€‚ è¿™é‡Œè¿˜æœ‰ä¸ªçŽ‹ä¹ƒå²©å¤§ç¥žå†™çš„ https://zhuanlan.zhihu.com/p/36431183 SNIPçš„å‰–æžï¼Œå†™çš„å¾ˆæ·±å…¥ï¼Œè¦æ˜¯çœ‹æ˜Žç™½äº†è¿™ä¸ªï¼Œå°±ä¸ç”¨çœ‹è¿™ç¯‡æ–‡ç« äº†ã€‚ 1 é—®é¢˜æå‡ºè®¡ç®—æœºè§†è§‰é—®é¢˜ä¸­ï¼Œåˆ†ç±»ï¼ˆclassificationï¼‰ä»»åŠ¡æ˜¯æœ€ç®€å•çš„ï¼Œè€Œä¸”æœ€è¿‘å‡ å¹´éšç€å„ç§æ–°çš„æ¨¡åž‹æå‡ºï¼ŒImageNetåˆ†ç±»å‡†ç¡®çŽ‡é€æ­¥æé«˜ï¼ŒçŽ°åœ¨å·²ç»èƒ½å¤Ÿè¶…è¿‡äººç±»çš„è¯†åˆ«çŽ‡ï¼Œtop-5å‡†ç¡®çŽ‡å·²ç»æé«˜åˆ°98%å·¦å³ï¼ˆSENETï¼‰ã€‚ä½†æ˜¯å¯¹äºŽæ£€æµ‹ï¼ˆdetectionï¼‰æ¥è¯´ï¼ŒæŒ‰ç…§æ£€æµ‹ä»»åŠ¡çš„è¯„ä¼°æ–¹æ³•ï¼ˆmAP/APï¼Œå…³äºŽmAP/APçš„ä»‹ç»å¯ä»¥å‚è€ƒè¿™é‡Œï¼‰ï¼Œå¦‚æžœä¸è€ƒè™‘ä½¿ç”¨é¢å¤–çš„æ•°æ®ï¼Œé‚£ä¹ˆPASCAL VOC æŽ’è¡Œæ¦œæœ€é«˜ä¸º77.5ï¼ˆmAPï¼‰ï¼ŒMS COCOæŽ’è¡Œæ¦œæœ€é«˜ä¸º 73.0 ï¼ˆAP@0.5ï¼‰ã€‚è™½ç„¶åˆ†ç±»ä¸Žæ£€æµ‹ä½¿ç”¨çš„è¯„ä¼°æ ‡å‡†ä¸ä¸€æ ·ï¼Œåˆ†åˆ«æ˜¯å‡†ç¡®çŽ‡ï¼ˆaccuracyï¼‰å’Œç²¾åº¦ï¼ˆprecisionï¼‰ï¼Œä½†æ˜¯ä»Žå‘å±•çš„é€Ÿåº¦æ¥çœ‹ï¼Œæ˜Žæ˜¾æ£€æµ‹ä»»åŠ¡çš„å‘å±•æ˜¯æ¯”è¾ƒç¼“æ…¢çš„ï¼Œè¿™ä¹Ÿè¯´æ˜Žäº†æ£€æµ‹ä»»åŠ¡çš„å¤æ‚æ€§å’Œéš¾åº¦ã€‚æ£€æµ‹ä»»åŠ¡ä¸ºä»€ä¹ˆæ¯”åˆ†ç±»éš¾ï¼Œä¸€ä¸ªå®è§‚ä¸Šçš„åŽŸå› æ˜¯ç”±äºŽ æ£€æµ‹æ˜¯ä¸€ç§å¯†é›†åž‹çš„åˆ†ç±»ä»»åŠ¡ï¼ˆå½“ç„¶æœ‰äº›æ¨¡åž‹ä¼šç”¨å›žå½’çš„æ–¹å¼æ¥æ£€æµ‹ï¼‰ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¾ˆå¤šå…¶ä»–åŽŸå› ï¼Œè¿™é‡Œä¸è¯¦ç»†åˆ†æžã€‚å½“ç„¶è¿™é‡Œè‚¯å®šè¦æå‡ºä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„åŽŸå› ï¼Œè¿™ç¯‡è®ºæ–‡ä¹Ÿæ˜¯é’ˆå¯¹è¿™ä¸ªåŽŸå› æå‡ºçš„ä¼˜åŒ–è®­ç»ƒæ–¹æ³•ã€‚ æ£€æµ‹ä»»åŠ¡ç”±äºŽç›®æ ‡çš„å¤§å°ï¼Œå½¢çŠ¶ä¸ä¸€ï¼Œå› æ­¤åœ¨æ£€æµ‹æ—¶éœ€è¦å¤„ç†çš„ä¸€ä¸ªé‡è¦çš„ç‚¹ï¼Œæ˜¯scaleã€‚é¦–å…ˆå°ç›®æ ‡çš„scaleå¤ªå°äº†ï¼Œå…¶æ¬¡å¤§ç›®æ ‡å’Œå°ç›®æ ‡çš„scaleè·¨åº¦å¤ªå¤§ã€‚è¿™ä¸¤ä¸ªscaleä¸Šçš„é—®é¢˜æ˜¯æ£€æµ‹ä»»åŠ¡éš¾åº¦å¤§ã€åˆ¶çº¦æ£€æµ‹ç²¾åº¦çš„éš¾ç‚¹ä¹‹ä¸€ã€‚å…³äºŽscaleçš„å«ä¹‰ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸º ç›®æ ‡é¢ç§¯å¼€å¹³æ–¹ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸è¯´æŸä¸ªå›¾ç‰‡æ˜¯ 224Ã—224å¤§å°çš„ï¼Œæˆ–è€…æŸä¸ªç›®æ ‡æ˜¯ 30Ã—30 å¤§å°çš„ï¼Œè¿™ä¸ª224å’Œ30å°±æ˜¯scaleã€‚ æŽ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ImageNetå’ŒCOCOæ•°æ®é›†ä¸­çš„å›¾ç‰‡åœ¨scaleä¸Šçš„åˆ†å¸ƒï¼ˆçŽ°åœ¨çš„æ–°çš„æ£€æµ‹æ¨¡åž‹å¾€å¾€æ›´å…³æ³¨COCOä¸Šçš„ç»“æžœï¼ŒVOCç”¨çš„ä¸å¤šäº†ï¼‰: è¿™ä¸ªå›¾ä¹çœ‹èµ·æ¥æœ‰ç‚¹æ‡µï¼Œæ¨ªè½´ç«–è½´éƒ½æ˜¯scaleã€‚æ¨ªè½´çš„scaleæ˜¯ç›®æ ‡å¤§å°ç›¸å¯¹äºŽå›¾ç‰‡å¤§å°çš„ç›¸å¯¹scaleï¼Œç«–è½´æ˜¯å½“å‰scaleä¸‹çš„ç›®æ ‡æ•°é‡å æ•°æ®é›†ä¸­æ‰€æœ‰ç›®æ ‡æ•°é‡çš„ç™¾åˆ†æ¯”ã€‚è¿™åº”è¯¥æ˜¯ä¸€ä¸ªç´¯åŠ çš„ç»Ÿè®¡ï¼Œæ¯”å¦‚ç®­å¤´æ‰€æŒ‡çš„ç‚¹ä»£è¡¨çš„æ„æ€æ˜¯ï¼šCOCOæ•°æ®é›†ä¸­ï¼Œç›¸å¯¹scaleå°äºŽ0.106çš„ç›®æ ‡å æ‰€æœ‰ç›®æ ‡æ•°é‡çš„50%ã€‚ å¯çŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š ImageNetä¸­ç›®æ ‡scaleåˆ†å¸ƒæ¯”è¾ƒå‡åŒ€ï¼šæœ‰ä¸€åŠçš„ç›®æ ‡å…¶relative scaleæ˜¯ $\le 0.556$ï¼ˆmedia scaleï¼‰çš„ï¼Œå¤§å°ç›®æ ‡æ•°é‡åŸºæœ¬å¹³è¡¡ã€‚ COCOä¸­æ˜Žæ˜¾å°ç›®æ ‡å æ¯”æ›´å¤šï¼šå› ä¸ºæœ‰ä¸€åŠçš„ç›®æ ‡å…¶relative scaleæ˜¯ $\le 0.106$ï¼ˆsmall scaleï¼‰çš„ï¼ˆé¢ç§¯ç›¸å½“äºŽå°äºŽåŽŸå›¾é¢ç§¯çš„1%ï¼Œæ³¨æ„å¹³æ–¹å…³ç³»ï¼‰ï¼Œè€Œä¸”æœ‰90%çš„ç›®æ ‡å…¶relative scaleæ˜¯ $\le 0.472$ ï¼ˆmedia scaleï¼‰çš„ï¼Œåªæœ‰å‰©ä¸‹å·®ä¸å¤š10%æ‰æ˜¯ large scaleçš„ã€‚ COCOä¸­ç›®æ ‡scaleè·¨åº¦å¤§ï¼šmedia scaleï¼ˆ0.472ï¼‰ å’Œ smallest scaleï¼ˆ0.024ï¼‰ç›¸å·®20å€ã€‚ ä¸Šé¢çš„çŽ°è±¡é€ æˆçš„åŽæžœæ˜¯ï¼š å¯¹äºŽæ£€æµ‹å™¨æ¥è¯´è¦å¤„ç†è¿™ä¹ˆå¤§è·¨åº¦çš„scaleæ˜¯å¾ˆå›°éš¾çš„ï¼Œ scale invarianceå°†ä¼šå—åˆ°æžå¤§å½±å“ã€‚ ImageNetä¸ŽCOCOæ•°æ®é›†åœ¨scaleä¸Šçš„åˆ†å¸ƒå·®å¼‚ï¼Œåœ¨è¿ç§»å­¦ä¹ æ—¶å°†ä¼šé€ æˆdomain-shiftã€‚ ä¸ºäº†è§£å†³å°ç›®æ ‡æ£€æµ‹å›°éš¾ï¼Œscale å˜åŒ–è·¨åº¦å¤§ç­‰é—®é¢˜ï¼Œæœ‰å¾ˆå¤šå­¦è€…æå‡ºäº†å¾ˆå¤šæ–¹æ³•ï¼š ç»“åˆæ·±å±‚feature mapå’Œæµ…å±‚feature mapé¢„æµ‹å°ç›®æ ‡ ä½¿ç”¨dilated/deformable convolutionï¼ˆè†¨èƒ€å·ç§¯ï¼‰æ¥å¢žåŠ æ„Ÿå—é‡Žï¼Œè¿™å¯ä»¥ä½¿æ£€æµ‹å™¨å¯¹scaleè·¨åº¦å¤§çš„é—®é¢˜é€‚åº”æ€§æ›´å¼ºï¼ˆå› ä¸ºä½¿ç”¨é«˜åˆ†è¾¨çŽ‡å›¾åƒæˆ–è€…ä¸Šé‡‡æ ·æ¥å¢žåŠ å°ç›®æ ‡æ—¶ï¼Œä¼šä½¿å¤§ç›®æ ‡å˜å¾—æ›´å¤§ï¼Œä¹Ÿä¸åˆ©äºŽæ£€æµ‹ï¼‰ã€‚ åœ¨ä¸åŒåˆ†è¾¨çŽ‡çš„å›¾åƒä¸Šç‹¬ç«‹çš„é¢„æµ‹ä¸åŒscaleçš„ç›®æ ‡ã€‚ å¢žåŠ contextä¿¡æ¯ multi-scale training multi-scale inference on an image pyramid combined NMS ä»¥ä¸Šå‡ ç§æ–¹æ³•çš„ä»£è¡¨æ€§è®ºæ–‡åŸºæœ¬éƒ½æ˜¯æ£€æµ‹é¢†åŸŸä¸­æ¯”è¾ƒé‡è¦çš„è®ºæ–‡ï¼Œå…·ä½“çœ‹åŽŸæ–‡å§ï¼Œè¿™é‡Œä¸æäº†ã€‚ ä»¥ä¸Šæ–¹æ³•éƒ½è§£å†³äº†ä¸€äº›é—®é¢˜ï¼Œä½œè€…æå‡ºäº†ä¸¤ä¸ªé—®é¢˜ï¼š å¯¹èŽ·å¾—æ›´å¥½çš„ç²¾åº¦æ¥è¯´ï¼Œå›¾ç‰‡çš„ä¸Šé‡‡æ ·æ˜¯æœ‰å¿…è¦çš„å—ï¼Ÿæ£€æµ‹ç”¨æ•°æ®é›†ä¸­é¢å›¾ç‰‡ä¸€èˆ¬å¤§å°éƒ½åœ¨ 480Ã—640å·¦å³ï¼Œä½†æ˜¯ä¸ºäº†æå‡å¯¹å°ç›®æ ‡æ£€æµ‹æ•ˆæžœï¼ŒçŽ°åœ¨çš„å¾ˆå¤šæ£€æµ‹æ¨¡åž‹åœ¨è®­ç»ƒæ—¶éƒ½ä¼šå›¾ç‰‡æ”¾å¤§åˆ° 800Ã—1000 å·¦å³çš„å¤§å°ã€‚èƒ½ä¸èƒ½åœ¨ImsgeNetä¸Šè®­ç»ƒä¸€ä¸ªæ€»æ­¥é•¿è¾ƒå°çš„æ¨¡åž‹ï¼Œç„¶åŽå†å°†å®ƒè¿ç§»åˆ°æ£€æµ‹æ•°æ®é›†ä¸Šæ£€æµ‹å°ç›®æ ‡ï¼Ÿ åœ¨è¿ç§»å­¦ä¹ æ—¶ï¼Œæ˜¯å¦åº”è¯¥å°†ç›®æ ‡çš„å¤§å°éƒ½å›ºå®šåœ¨ä¸€ä¸ªèŒƒå›´æ¯”å¦‚ä»Ž 64Ã—64 åˆ° 256Ã—256ï¼Œæ˜¯å¦åº”è¯¥å°†resizeè¿‡çš„ç›®æ ‡å…¨éƒ¨ç”¨äºŽè®­ç»ƒï¼Ÿ 2 Multi-scale ClassificationçŽ°åœ¨çš„å¾ˆå¤šæ£€æµ‹æ¨¡åž‹ä¸ºäº†æå‡å¯¹å°ç›®æ ‡çš„æ£€æµ‹ç²¾åº¦ï¼Œä¸€èˆ¬éƒ½ä¼šåœ¨ 800Ã—1200çš„åˆ†è¾¨çŽ‡ä¸Šè®­ç»ƒå›¾ç‰‡ï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡å¯¹å°ç›®æ ‡çš„ç›‘æµ‹ç²¾åº¦ï¼Œåœ¨inferenceæ—¶ä¼šè¿›ä¸€æ­¥æ”¾å¤§å›¾ç‰‡ï¼Œæ¯”å¦‚åœ¨1400Ã—2000çš„åˆ†è¾¨çŽ‡ä¸Šæ£€æµ‹ã€‚ ä¹Ÿå°±æ˜¯è¯´ trainå’Œtest(inference)ä¹‹é—´æ˜¯å­˜åœ¨domain shift çš„ã€‚ å½“ç„¶ä»Žç›´è§‚æ¥è¯´ï¼Œæ”¾å¤§å›¾ç‰‡ç¡®å®žä¼šå¢žåŠ æ£€æµ‹æ•ˆæžœï¼Œä½†æ˜¯ä½œè€…åšäº†å¾ˆä¸¥è°¨çš„å®žéªŒæ¥è¯æ˜Žè¿™ä¸ªçŽ°è±¡ã€‚ å¦‚ä¸Šå›¾ï¼Œæ˜¯ä½œè€…æå‡ºçš„ä¸‰ä¸ªç”¨äºŽåšå¯¹ç…§å®žéªŒçš„æ¨¡åž‹ã€‚ CNN-Bï¼šæ˜¯åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒçš„æ•°æ®é›†ä¸Šè®­ç»ƒçš„ï¼ˆImageNet 224ï¼‰ï¼Œç„¶åŽæµ‹è¯•æ—¶ï¼Œå…ˆå°†ImageNetçš„å›¾åƒä¸‹é‡‡æ ·è‡³ 48x48, 64x64, 80x80, 96x96 and 128x128 å¤§å°ï¼Œç„¶åŽå†ä¸Šé‡‡æ ·è‡³224ï¼Œå°†è¿™ä¸ªImageNetç§°ä¸º ImageNet up-sampled low resolution images to 224ã€‚ CNN-Sï¼šæ˜¯åœ¨ä½Žåˆ†è¾¨çŽ‡å›¾åƒçš„æ•°æ®é›†ä¸Šè®­ç»ƒçš„ï¼ˆImageNet 48x48, 64x64, 80x80, 96x96 and 128x128, é€šè¿‡é™é‡‡æ ·å®Œæˆï¼‰ï¼Œæµ‹è¯•ä¹Ÿæ˜¯åœ¨ç›¸åº”åˆ†è¾¨çŽ‡ä¸Šæµ‹è¯•çš„ã€‚ CNN-B-FTï¼šæ˜¯åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒçš„æ•°æ®é›†ä¸Šè®­ç»ƒï¼ˆImageNet 224ï¼‰ï¼Œè€ŒåŽåˆåœ¨ä¸Šé‡‡æ ·åˆ°224çš„ä½Žåˆ†è¾¨çŽ‡çš„æ•°æ®é›†ä¸Šfine tuningçš„ï¼ˆImageNet up-sampled low resolution images to 224æ•°æ®ï¼‰ï¼Œæµ‹è¯•ä¹Ÿæ˜¯åœ¨ImageNet up-sampled low resolution images to 224ä¸Šã€‚ ä¸Šå›¾æ˜¯ç»“æžœåˆ†æžï¼š ï¼ˆaï¼‰ï¼šCNN-B åœ¨ä¸åŒåˆ†è¾¨çŽ‡å›¾åƒä¸Šçš„æµ‹è¯•ç²¾åº¦ï¼Œæ³¨æ„CNN-Bæ˜¯åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒä¸Šè®­ç»ƒçš„ï¼Œç„¶åŽåœ¨ ç”±ä¸åŒä½Žåˆ†è¾¨çŽ‡å›¾åƒ ä¸Šé‡‡æ ·æž„æˆçš„ ImageNet ä¸Šæµ‹è¯•çš„ã€‚å¾ˆæ˜Žæ˜¾ï¼Œæµ‹è¯•å›¾åƒä¸Žè®­ç»ƒå›¾åƒçš„åˆ†è¾¨çŽ‡å·®åˆ«è¶Šå¤§ï¼Œæ•ˆæžœè¶Šå·®ã€‚ä½¿ç”¨ç½‘ç»œæ²¡æœ‰è®­ç»ƒè¿‡çš„å›¾åƒè¿›è¡Œæµ‹è¯•ï¼Œç»“æžœåªèƒ½æ˜¯æ¬¡ä¼˜çš„ï¼Œè‡³å°‘å¯¹äºŽåˆ†ç±»é—®é¢˜æ¥è¯´æ˜¯è¿™æ ·ã€‚ ï¼ˆbï¼‰ï¼Œï¼ˆcï¼‰ï¼šä¸‰ç§è®­ç»ƒå¥½çš„æ¨¡åž‹åœ¨ 48Ã—48 (96Ã—96)å¤§å°çš„ä½Žåˆ†è¾¨çŽ‡å›¾åƒä¸Šçš„æµ‹è¯•ç²¾åº¦ï¼ŒCNN-Bçš„æ•ˆæžœæœ€å·®ï¼ŒCNN-Sæ¬¡ä¹‹ï¼ŒCNN-B-FTæœ€å¥½ã€‚ ç›´æŽ¥ç”¨ä½Žåˆ†è¾¨çŽ‡å›¾åƒè®­ç»ƒï¼ˆCNN-Sï¼Œå‡å°æ­¥é•¿ï¼‰ï¼Œç„¶åŽä½Žåˆ†è¾¨çŽ‡æµ‹è¯•ï¼Œæ•ˆæžœæ˜¯æ¯”è¾ƒå¥½çš„ã€‚ è¿™ç»™æˆ‘ä»¬çš„ç›´æŽ¥å¯å‘æ˜¯å¦‚æžœæ£€æµ‹æ—¶æƒ³è¦æå‡å¯¹å°ç›®æ ‡çš„æ£€æµ‹æ•ˆæžœï¼Œåº”è¯¥ä¸“é—¨åœ¨ä½Žåˆ†è¾¨çŽ‡çš„ImageNetä¸Šè®­ç»ƒä¸€ä¸ªå¯¹ä½Žåˆ†è¾¨çŽ‡å›¾åƒæœ€ä¼˜çš„åˆ†ç±»æ¨¡åž‹ï¼ˆé€šè¿‡å‡å°æ­¥é•¿ï¼‰ï¼Œç„¶åŽå†è¿ç§»åˆ°æ£€æµ‹ä»»åŠ¡ä¸Šï¼Œç”¨äºŽæ£€æµ‹å°ç›®æ ‡ã€‚ å…ˆä»Žé«˜åˆ†è¾¨çŽ‡å›¾åƒè®­ç»ƒç„¶åŽå†åœ¨ä¸Šé‡‡æ ·åŽçš„ä½Žåˆ†è¾¨çŽ‡å›¾åƒä¸Šfine tuning æ•ˆæžœæœ€å¥½ï¼Œè¯´æ˜Žåˆ†ç±»æ¨¡åž‹åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒä¸­å­¦ä¹ åˆ°äº†å…¶ä»–æ›´æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¸Šé‡‡æ ·æ˜¯æœ‰ç”¨çš„ã€‚ è¿™ç»™æˆ‘ä»¬çš„ç›´æŽ¥å¯å‘æ˜¯åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒä¸Šå…ˆé¢„è®­ç»ƒï¼Œç„¶åŽå†åœ¨ä½Žåˆ†è¾¨çŽ‡å›¾åƒä¸Šfine tuningï¼Œå¯¹äºŽåˆ†ç±»å°ç›®æ ‡æ˜¯æœ‰åˆ©çš„ï¼Œåº”è¯¥æ¯”å‰ä¸€æ¡æåˆ°çš„æ–¹æ³•æ›´æœ‰æ•ˆã€‚ è¿›ä¸€æ­¥ï¼š åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒä¸Šå…ˆé¢„è®­ç»ƒï¼Œç„¶åŽå†åœ¨ä½Žåˆ†è¾¨çŽ‡å›¾åƒä¸Šfine tuningï¼Œå¯¹äºŽåˆ†ç±»å°ç›®æ ‡æ—¶æœ‰åˆ©çš„ã€‚ å¦‚æžœæ£€æµ‹æ—¶çš„proposalsä¸ŽImageNeté¢„è®­ç»ƒæ¨¡åž‹çš„åˆ†è¾¨çŽ‡ç›¸è¿‘ï¼Œé‚£ä¹ˆå¯ä»¥å‡å°‘domain shiftã€‚ ä¸Šé‡‡æ ·ç¡®å®žæ˜¯æœ‰ç”¨çš„ çŽ°æœ‰çš„æ£€æµ‹æ¨¡åž‹ä¹Ÿç¡®å®žéƒ½æ˜¯è¿™ä¹ˆåšçš„ï¼Œå…ˆå°†å›¾ç‰‡ä¸Šé‡‡æ ·ï¼ˆ800Ã—1200ï¼‰ï¼Œç„¶åŽä½¿ç”¨åœ¨é«˜åˆ†è¾¨çŽ‡å›¾åƒï¼ˆImageNetï¼‰ä¸Šé¢„è®­ç»ƒçš„æ¨¡åž‹fine tuningã€‚ 3 Multi-scale Detection å‰é¢æåˆ°trainå’Œtestæ—¶åˆ†è¾¨çŽ‡ä¸åŒå°†ä¼šå­˜åœ¨domain shiftï¼Œä½†æ˜¯ç”±äºŽGPUçŽ°å­˜çš„é™åˆ¶ï¼Œè¿™ä¸ªå·®å¼‚ä¸€èˆ¬éƒ½ä¼šå­˜åœ¨ã€‚äº‹å®žæ£€æµ‹æ¨¡åž‹ç»å¸¸ä¼šåœ¨800Ã—1000çš„åˆ†è¾¨çŽ‡ä¸Šè®­ç»ƒï¼Œç„¶åŽå†1400Ã—2000çš„åˆ†è¾¨çŽ‡ä¸Šæµ‹è¯•ã€‚ ä¸‹é¢æ˜¯ä½œè€…åšçš„å‡ ä¸ªå®žéªŒï¼Œä½œè€…å›ºå®šäº†æµ‹è¯•æ—¶çš„åˆ†è¾¨çŽ‡ä¸º 1400Ã—2000 ï¼Œç„¶åŽé€šè¿‡è°ƒæ•´ä¸åŒçš„è¾“å…¥æ¥å¯¹æ¯”COCOæ•°æ®é›†ä¸Šå°ç›®æ ‡ï¼ˆå°äºŽ32Ã—32çš„ç›®æ ‡ï¼‰çš„æ£€æµ‹ç²¾åº¦ã€‚ä½œè€…ä¸»è¦ä½¿ç”¨äº†800Ã—1000å’Œ1400Ã—2000è¿™ä¸¤ç§è¾“å…¥åˆ†è¾¨çŽ‡ï¼Œç„¶åŽå†æ¢¯åº¦åå‘ä¼ æ’­æ—¶ï¼ŒæŠŠæ‰€æœ‰scaleçš„ROIçš„æ¢¯åº¦å›žä¼ ã€‚å› æ­¤ä¸‹è¡¨ 800all,1400allï¼Œå°±æ˜¯ä»£è¡¨è¿™ä¸ªæ„æ€ã€‚ é¦–å…ˆæ˜¯800allå’Œ1400allçš„å¯¹æ¯”ï¼šæŒ‰ç…§å‰é¢ç¬¬2èŠ‚çš„åˆ†æžï¼Œå…³äºŽåˆ†ç±»é—®é¢˜é«˜åˆ†è¾¨çŽ‡å›¾ç‰‡æ˜¯å¯ä»¥æå‡åˆ†ç±»æ•ˆæžœçš„ï¼Œæ‰€ä»¥ç†è®ºä¸Šä½¿ç”¨å¤§åˆ†è¾¨çŽ‡çš„å›¾åƒæ£€æµ‹ï¼Œåº”è¯¥ä¹Ÿä¼šæå‡å°ç›®æ ‡çš„æ£€æµ‹æ•ˆæžœçš„ï¼Œè€Œä¸”1400allæ˜¯ä¸å­˜åœ¨trainå’Œtestçš„domain shiftçš„ï¼Œå› ä¸ºtrainå’Œtestçš„åˆ†è¾¨çŽ‡æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å®žéªŒå‘çŽ°ï¼Œè¿™é‡Œ 1400allçš„ç»“æžœç«Ÿç„¶ä½ŽäºŽ800allï¼Œä½œè€…çš„åˆ†æžæ˜¯æœ‰å¤§åˆ†è¾¨çŽ‡å›¾åƒä¸­mediumå’Œlarge çš„ç›®æ ‡ä¹Ÿä¼šå˜å¾—æ›´å¤§ï¼Œè¿™ä¹Ÿæ˜¯ä¸åˆ©äºŽæ£€æµ‹çš„ï¼Œæ‰€ä»¥è¯´ï¼Œè™½ç„¶å¤§åˆ†è¾¨çŽ‡æœ‰åˆ©äºŽå°ç›®æ ‡æ£€æµ‹ï¼Œä½†æ˜¯æŸå®³äº†ä¸­ç­‰å’Œå¤§ç›®æ ‡çš„æ£€æµ‹æ•ˆæžœã€‚ 1400(&lt;80px)å’Œ1400allçš„å¯¹æ¯”ï¼šä¸ºäº†éªŒè¯ä¸Šé¢çš„è§£é‡Šï¼Œä½œè€…åˆåšäº†ä¸€ä¸ªå®žéªŒï¼Œè¾“å…¥è¿˜æ˜¯1400allï¼Œä½†æ˜¯å°†ç›®æ ‡å¤§äºŽ80pxçš„ç›®æ ‡å…¨éƒ¨éƒ½å¿½ç•¥æŽ‰ï¼Œåªä¿ç•™å°ç›®æ ‡ï¼ŒæŒ‰è¯´æŽ’é™¤äº†å¤§ç›®æ ‡çš„å½±å“ï¼Œå°ç›®æ ‡çš„æ£€æµ‹æ•ˆæžœåº”è¯¥æœ‰æ‰€æå‡ï¼Œä½†æ˜¯å¾ˆä¸å¹¸ï¼Œè¿˜æ˜¯å¾ˆå·®ï¼Œæ¯”800alléƒ½å·®ã€‚ä½œè€…çš„åˆ†æžæ˜¯ï¼Œç§»é™¤å¤§ç›®æ ‡ä¼šæŸå¤±ç›®æ ‡çš„å¤šæ ·æ€§ã€‚è¿™ä¸ªæŸå¤±æŽ©ç›–äº†ç§»é™¤å¤§ç›®æ ‡åœ°ä¼˜åŠ¿ã€‚ MSTï¼šæœ€ç»ˆä½œè€…è¿˜ç”¨ multi-scale trainingï¼Œåšäº†å®žéªŒï¼ˆfigure5.3ï¼‰ï¼Œç»“æžœè¿˜æ˜¯å·®ä¸å¤šï¼Œä½œè€…åˆ†æžçš„åŽŸå› æ˜¯ï¼Œå°scale å›¾åƒä¸­çš„å°ç›®æ ‡æ›´å°äº†ï¼Œå¤§scale å›¾åƒä¸­çš„ç›®æ ‡æ›´å¤§äº†ï¼Œè¿™ç§æžç«¯å°ºå¯¸çš„ç›®æ ‡ä¼šæŸå®³æ€§èƒ½ã€‚ SNIPï¼šæ€§èƒ½æœ€ç‰›ï¼Œä¸‹é¢å†åˆ†æžã€‚ 4 SNIPScale Normalization for Image Pyramids (SNIP). å‰é¢è¯´äº†é‚£ä¹ˆå¤šï¼Œè¿™ä¸€éƒ¨åˆ†æ‰æ˜¯æ–‡ç« çš„æ ¸å¿ƒã€‚ é€šè¿‡ä¸Šé¢çš„åˆ†æžï¼ŒSNIPçš„æ€æƒ³æ˜¯æ¯”è¾ƒæ˜Žæ˜¾çš„ã€‚SNIPè®­ç»ƒçš„æ–¹æ³•æ˜¯ä¸€ç§æ”¹è¿›çš„multi scale trainingï¼Œè€Œä¸”ä»–ä¿è¯äº†ç›®æ ‡å®žä¾‹çš„å¤§å°åœ¨224Ã—224å¤§å°å·¦å³ï¼Œè¿™ä¸ªä¸ŽImageNetä¸Žè®­ç»ƒçš„åˆ†ç±»ç½‘ç»œçš„å°ºåº¦æ˜¯ç»Ÿä¸€çš„ï¼Œå‡å°‘äº†domain shiftã€‚ SNIPåœ¨è®­ç»ƒæ—¶åªè€ƒè™‘äº†é‚£äº›åœ¨åˆé€‚scaleèŒƒå›´å†…çš„ROIï¼Œé‚£äº›æžç«¯å°ºå¯¸çš„ROIéƒ½ç›´æŽ¥è¢«å¿½ç•¥ã€‚ç»“æžœåœ¨table 1ä¸­ä¹Ÿå±•ç¤ºäº†ï¼Œæ•ˆæžœæ˜¯æœ€å¥½çš„ã€‚ ä½œè€…ä½¿ç”¨äº†R-FCNçš„åŸºç¡€æ¨¡åž‹ã€‚ å› ä¸ºæ˜¯multi-scale trainingï¼Œåœ¨æŸä¸ªåˆ†è¾¨çŽ‡ i ä¸Šï¼Œå¦‚æžœä¸€ä¸ªROIçš„å¤§å°è½åœ¨äº†ä¸€ä¸ªæœ‰æ•ˆèŒƒå›´å†…ï¼Œæ¯”å¦‚ $[s_i^c,e_i^c]$ ï¼Œé‚£ä¹ˆè¿™ä¸ªROIå›žè¢«æ ‡è®°ä¸ºæœ‰æ•ˆï¼›å…¶ä½™æ ‡è®°ä¸ºæ— æ•ˆï¼Œæ— æ•ˆçš„ROIåœ¨åå‘ä¼ æ’­æ—¶ä¸äºˆè€ƒè™‘ã€‚è¿™æ ·å°±å¯ä»¥å°†æžç«¯å°ºå¯¸çš„ROIè¿‡æ»¤æŽ‰ã€‚ å®žé™…åœ¨æ“ä½œä¸­ï¼Œground truth boxåœ¨ä¸åŒåˆ†è¾¨çŽ‡çš„å›¾ç‰‡ä¸Šä¼šéšä¹‹æ”¾å¤§æˆ–ç¼©å°ï¼Œå› æ­¤è¿‡å¤§æˆ–è¿‡å°çš„ gt boxå°±è¢«æ ‡è®°ä¸ºæ— æ•ˆã€‚åœ¨RPNå±‚ç”Ÿæˆanchoræˆ–è€… proposalsæ—¶ï¼Œanchorå¦‚æžœä¸Žæ— æ•ˆgt boxçš„IOUå¤§äºŽ0.3ï¼Œé‚£ä¹ˆè¿™äº›anchorå°±ä¼šåœ¨åå‘ä¼ æ’­æ—¶è¢«å¿½ç•¥ã€‚åœ¨æµ‹è¯•æˆ–è€…inferenceæ—¶ï¼Œæ¯å¼ åˆ†è¾¨çŽ‡ä¸åŒçš„å›¾ç‰‡éƒ½è¿è¡Œè¿™æ ·ä¸€ä¸ªæ£€æµ‹å™¨ï¼Œå¯¹äºŽæ£€æµ‹å‡ºæ¥çš„bounding boxå¦‚æžœèŒƒå›´è½åœ¨æœ‰æ•ˆèŒƒå›´ $[s_i^c,e_i^c]$ ä¹‹å¤–ï¼Œå°±ä¼šè¢«å¿½ç•¥ã€‚æœ€ç»ˆä½¿ç”¨NMSã€‚è¿™æ ·å°±ä¿è¯äº†æ¯ä¸ªåˆ†è¾¨çŽ‡å›¾ç‰‡ä¸Šçš„ç›®æ ‡scaleæ˜¯ä¸€æ ·çš„ã€‚ åœ¨ ROI pooling æ—¶ä¿è¯poolingä¹‹åŽçš„ ROI åœ¨224Ã—224å¤§å°ï¼ˆè¿™åœ°æ–¹åº”è¯¥æœ‰ä¸ªresizeæ“ä½œæˆ–è€…resaleæ“ä½œï¼‰ï¼Œè¿™æ ·å°±å‡å°‘äº†ä¸ŽImageNeté¢„è®­ç»ƒçš„åˆ†ç±»ç½‘ç»œçš„domain shiftã€‚ 5 è®­ç»ƒè®­ç»ƒä½¿ç”¨çš„å›¾ç‰‡åˆ†è¾¨çŽ‡æ¯”è¾ƒé«˜ï¼ˆ1400x2000ï¼‰ï¼Œä¸ºäº†å‡å°‘GPUæ˜¾å­˜ï¼Œä½œè€…åœ¨åŽŸå›¾ä¸Šè¿›è¡Œcropï¼Œè£å‰ªå‡º1000Ã—1000å¤§å°çš„chipã€‚è£å‰ªè¿‡ç¨‹æ˜¯ï¼šå…ˆéšæœºç”Ÿæˆ50ä¸ª1000Ã—1000å¤§å°çš„chipï¼Œç„¶åŽé€‰å–åŒ…å«åŒ…å«æœ€å¤šç›®æ ‡çš„chipä¿ç•™ã€‚å¦‚æžœå›¾åƒåˆ†è¾¨çŽ‡æ˜¯ 800x1200 or 480x640 å°±ä¸ç”¨è¿™ä¹ˆéšæœºè£å‰ªäº†ã€‚ æ–‡ç« ä½¿ç”¨äº†ä¸‰ä¸ªscaleçš„image pyramidæ¥åšmulti scale trainingï¼Œåˆ†åˆ«æ˜¯(480, 800), (800, 1200) and(1400,2000), è®­ç»ƒç­–ç•¥ï¼š 7 epochs for the classifier while RPN is trained for 6 epochs warmup learning rate of 0.00005 for 1000 iterations after which it is increased to 0.0005. Step down is performed at 4.33 epochs for RPN and 5.33 epochs otherwise. OHEM online hard examplemining implementation is in MxNet and training is performed on 8 Nvidia P6000 GPUs. Batch size is 1 per GPU and we use synchronous SGD. For efficient utilization of multiple GPUs in parallel, images of only one resolution are included in a mini-batch. ä¸‰ä¸ªscaleçš„imageä½¿ç”¨çš„object çš„scaleåˆ†åˆ«æ˜¯ï¼š images of resolution (1400,2000), the valid range in the original image (without up/down sampling) is [0, 80], at a resolution of (800,1200) it is [40, 160] and at a resolution of (480,800) it is [120, 1]. éšåŽè¿™äº›object å›žè¢«re-scaleåˆ°224Ã—224å¤§å°ã€‚ 6 å®žéªŒç»“æžœå®žéªŒéƒ¨åˆ†è¯¦ç»†çš„æè¿°ä¸æäº†ã€‚ 7 æ€»ç»“ è¿™ç¯‡æ–‡ç« é€šè¿‡å¯¹æ¯”å®žéªŒéªŒè¯äº†ä¸Šé‡‡æ ·å¯¹æå‡åˆ†ç±»æ€§èƒ½æœ‰å¾ˆå¤§å¸®åŠ©ï¼ŒåŸºäºŽæ­¤åˆ†æžä½œè€…æå‡ºäº†ä¸€ç§ Image Pyramid Networkï¼ˆIPNï¼‰ç”¨äºŽç›®æ ‡æ£€æµ‹ï¼Œåœ¨è®­ç»ƒå’Œæµ‹è¯•æ—¶éƒ½ä½¿ç”¨ä¸ŽImageNetåˆ†ç±»ç½‘ç»œåŒæ ·çš„image scaleã€‚ ç”±äºŽè¿‡å°å’Œè¿‡å¤§çš„ç›®æ ‡åˆ†åˆ«åœ¨ å°çš„scaleä¸Šå’Œå¤§çš„scaleä¸Šè¾ƒéš¾è¯†åˆ«ï¼Œå› æ­¤ä½œè€…æå‡ºäº†ä¸€ç§SNIPçš„è®­ç»ƒæ–¹æ³•ï¼Œåœ¨åå‘ä¼ æ’­æ—¶å°†æžç«¯å°ºå¯¸çš„ç›®æ ‡å¿½ç•¥ã€‚ å‚è€ƒèµ„æ–™ çŽ‹ä¹ƒå²©å¤§ç¥žå†™çš„ https://zhuanlan.zhihu.com/p/36431183ï¼Œå†™çš„å¾ˆæ·±å…¥æœ¬è´¨]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>SNIP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-SNIPER-Efficient Multi-Scale Training-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2Ff0c1556d%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šhttps://arxiv.org/abs/1805.09300ä»£ç ï¼šhttps://github.com/MahyarNajibi/SNIPER 1 é—®é¢˜æå‡ºè¿™ç¯‡æ–‡ç« æå‡ºçš„SNIPER(Scale Normalization for Image Pyramids with Efficient Resampling)ç®—æ³•æ˜¯ä¸€ç§å¤šå°ºåº¦ï¼ˆmulti-scaleï¼‰è®­ç»ƒç®—æ³•ã€‚æå‡ºçš„multi-scaleç®—æ³•ä¸æ•¢è¯´å¾ˆæœ‰åˆ›é€ æ€§ï¼Œä½†æ˜¯æ˜¯ä¸€ç§æ¯”è¾ƒæ–°é¢–çš„æ€æƒ³ã€‚ ä¸ºäº†å®žçŽ°å¯¹å›¾ç‰‡ä¸Šä¸åŒå¤§å°ç›®æ ‡çš„æ£€æµ‹ï¼Œéœ€è¦é’ˆå¯¹multi-scaleæå‡ºæœ‰æ•ˆæ–¹æ³•ã€‚çŽ°åœ¨å¾ˆå¤šå…ˆè¿›çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œæ¯”å¦‚Faster R-CNN/Mask R-CNNï¼Œå®ƒä»¬å®žçŽ°multi-scaleçš„æ€è·¯é™¤äº†ä½¿ç”¨anchorçš„æ€æƒ³ä¹‹å¤–ï¼Œä¸€èˆ¬è¿˜éƒ½åŒ…æ‹¬ä¸€ç§å¸¸ç”¨çš„æ‰‹æ®µï¼Œé‚£å°±æ˜¯ image pyramidï¼Œè¿™æ–¹æ³•åœ¨æ—©æœŸçš„ç›®æ ‡æ£€æµ‹ç®—æ³•ä¸­æ˜¯ç»å¸¸ä½¿ç”¨çš„æ–¹æ³•ã€‚ å¦‚ä¸‹å›¾ï¼Œimage pyramid å’Œ anchor æ–¹æ³•å®žçŽ°multi-scaleçš„æ€è·¯å±•çŽ°çš„å¾ˆæ¸…æ¥šäº†ã€‚ çŽ°åœ¨å¤§å¤šæ•°ç›®æ ‡æ£€æµ‹ç®—æ³•ä¸ºäº†æé«˜ç²¾åº¦ï¼Œé™¤äº†ä½¿ç”¨anchorçš„æ€æƒ³å¤–ï¼Œä¸€èˆ¬éƒ½ä¼šæŠŠimage pyramidçš„æ–¹æ³•åŠ è¿›åŽ»ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“çš„ï¼Œè¿™ç§æ–¹æ³•è‚¯å®šä¼šä¸¥é‡å½±å“é€Ÿåº¦ï¼Œä¸ç®¡æ˜¯è®­ç»ƒè¿˜æ˜¯inferenceï¼Œä¸è¿‡ä½†å‡¡æ˜¯ç”¨äº†è¿™ç§æ–¹æ³•çš„ä¸€èˆ¬éƒ½æ˜¯ä¸ºäº†è¿½æ±‚é«˜ç²¾åº¦ï¼Œè€Œæš‚æ—¶ä¸æ³¨é‡é€Ÿåº¦ã€‚ image pyramid å½±å“é€Ÿåº¦çš„åŽŸå› ä¹Ÿå¾ˆæ˜Žäº†ï¼Œæ¯ä¸€ä¸ªscaleçš„å›¾ç‰‡çš„æ‰€æœ‰åƒç´ éƒ½å‚ä¸Žäº†åŽç»­çš„è®¡ç®—ã€‚æ¯”å¦‚ä¸€ä¸ª3scaleçš„image pyramidï¼ˆåˆ†åˆ«æ˜¯åŽŸå›¾çš„1å€ï¼Œ2å€ï¼Œ3å€ï¼‰ï¼Œå®ƒè¦å¤„ç†ç›¸å½“äºŽåŽŸå›¾14å€çš„åƒç´ ï¼ˆè¿™ä¸ª14æ˜¯æ€Žä¹ˆç®—å‡ºæ¥çš„ï¼Ÿï¼ðŸ¤·â€â™‚ï¸ï¼Œéš¾é“ä¸åº”è¯¥æ˜¯6å€ï¼Ÿï¼‰ åœ¨CVPR2018ä¸Šæœ‰è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼ŒAn Analysis of Scale Invariance in Object Detection â€“ SNIP ã€‚è¿™ç¯‡æ–‡ç« æ›¾ç»è¡¨è¿°è¿™æ ·ä¸€ä¸ªè§‚ç‚¹ï¼Œåœ¨multi-scale trainingæ—¶ï¼Œæœ€å¥½æ˜¯å°†æžç«¯åˆ†è¾¨çŽ‡æƒ…å†µä¸‹çš„ç›®æ ‡çš„æ¢¯åº¦å¿½ç•¥ã€‚æ¯”å¦‚åœ¨ 3scalesçš„æƒ…å†µä¸‹ï¼Œåº”è¯¥å°†è¾ƒå¤§åˆ†è¾¨çŽ‡å›¾åƒä¸Šçš„è¾ƒå¤§ç›®æ ‡å’Œè¾ƒå°åˆ†è¾¨çŽ‡å›¾åƒä¸Šçš„è¾ƒå°ç›®æ ‡çš„æ¢¯åº¦å¿½ç•¥ã€‚ å…³äºŽscaleçš„é—®é¢˜å…ˆå›žé¡¾ä¸€ä¸‹RCNNå’ŒFast R-CNN R-CNN R-CNNæ˜¯æ¯”è¾ƒè€çš„ç›®æ ‡æ£€æµ‹æ¡†æž¶äº†ï¼Œä½†æ˜¯å¾ˆå¤šçŽ°ä»£æ–°åž‹çš„ç›®æ ‡æ£€æµ‹ç®—æ³•éƒ½æ˜¯ä»Žå®ƒæ¼”å˜è€Œæ¥çš„ã€‚åœ¨R-CNNæ£€æµ‹çš„ç¬¬äºŒæ­¥é‡Œå¯¹é€šè¿‡selective searchç”Ÿæˆçš„å€™é€‰åŒºåŸŸï¼ˆregion proposalsï¼‰åšäº†warpedæ“ä½œï¼Œä¸€èˆ¬æ˜¯warpæˆ224x224å¤§å°çš„å›¾ç‰‡ï¼Œè¿™ä¸ªæ˜¯CNNä¸­ç»å¸¸ä½¿ç”¨çš„è¾“å…¥å›¾ç‰‡å°ºå¯¸ã€‚å› ä¸ºR-CNNç›¸å½“äºŽä¸€ä¸ªåˆ†ç±»é—®é¢˜ï¼Œå› æ­¤å°†ä¸åŒå¤§å°çš„å€™é€‰åŒºåŸŸç¼©æ”¾æˆå›ºå®šå¤§å°ï¼Œå®žé™…ä¸Šå¼•å…¥äº†å°ºåº¦ä¸å˜æ€§ (scale invariant )ï¼Œè¿™ä¹Ÿè§£å†³äº† multi-scale çš„é—®é¢˜ï¼Œä»»ä½•ä¸€ä¸ªå”¯ä¸€å°ºå¯¸çš„å€™é€‰åŒºåŸŸéƒ½ç›¸å½“äºŽä¸€ä¸ªscaleã€‚ç”±äºŽå€™é€‰åŒºåŸŸæ˜¯ç”±selective searchç”Ÿæˆçš„ï¼Œå› æ­¤æœ‰ä¸€å®šçš„å…ˆéªŒçŸ¥è¯†ï¼Œæ¢å¥è¯è¯´æ¯ä¸ªä¸åŒå¤§å°çš„å€™é€‰åŒºåŸŸï¼Œå…¶scaleä¹Ÿä»£è¡¨äº†objectçš„scaleã€‚è™½ç„¶ç¬¬3æ­¥è¾“å…¥çš„æ˜¯å›ºå®šå¤§å°çš„region proposalsï¼ˆçœ‹èµ·æ¥æ˜¯æ²¡æœ‰è€ƒè™‘scaleçš„ï¼‰ï¼Œä½†æ˜¯scaleå·²ç»åœ¨æå–å€™é€‰åŒºåŸŸæ—¶å’Œç¼©æ”¾æ—¶å®Œæˆäº†ï¼Œå®žé™…ä¸Šè¾“å…¥çš„warped region proposalsæ˜¯æœ‰scaleçš„ã€‚å®ƒæœ€ä¸»è¦çš„é—®é¢˜åœ¨äºŽæå–ç‰¹å¾æ—¶ï¼ŒCNNéœ€è¦åœ¨æ¯ä¸€ä¸ªå€™é€‰åŒºåŸŸä¸Šè·‘ä¸€éï¼Œå€™é€‰åŒºåŸŸä¹‹é—´çš„äº¤å ä½¿å¾—ç‰¹å¾è¢«é‡å¤æå–, é€ æˆäº†ä¸¥é‡çš„é€Ÿåº¦ç“¶é¢ˆ, é™ä½Žäº†è®¡ç®—æ•ˆçŽ‡ã€‚ Fast R-CNN Fast RCNNçš„æå‡ºä¸»è¦æ˜¯è§£å†³äº†R-CNNçš„é€Ÿåº¦é—®é¢˜ï¼Œå®ƒé€šè¿‡å°†selective searchç”Ÿæˆçš„å€™é€‰åŒºåŸŸæ˜ å°„åˆ°feature mapä¸Šï¼Œå®žçŽ°äº†å€™é€‰åŒºåŸŸé—´çš„å·ç§¯è®¡ç®—å…±äº«ï¼ŒåŒæ—¶ç”±äºŽå…±åŒå‚ä¸Žè®¡ç®—ï¼ŒFast R-CNNä¹Ÿèƒ½æ›´å¤šçš„èŽ·å–åˆ°å…¨å±€ä¿¡æ¯ï¼ˆcontexï¼‰ã€‚è€ŒåŒæ—¶æå‡ºçš„ ROI poolingä¹Ÿå°†å¯¹åº”åˆ°feature mapä¸Šçš„å€™é€‰åŒºåŸŸæ± åŒ–åˆ°ç›¸åŒçš„å¤§å°ï¼ŒROI pooling åœ¨æŸç§ç¨‹åº¦ä¸Šä¹Ÿå¯ä»¥å¼•è¿›å°ºåº¦ä¸å˜æ€§ (scale invariant )ï¼Œå› ä¸ºå¯ä»¥å°†ä¸åŒå¤§å°çš„region proposalï¼ˆè¿žåŒ objectï¼‰åœ¨feature mapå±‚é¢æ± åŒ–åˆ°å›ºå®šå¤§å°ã€‚ä½†å®ƒçš„é—®é¢˜æ˜¯å‰é¢çš„å·ç§¯å±‚éƒ¨åˆ†æ˜¯åªåœ¨ä¸€ä¸ªscaleä¸Šè¿›è¡Œçš„ï¼Œè¿™æ­£æ˜¯ä¸ºäº†å®žçŽ°å·ç§¯è®¡ç®—å…±äº«æ‰€å¸¦æ¥çš„ä¸€ç‚¹è´Ÿé¢å½±å“ï¼Œå› ä¸ºæ˜¯å·ç§¯è®¡ç®—å…±äº«ï¼Œæ‰€ä»¥ä¸åŒå¤§å°çš„ç›®æ ‡æ²¡æœ‰åŠžæ³•è¿›è¡Œä¸åŒæ¯”ä¾‹çš„ç¼©æ”¾æ“ä½œï¼Œæ‰€ä»¥ç›¸å¯¹äºŽåŽŸå›¾å¤§å°æ¥è¯´ï¼Œå®ƒä»¬éƒ½å¤„äºŽä¸€ä¸ªscaleã€‚è¿™å½±å“äº†å°ºåº¦ä¸å˜æ€§ (scale invariant )ï¼Œå› æ­¤ä¸ºäº†å¼¥è¡¥è¿™ä¸€ç‚¹ï¼Œåœ¨è®­ç»ƒæˆ–è€…inferenceæ—¶ï¼Œä¼šä½¿ç”¨image pyramidçš„æ“ä½œã€‚ ä½†æ˜¯image pyramidæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨ç¼©æ”¾åŽŸå›¾æ—¶ï¼Œobjectä¹Ÿä¼šè·Ÿç€ç¼©æ”¾ï¼Œè¿™å°±å¯¼è‡´åŽŸæ¥æ¯”è¾ƒå¤§çš„objectå˜å¾—æ›´å¤§äº†ï¼ŒåŽŸæ¥æ›´å°çš„objectå˜å¾—æ›´å°äº†ã€‚è¿™åœ¨R-CNNä¸­æ˜¯ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜çš„ã€‚ SNIPER ç›¸å½“äºŽç»¼åˆäº†R-CNN åœ¨scaleä¸Šçš„ä¼˜ç‚¹ å’ŒFast R-CNNåœ¨é€Ÿåº¦ä¸Šçš„ä¼˜ç‚¹ã€‚ 2 SNIPERSNIPER(Scale Normalization for Image Pyramids with Efficient Resampling) chips é¦–å…ˆä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ–‡ç« æå‡ºçš„ chips çš„æ¦‚å¿µï¼ŒåŽŸæ–‡çš„è§£é‡Šæ˜¯ scale specific context-regions (chips) that cover maximum proposals at a particular scale. chipsæ˜¯æŸä¸ªå›¾ç‰‡çš„æŸä¸ªscaleä¸Šçš„ä¸€ç³»åˆ—å›ºå®šå¤§å°çš„ï¼ˆæ¯”å¦‚KxKä¸ªåƒç´ ï¼‰çš„ä»¥æ’å®šé—´éš”ï¼ˆæ¯”å¦‚dä¸ªåƒç´ ï¼‰æŽ’å¸ƒçš„å°çª—ï¼ˆwindowï¼‰ ï¼Œæ¯ä¸ªwindowéƒ½å¯èƒ½åŒ…å«ä¸€ä¸ªæˆ–å‡ ä¸ªobjectsã€‚ è¿™ä¸ªè·Ÿsliding windowçš„æ¦‚å¿µæ¯”è¾ƒåƒï¼Œåªæ˜¯sliding windowä¸­çš„ä¸€ä¸ªwindowä¸€èˆ¬åªåŒ…å«ä¸€ä¸ªobjectã€‚ Chip Generation é¦–å…ˆæ˜¯chipsçš„ç”Ÿæˆï¼š å‡è®¾æœ‰nä¸ªscaleï¼Œ{s1,s2,â€¦,si,â€¦sn}ï¼Œæ¯ä¸ªscaleçš„å¤§å°ä¸º $W_i Ã— H_i$ ï¼Œå°†åŽŸå›¾ç¼©æ”¾è‡³å¯¹åº”æ¯”ä¾‹åŽï¼Œ$KÃ—K$ å¤§å°çš„chipï¼ˆå¯¹äºŽCOCOæ•°æ®é›†ï¼Œè®ºæ–‡ç”¨çš„512Ã—512ï¼‰ä»¥ç­‰é—´éš”ï¼ˆd pixelsï¼‰çš„æ–¹å¼æŽ’å¸ƒï¼Œæ³¨æ„æ˜¯æ¯ä¸ªscaleéƒ½ä¼šç”Ÿæˆè¿™äº›chipsï¼Œè€Œä¸”chipçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå˜åŒ–çš„æ˜¯å›¾ç‰‡çš„å°ºå¯¸ã€‚è¿™è·Ÿanchorçš„æ€æƒ³åˆšå¥½ç›¸åï¼Œå› ä¸ºanchorä¸­ï¼Œä¸å˜çš„æ˜¯feature mapï¼Œå˜åŒ–çš„æ˜¯anchorã€‚ å®žé™…ä¸Šè¿™ç¯‡è®ºæ–‡è¾“è¿›ç½‘ç»œç”¨äºŽè®­ç»ƒçš„æ˜¯è¿™äº›chipï¼Œæ¯ä¸ªchipéƒ½æ˜¯åŽŸå›¾çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«äº†è‹¥å¹²ä¸ªç›®æ ‡ã€‚ ä¸€å¼ å›¾çš„æ¯ä¸ªscaleï¼Œä¼šç”Ÿæˆè‹¥å¹²ä¸ªPositive Chips å’Œ è‹¥å¹²ä¸ª Negative Chips ã€‚æ¯ä¸ªPositive Chipéƒ½åŒ…å«è‹¥å¹²ä¸ªground truth boxesï¼Œæ‰€æœ‰çš„Positive Chipsåˆ™è¦†ç›–å…¨éƒ¨æœ‰æ•ˆçš„ground truth boxesã€‚æ¯ä¸ª Negative Chips åˆ™åŒ…å«è‹¥å¹²ä¸ª false positive casesã€‚è¿™äº›åœ¨ä¸‹é¢è¯¦ç»†è®²è§£ã€‚ Positive Chip Selection æ¯ä¸ªscaleï¼Œéƒ½ä¼šæœ‰ä¸ªarea range $R^i =[r_{min}^i, r_{max}^i]ï¼Œi \in [1,n]$ ï¼Œè¿™ä¸ªèŒƒå›´å†³å®šäº†è¿™ä¸ªscaleä¸Šå“ªäº›ground truth boxæ˜¯ç”¨æ¥è®­ç»ƒçš„ã€‚æ‰€æœ‰ground truth boxä¸­è½åœ¨ $R^i$ èŒƒå›´å†…çš„ground truth box ç§°ä¸ºæœ‰æ•ˆçš„ï¼ˆå¯¹æŸä¸ªscaleæ¥è¯´ï¼‰ï¼Œå…¶ä½™ä¸ºæ— æ•ˆçš„ï¼Œæœ‰æ•ˆçš„gt boxé›†åˆè¡¨ç¤ºä¸º $G^i$ ã€‚ä»Žæ‰€æœ‰chipsä¸­é€‰å–åŒ…å«ï¼ˆå®Œå…¨åŒ…å«ï¼‰æœ‰æ•ˆ gt boxæœ€å¤šçš„chipï¼Œä½œä¸ºPositive Chipï¼Œå…¶é›†åˆç§°ä¸º $C^i_{pos}$ ï¼Œæ¯ä¸€ä¸ªgt boxéƒ½ä¼šæœ‰chipåŒ…å«å®ƒã€‚å› ä¸º $R^i$ çš„åŒºé—´ä¼šæœ‰é‡å ï¼Œæ‰€ä»¥ä¸€ä¸ªgt boxå¯èƒ½ä¼šè¢«ä¸åŒscaleçš„å¤šä¸ªchipåŒ…å«ï¼Œä¹Ÿæœ‰å¯èƒ½è¢«åŒä¸€ä¸ªchipçš„å¤šä¸ªchipåŒ…å«ã€‚è¢«å‰²è£‚çš„gt boxï¼ˆä¹Ÿå°±æ˜¯éƒ¨åˆ†åŒ…å«ï¼‰åˆ™ä¿æŒæ®‹ç•™çš„éƒ¨åˆ†ã€‚ å¦‚ä¸‹å›¾ï¼Œå·¦ä¾§æ˜¯å°†gt boxå’Œä¸åŒscaleä¸Šçš„ chipéƒ½å‘ˆçŽ°åœ¨äº†åŽŸå›¾ä¸Šï¼Œè¿™é‡Œä¸ºäº†å±•ç¤ºï¼Œå°†ä¸åŒscaleçš„å›¾ç‰‡ç¼©æ”¾å›žåŽŸå›¾å¤§å°ï¼Œæ‰€ä»¥chipæ‰æœ‰å¤§æœ‰å°ï¼Œå®ƒä»¬æ˜¯å±žäºŽä¸åŒscaleçš„ã€‚å³ä¾§æ‰æ˜¯è®­ç»ƒæ—¶çœŸæ­£ä½¿ç”¨çš„chipsï¼Œå®ƒä»¬çš„å¤§å°æ˜¯å›ºå®šçš„ã€‚å¯ä»¥çœ‹å‡ºè¿™å¼ å›¾ç‰‡åŒ…å«äº†ä¸‰ä¸ªscaleï¼Œæ‰€ä»¥å­˜åœ¨ä¸‰ç§chipï¼Œchipä¸­åŒ…å«æœ‰æ•ˆçš„gt boxï¼ˆç»¿è‰²ï¼‰å’Œæ— æ•ˆçš„gt boxï¼ˆçº¢è‰²ï¼‰ã€‚ ä»ŽåŽŸå›¾ä¹Ÿå¯ä»¥çœ‹å‡ºï¼ŒåŽŸå›¾ä¸­æœ‰ä¸€å¤§éƒ¨åˆ†çš„èƒŒæ™¯åŒºåŸŸï¼ˆæ²¡è¢«postive chipè¦†ç›–çš„åŒºåŸŸï¼‰è¢«ä¸¢å¼ƒäº†ï¼Œè€Œä¸”å®žé™…ä¸Šç½‘ç»œçœŸæ­£è¾“å…¥çš„æ˜¯chipï¼ˆæ¯”åŽŸå›¾åˆ†è¾¨çŽ‡å°å¾ˆå¤šï¼‰ï¼Œè¿™å¯¹äºŽå‡å°‘è®¡ç®—é‡æ¥è¯´å¾ˆé‡è¦ã€‚ SNIPER åªç”¨äº†4å¼ ä½Žåˆ†è¾¨çŽ‡çš„chips å°±å®Œæˆäº†æ‰€æœ‰objectsçš„å…¨è¦†ç›–å’Œmulti-scaleçš„è®­ç»ƒæ–¹å¼ã€‚ è¿™ä¸ªåœ°æ–¹å¾ˆå·§å¦™ï¼Œåœ¨ä¸åŒçš„scaleä¸Šæˆªå–ç›¸åŒå¤§å°çš„chipï¼Œè€Œä¸”åŒ…å«çš„æ˜¯ä¸å®Œå…¨ç›¸åŒçš„ç›®æ ‡ã€‚è¿™ä¸ªæ–¹å¼å¾ˆæŽ¥è¿‘ RCNNã€‚å¯¹è¾ƒå°çš„ç›®æ ‡èµ·åˆ°ä¸€ç§ zoom in çš„ä½œç”¨ï¼Œè€Œå¯¹è¾ƒå¤§çš„ç›®æ ‡èµ·åˆ°ä¸€ç§ zoom outçš„ä½œç”¨ã€‚è€Œå¯¹äºŽç½‘ç»œæ¥è¯´ï¼Œè¾“å…¥çš„è¿˜æ˜¯å›ºå®šå¤§å°çš„chipï¼Œè¿™æ ·çš„ç»“æž„æ›´åŠ æŽ¥è¿‘äºŽåˆ†ç±»é—®é¢˜ç½‘ç»œçš„æ‹“æ‰‘ã€‚ æ‰€ä»¥è¯´ SNIPER ç›¸å½“äºŽç»¼åˆäº†R-CNN åœ¨scaleä¸Šçš„ä¼˜ç‚¹ å’ŒFast R-CNNåœ¨é€Ÿåº¦ä¸Šçš„ä¼˜ç‚¹ã€‚ è¿™ä¸ªåœ°æ–¹å¤ªç²¾å¦™äº†ã€‚ Negative Chip Selection å¦‚æžœè‡³åŒ…å«ä¸Šè¿°çš„ postive chipé‚£ä¹ˆç”±äºŽè¿˜æ˜¯æœ‰å¤§éƒ¨åˆ†çš„åŒºåŸŸèƒŒæ™¯ï¼Œæ‰€ä»¥å¯¹èƒŒæ™¯çš„è¯†åˆ«æ•ˆæžœä¸å¥½ï¼Œå¯¼è‡´å‡æ­£ä¾‹çŽ‡æ¯”è¾ƒé«˜ã€‚å› æ­¤éœ€è¦ç”Ÿæˆ negative chipï¼Œæ¥æé«˜ç½‘ç»œå¯¹èƒŒæ™¯çš„è¯†åˆ«æ•ˆæžœã€‚çŽ°åœ¨çš„ç›®æ ‡æ£€æµ‹ç®—æ³•å› ä¸ºåœ¨multi-scaleè®­ç»ƒæ—¶ï¼Œæ‰€æœ‰çš„åƒç´ éƒ½å‚ä¸Žäº†è®¡ç®—ï¼Œæ‰€ä»¥å‡æ­£ä¾‹çŽ‡çš„é—®é¢˜ç›¸å¯¹è¿™ä¸ªç®—æ³•æ²¡é‚£ä¹ˆä¸¥é‡ï¼ˆä½†æ˜¯è®¡ç®—é‡å¤§ï¼‰ï¼Œä½†æ˜¯è¿™é‡Œå› ä¸ºæŠ›å¼ƒäº†å¾ˆå¤šèƒŒæ™¯ï¼Œæ‰€ä»¥ä¼šä½¿å‡æ­£ä¾‹çŽ‡å¢žåŠ ã€‚ä¸ºäº†é™ä½Žå‡æ­£ä¾‹çŽ‡å’Œç»´æŒè®¡ç®—é‡ä¸è‡³äºŽä¸Šæ¶¨å¤ªå¤šï¼Œä¸€ä¸ªç®€å•çš„è§£å†³åŠžæ³•å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç²¾åº¦ä¸æ˜¯å¾ˆé«˜çš„rpnç”Ÿæˆä¸€äº›ä¸å¤ªå‡†ç¡®çš„proposalsï¼Œè¿™äº›proposalsä¸­è‚¯å®šæœ‰ä¸€å¤§éƒ¨åˆ†éƒ½æ˜¯å‡æ­£ä¾‹ã€‚è¿žè¿™ä¸ªç²¾åº¦ä¸æ˜¯å¾ˆé«˜çš„rpnéƒ½æ²¡æœ‰ç”Ÿæˆproposalsçš„åœ°æ–¹åˆ™æœ‰å¾ˆå¤§å¯èƒ½æ˜¯èƒŒæ™¯åŒºåŸŸï¼Œé‚£ä¹ˆè®­ç»ƒæ—¶æŠŠè¿™ä¸€éƒ¨åˆ†æŠ›å¼ƒå³å¯ã€‚ negative chip çš„ç”Ÿæˆæ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆä½¿ç”¨è®­ç»ƒé›†è®­ç»ƒä¸€ä¸ªä¸æ˜¯å¾ˆç²¾ç¡®çš„RPNï¼Œç”Ÿæˆä¸€ç³»åˆ— proposalsï¼Œå¯¹æ¯ä¸ªscale iï¼Œç§»é™¤é‚£äº›è¢« positive chip æ‰€è¦†ç›–çš„proposalsï¼Œå› ä¸ºè¿™éƒ¨åˆ†proposalä¸Žgt boxé‡åˆåœ¨ä¸€èµ·äº†ã€‚é€‰å–åŒ…å«è‡³å°‘Mä¸ªåœ¨ $R^i$ èŒƒå›´å†…çš„proposalsçš„æ‰€æœ‰chipsä½œä¸º negative chipï¼Œå…¶é›†åˆç§°ä¸º $C^i_{neg}$ ã€‚ è®­ç»ƒæ—¶ï¼Œæ¯å¼ å›¾ç‰‡åœ¨æ¯ä¸ªepochä¸­åªä»Ž negative chip æ± ä¸­é€‰æ‹©å›ºå®šæ•°é‡çš„ negative chipã€‚è¿™ä¸ªåœ°æ–¹è®­ç»ƒæ—¶æ€Žä¹ˆå¼„çš„ï¼Œæ–‡ç« è§£é‡Šä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œææ€•å¾—çœ‹ä»£ç æ‰èƒ½æ˜Žç™½ã€‚ å¦‚ä¸‹å›¾æ˜¯ negative chip çš„ç”Ÿæˆç¤ºä¾‹ï¼š Label Assignment å›žå½’æ—¶æ ‡ç­¾çš„èµ‹å€¼ä¸Ž Faster R-CNNæ˜¯ç±»ä¼¼çš„ï¼Œæ–‡ç« è¯´æ˜¯ç«¯åˆ°ç«¯çš„è®­ç»ƒï¼Œä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—æ˜¯æ²¡æœ‰æŠŠç”Ÿæˆ positive/negative chipçš„è¿‡ç¨‹ç®—è¿›åŽ»ï¼Œè¿™ä¸€éƒ¨åˆ†å¥½åƒæ˜¯ç‹¬ç«‹è¿›è¡Œçš„ï¼Œç­‰chipç”ŸæˆåŽæ‰åœ¨chipä¸Šè¿›è¡Œ ç±»ä¼¼äºŽ Fster R-CNNçš„è®­ç»ƒã€‚å› ä¸ºç”Ÿæˆchipæ—¶ç”¨çš„RPNæ˜¯ä¸å¤ªç²¾ç¡®çš„ï¼Œè·Ÿè®­ç»ƒæ£€æµ‹ç½‘ç»œæ—¶çš„RPNåº”è¯¥ä¸èƒ½å…±äº«ã€‚ä¸è¿‡è¿™ä¸ªåœ°æ–¹å…·ä½“æ˜¯æ€Žæ ·çš„ä¹Ÿåªèƒ½çœ‹ä»£ç æ‰èƒ½æ˜Žç™½äº†ã€‚ å…¶ä»–çš„è®¾ç½®åŸºæœ¬è·Ÿ Faster R-CNN å·®åˆ«ä¸å¤§ï¼Œåªæ˜¯æ­£æ ·æœ¬æ¯”ä¾‹å•Šï¼ŒOHEMå•Šï¼ŒæŸå¤±å‡½æ•°å•Šæœ‰æ‰€ä¸åŒï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ Benefits è®¸å¤šç½‘ç»œä¸ºäº†å¢žåŠ ç²¾åº¦ï¼Œéƒ½ä¼šä½¿ç”¨image pyramidè€Œä¸”ä¼šä½¿ç”¨è¾ƒé«˜åˆ†è¾¨çŽ‡çš„å›¾ç‰‡ã€‚SNIPER åˆ™æ‘†è„±äº†å¯¹è¾ƒé«˜åˆ†è¾¨çŽ‡å›¾åƒçš„ä¾èµ–ã€‚è€Œä¸”ç”±äºŽSNIPER è®­ç»ƒæ—¶ä½¿ç”¨çš„æ˜¯è¾ƒä½Žåˆ†è¾¨çŽ‡çš„chipï¼Œæ‰€ä»¥batchä¹Ÿå¯ä»¥åšçš„å¾ˆå¤§ï¼Œæ¯”å¦‚å¯ä»¥åšåˆ°æ¯å¼ å¡20çš„batchï¼ˆä¸è¿‡å¤§ç¥žç”¨çš„éƒ½æ˜¯tesla V100ï¼‰ã€‚ 3 å®žéªŒç»“æžœ 4 æ€»ç»“ è¿™ç¯‡æ–‡ç« çš„ multi-scale è®­ç»ƒæ–¹å¼å¾ˆæ–°å¥‡ï¼Œä½†æ˜¯å¯èƒ½åœ¨å®žçŽ°ä¸Šä¼šæœ‰ç‚¹å¤æ‚ è¯æ˜Žäº†åœ¨é«˜åˆ†è¾¨çŽ‡å›¾ç‰‡ä¸Šè¿›è¡Œè®­ç»ƒè¿™ä¸€å¸¸ç”¨æŠ€å·§å¹¶ä¸æ˜¯æå‡ç²¾åº¦å¿…é¡»è¦ä½¿ç”¨çš„ç­–ç•¥]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>SNIPER</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-Cascade R-CNN-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F1c9cf9be%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šCascade R-CNN: Delving into High Quality Object Detectionä»£ç ï¼šhttps://github.com/zhaoweicai/cascade-rcnn è¿™æ˜¯ä¸€ç¯‡é’ˆå¯¹R-CNNç³»åˆ—çš„ä¸¤æ­¥æ£€æµ‹æ¨¡åž‹ æå‡ºçš„æ”¹è¿›æ–¹æ³•ã€‚ä¸»è¦æ˜¯é’ˆå¯¹åŒ¹é…ç­–ç•¥æå‡ºäº† multi-level çš„æ–¹å¼ã€‚ 1 é—®é¢˜æå‡ºæ£€æµ‹=åˆ†ç±»+å®šä½ï¼Œå¯¹äºŽåˆ†ç±»æ¥è¯´ï¼Œæ ‡ç­¾å°±æ˜¯æ ‡ç­¾ï¼Œç›´æŽ¥è®¡ç®—æŸå¤±ã€‚ä½†æ˜¯å¯¹äºŽå®šä½é—®é¢˜æ¥è¯´ï¼Œå®ƒçš„æ ‡ç­¾å¤„ç†ç¨å¾®éº»çƒ¦ä¸€ç‚¹ã€‚çŽ°åœ¨çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹å¯¹äºŽå®šä½é—®é¢˜çš„è§£å†³æ–¹æ³•ä¸»è¦æ˜¯å›žå½’ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨Faster R-CNNä¸­æ˜¯å¦‚ä½•è¿›è¡Œå›žå½’çš„ï¼š çŽ°åœ¨çš„é—®é¢˜æ˜¯ç”Ÿæˆçš„ anchor boxæ˜¯æœ‰å¾ˆå¤šçš„ï¼Œé‚£ä¹ˆåŠ¿å¿…ä¼šå¯¼è‡´åªæœ‰å°‘éƒ¨åˆ†æ˜¯åŒ…å«ç›®æ ‡æˆ–è€…æ˜¯ä¸Žç›®æ ‡é‡å å…³ç³»æ¯”è¾ƒå¤§çš„ï¼Œé‚£å½“ç„¶åªæœ‰è¿™ä»¥å°‘éƒ¨åˆ†æ‰æ˜¯æˆ‘ä»¬çš„é‡ç‚¹è§‚å¯Ÿå¯¹è±¡ï¼Œæˆ‘ä»¬æ‰èƒ½æŠŠä»–ç”¨åˆ°ä¸Šè¿°æåˆ°çš„å›žå½’è¿‡ç¨‹ä¸­åŽ»ã€‚å› ä¸ºè¶Šé è¿‘æ ‡ç­¾çš„default boxå›žå½’çš„æ—¶å€™è¶Šå®¹æ˜“ï¼Œå¦‚æžœäºŒè€…ä¸€ä¸ªåœ¨æœ€ä¸Šè¾¹ï¼Œä¸€ä¸ªåœ¨æœ€ä¸‹è¾¹ï¼Œé‚£ä¹ˆå›žå½’çš„æ—¶å€™éš¾åº¦ä¼šç›¸å½“å¤§ï¼Œè€Œä¸”ä¹Ÿä¼šæ›´è€—æ—¶é—´ã€‚ ç¡®å®šè¿™å°‘éƒ¨åˆ†é‡ç‚¹è§‚å¯Ÿå¯¹è±¡çš„è¿‡ç¨‹å°±æ˜¯åŒ¹é…ç­–ç•¥ã€‚æ¢å¥è¯è¯´å…¶å®žå°±æ˜¯ä¸ºäº†ç¡®å®šä¸€éƒ¨åˆ†å¯¹è±¡ä½œä¸ºæ­£æ ·æœ¬ã€‚ æ‰€ä»¥å¯¹äºŽå›žå½’é—®é¢˜æ¥è¯´ï¼Œéœ€è¦æŠŠground truth boxè½¬æ¢ä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œçš„æ­£æ ·æœ¬ã€‚ ç¡®å®šæ­£æ ·æœ¬çš„è¿‡ç¨‹æ™®éçš„åšæ³•æ˜¯ï¼šè®¡ç®—anchor boxä¸Žground truth ä¹‹é—´çš„IOUï¼Œå¤§äºŽæŸä¸€ä¸ªé˜ˆå€¼å°±è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªæ­£æ ·æœ¬ï¼Œè¿™ä¸ªé˜ˆå€¼ä¸€èˆ¬æ˜¯0.5ã€‚ ä½†æ˜¯å®žé™…ä¸Šä¸¥æ ¼æ¥è¯´ä½¿ç”¨0.5çš„é˜ˆå€¼åä½Žï¼Œé€ æˆçš„ç»“æžœå°±å¦‚ Figure 1(a)é‚£æ ·ä¼šæœ‰å¾ˆå¤šï¼Œâ€œcloseâ€ false positives ï¼Œé€šä¿—çš„è¯´å°±æ˜¯æœ‰å¾ˆå¤šé‡å¤çš„æ²¡ç”¨çš„æ¡†ï¼Œå¯ä»¥ç§°ä¸ºå™ªå£°ï¼Œè€Œæˆ‘ä»¬æœŸæœ›çš„æ˜¯è¾“å‡ºåƒ Figure 1(b)é‚£æ ·ã€‚ ä½†æ˜¯æé«˜IOUé˜ˆå€¼æ˜¯ä¼šå‡ºé—®é¢˜çš„ï¼Œå› ä¸ºæé«˜ IOUé˜ˆå€¼ä¼šä½¿æ•ˆæžœå˜å·®ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŽŸå› ï¼š æé«˜IOUä¼šå¯¼è‡´æ­£æ ·æœ¬æ•°é‡è¿‡å°‘ï¼Œç„¶è€Œæ¨¡åž‹æ¯”è¾ƒå¤§ï¼Œä¼šå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ detectorè‚¯å®šæ˜¯åœ¨æŸä¸€ä¸ªIOUé˜ˆå€¼ä¸Šè®­ç»ƒçš„ï¼Œä½†æ˜¯inferenceæ—¶ï¼Œç”Ÿæˆanchor boxä¹‹åŽï¼Œè¿™äº›anchor boxè·Ÿground truth boxä¼šæœ‰å„ç§å„æ ·çš„IOUï¼Œå¯¹äºŽè¿™äº›IOUæ¥è¯´detectoræ˜¯æ¬¡ä¼˜åŒ–çš„ã€‚ æ–‡ç« è§£å†³çš„ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜ã€‚ 2 Cascade ç»“æž„çš„æå‡º é¦–å…ˆçœ‹ä¸€ä¸‹ç›®æ ‡æ£€æµ‹ä¸­å¹¿æ³›ä½¿ç”¨çš„å®šä½æŸå¤±ï¼š åˆ†ç±»æŸå¤± 2.1 ä¸¤ç§å¯èƒ½çš„è§£å†³æ–¹æ³• iterative bounding box regression, denoted as iterative BBox. å¦‚ Figure 3(b). å­˜åœ¨çš„é—®é¢˜ï¼š ä¸‰ä¸ªheadéƒ¨åˆ†æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´éƒ½æ˜¯é’ˆå¯¹æŸä¸€ä¸ªIOUé˜ˆå€¼ï¼Œæ¯”å¦‚0.5ï¼Œæ˜¯æœ€ä¼˜åŒ–çš„ï¼Œä½†æ˜¯å½“inferenceæ—¶ï¼ŒçœŸæ­£çš„IOUå¤§äºŽ0.5ä»¥åŽä»–æ˜¯æ¬¡ä¼˜åŒ–suboptimal çš„ã€‚ å¾ˆæ˜Žæ˜¾çº§è”ä¹‹åŽï¼Œæ¯ä¸ªè¾“å‡ºçš„boxçš„åˆ†å¸ƒæ˜¯ä¼šå˜åŒ–çš„å¦‚ä¸Šå›¾ Figure (2)ï¼Œæ‰€ä»¥ç›¸åŒçš„headå¯¹äºŽåŽé¢çš„ç»“æž„æ¥è¯´æ˜¯æ¬¡ä¼˜åŒ–çš„suboptimal ã€‚ ç¬¬äºŒç§æ–¹æ³•ï¼š ä¹Ÿå°±æ˜¯Figure 3(c). å­˜åœ¨çš„é—®é¢˜ï¼šä¸åŒIOUé˜ˆå€¼çš„åˆ†å¸ƒæ˜¯ä¸å‡è¡¡çš„ï¼Œå¦‚ä¸Šå›¾å·¦ã€‚æ‰€ä»¥ä¸Šé¢çš„æŸå¤±æ˜¯ä¸å‡è¡¡çš„ã€‚ 2.2 Cascade R-CNN å¦‚å›¾ Figure 3(d): æŸå¤±å‡½æ•°ï¼š 3 è¯•éªŒç»“æžœ]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>Cascade R-CNN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-Focal Loss for Dense Object Detection-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F6c9f6e2c%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šFocal Loss for Dense Object Detection ICCV2017 Best Student Paper Awardä»£ç ï¼šhttps://github.com/facebookresearch/Detectron 1 é—®é¢˜æå‡º two-stage detector ï¼šç²¾åº¦é«˜ï¼Œé€Ÿåº¦æ…¢ the first stage ï¼š ç”Ÿæˆä¸€ä¸ª ç¨€ç–çš„å€™é€‰æ¡†çš„é›†åˆ ï¼ˆa sparse set of candidate proposals ï¼‰ï¼Œè¿‡æ»¤æŽ‰å¤§éƒ¨åˆ†è´Ÿæ ·æœ¬ï¼ˆ filtering out the majority of negative locationsï¼‰ è¿™ç¬¬ä¸€é˜¶æ®µå¯ä»¥é‡‡ç”¨ï¼šselective searchï¼Œedgeboxï¼ŒRPNç­‰ç®—æ³•å®Œæˆï¼Œæ˜¯ä¸€ä¸ªå¼±æ£€æµ‹å™¨ã€‚ å¯ä»¥æžå¤§çš„é™ä½Žå€™é€‰æ¡†çš„æ•°é‡(e.g., 1-2k) the second stageï¼šå¯¹å€™é€‰æ¡†è¿›è¡Œ å‰æ™¯ç›®æ ‡ æˆ– èƒŒæ™¯ çš„åˆ†ç±» ï¼ˆclassifies the proposals into foreground classes / backgroundï¼‰ â€‹ å¯¹ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜çš„è§£å†³ ï¼š sampling heuristicsï¼šsuch as a fixed foreground-to-background ratio (1:3), é€šè¿‡RMSå°†å‰æ™¯ç›®æ ‡å’ŒèƒŒæ™¯ï¼ˆæˆ–è€…è´Ÿæ ·æœ¬å’Œæ­£æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ä¿æŒåœ¨ 1:3 . online hard example mining (OHEM) : ä¸€ç§è®­ç»ƒæ–¹æ³• one-stage detector ï¼šç²¾åº¦ä½Žï¼Œé€Ÿåº¦å¿« ç”Ÿæˆä¸€ä¸ª ç¨ å¯†çš„å€™é€‰æ¡†çš„é›†åˆ (a dense set of candidate proposals)ï¼Œç›´æŽ¥è¿›è¡Œå›žå½’ã€‚ è¿™ä¸ªå¯†é›†çš„å€™é€‰æ¡†çš„é›†åˆ æ•°é‡åœ¨ 100k å·¦å³ã€‚ç„¶è€Œæ­£æ ·æœ¬åªæœ‰ä¸€å°‘éƒ¨åˆ†ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯èƒŒæ™¯ï¼Œè¿™ä¸ªç±»åˆ«ä¸å¹³è¡¡é—®é¢˜æ¯”ä¸¤æ­¥æ£€æµ‹çš„æ–¹å¼è¦ä¸¥é‡çš„å¤šã€‚ è§£å†³æ–¹æ³•ï¼šå¯ä»¥ä½¿ç”¨ä¸Šé¢æåˆ°çš„ä¸¤ç§æ–¹æ³•ï¼Œä½†æ˜¯ç”±äºŽ æ˜“åˆ†ç±»æ ·æœ¬æ•°é‡å¤ªå¤š æŸå¤±å‡½æ•°ä¼šè¢«è¿™äº›æ ·æœ¬äº§ç”Ÿçš„æŸå¤±æ¹®æ²¡ã€‚ è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨ bootstrapping çš„æ–¹æ³•æ¥è§£å†³ã€‚ä¸è¿‡è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ç§æ›´æœ‰æ•ˆçš„æ–¹å¼ã€‚ â€‹ ç±»åˆ«ä¸å¹³è¡¡æ˜¯å¯¼è‡´ one-stage æ£€æµ‹æ–¹æ³•ç²¾åº¦ä¸å¦‚ two-stage çš„ä¸»è¦åŽŸå› ã€‚ è¿™æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ï¼šæ¯”å¦‚å‡è®¾ä¸€å¼ å›¾ç‰‡åªåŒ…å«ä¸€ä¸ªç›®æ ‡ï¼Œä¸€å¼€å§‹æœ‰ 100k ä¸ªå¯èƒ½åŒ…å«ç›®æ ‡çš„åŒºåŸŸï¼Œå¯ä»¥å…ˆä½¿ç”¨ä¸€ä¸ªå¼±æ£€æµ‹å™¨æŒ‘é€‰å‡º 1k ä¸ªå€™é€‰åŒºåŸŸï¼Œç„¶åŽå†ç”¨ä¸€ä¸ªå¼ºåˆ†ç±»å™¨å¯¹è¿™ 1k ä¸ªå€™é€‰åŒºåŸŸè¿›è¡Œç­›é€‰ï¼ŒæŒ‘å‡ºæœ€æŽ¥è¿‘ground truth çš„åŒºåŸŸã€‚è¿™æ¯”ç›´æŽ¥ä»Ž100kä¸ªåˆå§‹å€™é€‰åŒºåŸŸä¸­ç›´æŽ¥æŒ‘é€‰1ä¸ªè¦æ›´ç²¾ç¡®ã€‚è€Œä¸”ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ä¹Ÿæ²¡æœ‰ one-stage æ–¹æ³•çš„ä¸¥é‡ã€‚ ä½†æ˜¯ two-stage çš„ä»£ä»·å°±æ˜¯ï¼šå› ä¸ºæ˜¯ä¸¤æ¬¡åˆ†ç±»æ‰€ä»¥é€Ÿåº¦ä¸Šè‚¯å®šä¼šæ…¢å¾ˆå¤šã€‚ è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯é’ˆå¯¹ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼Œè§£å†³ one-stage æ£€æµ‹æ–¹æ³•ç²¾åº¦ä¸é«˜çš„çŽ°è±¡ã€‚ 2 è§£å†³æ–¹æ³• Focal Lossé¿å…æŸå¤±å‡½æ•°è¢« æ˜“åˆ†ç±»çš„è´Ÿæ ·æœ¬ äº§ç”Ÿçš„æŸå¤±æ¹®æ²¡ï¼Œæ³¨æ„ æ˜¯ æ˜“åˆ†ç±»çš„è´Ÿæ ·æœ¬ å¯ä»¥ä»Žä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢è§£å†³ ä¿®æ”¹ æ­£æ ·æœ¬ å’Œ è´Ÿæ ·æœ¬ å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®é‡ï¼Œä½¿äºŒè€…å¹³ç­‰ ä¿®æ”¹ éš¾åˆ†ç±»æ ·æœ¬ å’Œ æ˜“åˆ†ç±»æ ·æœ¬ å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®é‡ï¼Œä½¿äºŒè€…å¹³ç­‰ ä»¥ä¸‹æ˜¯ Focal Loss çš„è®¾è®¡è¿‡ç¨‹ 2.1 äº¤å‰ç†µæŸå¤± Cross Entropy (CE)å…ˆçœ‹ä¸‹ç»å…¸çš„ äº¤å‰ç†µæŸå¤±ï¼ˆcross entropy ï¼‰ï¼š $y\in\{Â±1\}$ ï¼Œä»£è¡¨æ­£è´Ÿæ ·æœ¬ $p\in[0,1]$ ï¼Œæ˜¯åˆ†ç±»çš„æ¦‚çŽ‡ï¼Œä»£è¡¨æ­£æ ·æœ¬çš„æ¦‚çŽ‡ï¼ˆy=1ï¼‰ï¼Œé‚£ä¹ˆ $1-p$ ä»£è¡¨è´Ÿæ ·æœ¬çš„æ¦‚çŽ‡ï¼ˆy=-1ï¼‰ ç”¨ä¸‹å¼æ”¹å†™ äº¤å‰ç†µæŸå¤±æ”¹å†™ä¸ºï¼š 2.2 æ­£è´Ÿç±»åˆ«å¹³è¡¡çš„äº¤å‰ç†µæŸå¤± Balanced Cross Entropyä¿®æ”¹ æ­£æ ·æœ¬ å’Œ è´Ÿæ ·æœ¬ å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®é‡ ç»™æ­£æ ·æœ¬çš„æŸå¤± ä¹˜ä¸Š ä¸€ä¸ªæƒé‡ $\alpha \in [0,1]$ , ç»™è´Ÿæ ·æœ¬çš„æŸå¤±ä¹˜ä¸Š $1-\alpha$ ã€‚ è¿™æ ·å¯ä»¥ä½¿äºŒè€…å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®å¹³ç­‰ã€‚ä½¿ç”¨åŒæ ·çš„æ–¹æ³•ç”¨ $\alpha _t$ ä»£è¡¨ $\alpha$ . å°†äº¤å‰ç†µæŸå¤±æ”¹å†™ä¸ºï¼š 2.3 éš¾æ˜“ç±»åˆ«å¹³è¡¡çš„æŸå¤± Focal Lossä¿®æ”¹ éš¾åˆ†ç±»æ ·æœ¬ å’Œ æ˜“åˆ†ç±»æ ·æœ¬ å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®é‡ å¼•è¿›ä¸€ä¸ª è°ƒèŠ‚å› å­ $(1-p_t)^{\gamma}, \gamma \ge 0$ , æ”¹å†™æŸå¤±å‡½æ•°ï¼š å½“ æ ·æœ¬é”™åˆ†ç±»ï¼ˆéš¾åˆ†ç±»æ ·æœ¬ï¼‰ï¼Œå¹¶ä¸” $p_t$ å¾ˆå°æ—¶ï¼Œè°ƒèŠ‚å› å­ è¶‹å‘äºŽ1ï¼Œè€Œ $FL(p_t)$ ä¸Ž $CE(p_t)$ æŽ¥è¿‘ï¼› å¦‚æžœæ˜¯ æ˜“åˆ†ç±»æ ·æœ¬ï¼Œ $p_t$ å¾ˆå¤§ï¼Œè°ƒèŠ‚å› å­è¶‹å‘äºŽ0ï¼ŒæŸå¤±ä¹Ÿä¸º0ã€‚ çœ‹ä¸‹å›¾: æœ€ç»ˆæ–‡ç« ä½¿ç”¨çš„æŸå¤±å‡½æ•°æ˜¯è¿™æ ·çš„ï¼š 3 RetinaNet Detectoræ–‡ç« æž„å»ºçš„ä¸€ä¸ª one-stage æ£€æµ‹æ¨¡åž‹ï¼Œä½¿ç”¨äº†ä¸Šè¿°æå‡ºçš„æŸå¤±å‡½æ•° 3.1 å®žéªŒç»“æžœ å‚è€ƒèµ„æ–™Huber Loss function Focal Loss function]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>Focal Loss</tag>
        <tag>loss function</tag>
        <tag>RetinaNet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-DSOD-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2Fc0b67e9a%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šDSOD: Learning Deeply Supervised Object Detectors from Scratchä»£ç ï¼šhttps://github.com/szq0214/DSOD 0 ç®€ä»‹è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ç§ä¸éœ€è¦é¢„è®­ç»ƒçš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ã€‚ çŽ°åœ¨çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸ºäº†èŽ·å¾—è¾ƒé«˜çš„ç²¾åº¦ï¼Œæ™®éé‡‡ç”¨çš„åšæ³•æ˜¯ï¼šæ‹¿åœ¨ImageNetä¸Šé¢„è®­ç»ƒè¿‡çš„åˆ†ç±»ç½‘ç»œ fine-tuningã€‚fine-tuning ä¹Ÿå¯ä»¥ç§°ä¸ºæ˜¯è¿ç§»å­¦ä¹ ï¼Œå®ƒçš„å¥½å¤„æœ‰ä¸¤ä¸ªï¼šï¼ˆ1ï¼‰æœ‰å¾ˆå¤šé’ˆå¯¹äºŽImageNetå…¬å¼€çš„æ·±åº¦ç½‘ç»œæ¨¡åž‹ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿å°†è¿™äº›å…¬å¼€çš„ç½‘ç»œç”¨åˆ°ç›®æ ‡æ£€æµ‹é—®é¢˜ä¸Šï¼›ï¼ˆ2ï¼‰fine-tuning è®­ç»ƒè¦æ¯”å®Œå…¨ä»Žå¤´è®­ç»ƒï¼ˆtrain from scratchï¼‰æ›´çœæ—¶é—´ï¼Œè€Œä¸”fine-tuningå¯¹æ•°æ®é‡çš„è¦æ±‚ä¸åƒåˆ†ç±»é—®é¢˜é‚£ä¹ˆä¸¥æ ¼ï¼Œå¯ä»¥ä½¿ç”¨è¾ƒå°‘çš„æ ‡æ³¨æ•°æ®è®­ç»ƒå¾—åˆ°æ¯”è¾ƒå¥½çš„ç»“æžœã€‚ ä½†æ˜¯ä½¿ç”¨é¢„è®­ç»ƒçš„ç½‘ç»œå­˜åœ¨ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š Limited structure design spaceï¼šç½‘ç»œè®¾è®¡ç©ºé—´å—é™ã€‚é¢„è®­ç»ƒçš„ç½‘ç»œå¾€å¾€éƒ½æ˜¯è®¡ç®—é‡ï¼Œå‚æ•°é‡å¾ˆå¤§çš„ç½‘ç»œï¼Œåº”ç”¨åˆ°ç›®æ ‡æ£€æµ‹ä¸Šä¹‹åŽï¼Œè™½ç„¶é’ˆå¯¹ head éƒ¨åˆ†çš„è®¾è®¡å¯ä»¥éšå¿ƒæ‰€æ¬²ï¼Œä½†æ¯•ç«Ÿå‰é¢çš„backboneæ˜¯å›ºå®šçš„ï¼Œå› æ­¤è®¡ç®—é‡å’Œå‚æ•°é‡åŸºæœ¬å›ºå®šï¼Œç½‘ç»œè°ƒæ•´çš„çµæ´»æ€§ä¸å¤§ã€‚ Learning biasï¼šå­¦ä¹ çš„åç½®é—®é¢˜ã€‚åˆ†ç±»é—®é¢˜å’Œæ£€æµ‹é—®é¢˜çš„losså‡½æ•°ä»¥åŠç±»åˆ«åˆ†å¸ƒæ˜¯ä¸åŒçš„ï¼Œä½œè€…è®¤ä¸ºè¿ç§»å­¦ä¹ æ—¶å¯èƒ½ä¼šå¼•å…¥ bias ï¼ŒäºŒè€…çš„ä¼˜åŒ–ç©ºé—´æ˜¯ä¸åŒçš„ï¼Œæœ‰å¯èƒ½ä½¿æ£€æµ‹é—®é¢˜é™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚å³ä¾¿fine-tuningå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ¶ˆé™¤è¿™ä¸ªbiasé—®é¢˜ï¼Œä½†æ˜¯èƒ½å¤Ÿæ¶ˆé™¤å¤šå°‘æ˜¯ä¸ç¡®å®šçš„ï¼Œä½œè€…è®¤ä¸ºè¿™å¹¶ä¸èƒ½ä»Žæ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ã€‚ Domain mismatchï¼šåº”ç”¨é¢†åŸŸçš„ä¸åŒ¹é…ã€‚å½“ImageNetä¸Žä½ è¦åº”ç”¨çš„é¢†åŸŸæœ‰è¾ƒå¤§çš„ä¸åŒæ—¶ï¼Œæ¯”å¦‚æ·±åº¦å›¾ï¼ŒåŒ»ç–—å½±åƒç­‰æ•°æ®é›†ï¼Œç”±äºŽæ•°æ®é›†æœ¬èº«çš„ huge mismatch ä¹Ÿä¼šå¯¹è¿ç§»å­¦ä¹ åŽçš„ç»“æžœåˆä¸€å®šå½±å“ã€‚ åŸºäºŽä»¥ä¸Šé—®é¢˜ï¼Œä½œè€…è®¤ä¸ºæ ¹æœ¬çš„è§£å†³æ–¹æ³•æ˜¯æž„å»ºä¸€ä¸ªç½‘ç»œï¼Œå¹¶ä¸” train from scratch ã€‚ä½œè€…ä¹Ÿæž„å»ºäº†è¿™ä¹ˆä¸€ä¸ªç½‘ç»œæˆä¸º DSOD ã€‚DSODçš„ç»“æžœç¡®å®žè¦å¥½ä¸€ç‚¹ã€‚ ä½œè€…å…³äºŽè¿ç§»å­¦ä¹ å­˜åœ¨çš„é—®é¢˜åªæ˜¯ç†è®ºä¸Žç»éªŒä¸Šçš„æŽ¨æ–­ï¼Œç¡®å®žæœ‰ä¸€å®šé“ç†ï¼Œä½†æ˜¯ä¹Ÿä»…ä»…æ˜¯æŽ¨æ–­è€Œå·²ï¼Œä½œè€…å¹¶æ²¡æœ‰ç”¨å¤§é‡çš„è¯•éªŒæ¥éªŒè¯ã€‚å…³äºŽè¿ç§»å­¦ä¹ çš„é—®é¢˜ï¼Œåˆšå‘çŽ°äº†ä¸€ç¯‡è®ºæ–‡ Do Better ImageNet Models Transfer Better? ä½¿ç”¨äº†å¤§é‡çš„è¯•éªŒæ¥éªŒè¯ å…³äºŽè¿ç§»å­¦ä¹ çš„é—®é¢˜ï¼Œè¿™ä¸ªåŽé¢ä¼šä»”ç»†é˜…è¯»ä¸€ä¸‹ã€‚ è¿™ç¯‡æ–‡ç« çš„ä¸»è¦è´¡çŒ®ï¼š å…¨çƒé¦–ä¾‹å¯ä»¥ train from scratch çš„ç›®æ ‡æ£€æµ‹ç½‘ç»œæ¨¡åž‹ã€‚ åœ¨è®¾è®¡è¿‡ç¨‹ä¸­æå‡ºäº†åº”è¯¥éµå®ˆçš„åŽŸåˆ™ã€‚ åœ¨ PASCAL VOC 2007, 2012 and MS COCO datasets ä¸‰ä¸ªæ•°æ®é›†ä¸ŠèŽ·å¾—äº†state-of-the-art çš„ç²¾åº¦ã€å¤„ç†é€Ÿåº¦å’Œæ¨¡åž‹ç´§å‡‘æ€§ã€‚ 1 DSODDSOD çš„è®¾è®¡æ€æƒ³å¯ä»¥ä»Žä¸‹å›¾ä¸­çœ‹å‡ºã€‚ DSODæ˜¯åœ¨SSDçš„åŸºç¡€ä¸Šå‘å±•è€Œæ¥çš„ï¼ŒDSODçš„ä¸åŒåœ¨äºŽï¼Œä¸ç®¡æ˜¯åœ¨backbongè¿˜æ˜¯headéƒ¨åˆ†ï¼ŒDSODéƒ½å€Ÿé‰´äº†DenseNetçš„è®¾è®¡æ€æƒ³ã€‚å…³äºŽDenseNetçš„è¯¦è§£ï¼Œå¯ä»¥çœ‹è¿™é‡Œã€‚ DSODçš„è¯¦ç»†ç½‘ç»œç»“æž„è§ä¸‹è¡¨ï¼š ç‚¹å‡» è¿™é‡Œ æŸ¥çœ‹è¿™ä¸ªç½‘ç»œç»“æž„çš„å¯è§†åŒ–ã€‚ ç½‘ç»œçš„ä¸€äº›è®¾è®¡åŽŸåˆ™ï¼š Principle 1: Proposal-free. ç›®å‰å·²æœ‰çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸»è¦æœ‰ä¸¤å¤§ç±»ï¼š R-CNNï¼ŒFast R-CNN, Faster R-CNN and R-FCN ç­‰ region proposal based çš„ä¸¤æ­¥æ£€æµ‹æ¨¡åž‹ YOLO, SSDç­‰ proposal-freeçš„ä¸€æ­¥æ£€æµ‹æ¨¡åž‹ ä½œè€…çš„å®žéªŒè¡¨æ˜Ž region baseçš„ä¸¤æ­¥æ£€æµ‹æ¨¡åž‹å¦‚æžœtrain from scratchå°†ä¸ä¼šæ”¶æ•›ï¼Œä½œè€…è®¤ä¸ºæ˜¯ROIæ± åŒ–çš„å­˜åœ¨ä½¿æ¢¯åº¦ä¸èƒ½å¹³ç¨³åœ°ä»Žregion-level ä¼ é€’åˆ° feature mapï¼ˆRoI pooling generates features for each region proposals, which hinders the gradients being smoothly back-propagated from region-level to convolutional feature maps.ï¼‰ï¼Œç„¶è€Œå¯¹é¢„è®­ç»ƒæ¨¡åž‹ fine-tuning å¯ä»¥æ”¶åˆ°æ¯”è¾ƒå¥½çš„ç»“æžœæ˜¯å› ä¸º ROIæ± åŒ–ä¹‹å‰çš„å±‚æ‹¥æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åˆå€¼ï¼Œè€Œä¸éœ€è¦éšæœºèµ‹åˆå€¼ï¼Œè¿™ä¸ªåœ¨train from scratchæ—¶æ˜¯ä¸å­˜åœ¨çš„ã€‚ ä½œè€…ä½¿ç”¨proposal-freeçš„SSDæ¨¡åž‹ï¼Œå¾—åˆ°äº†stateof-the-art çš„ç²¾åº¦å’Œé€Ÿåº¦ã€‚ Principle 2: Deep Supervision. è¿™ä¸ªåŽŸåˆ™å®žé™…ä¸Šå°±æ˜¯å¦‚ä½•é€‰æ‹©æ·±å±‚ç¥žç»ç½‘ç»œã€‚åŽŸæ–‡æ˜¯è¿™ä¹ˆè¯´çš„ The central idea is to provide integrated objective function as direct supervision to the earlier hidden layers, rather than only at the output layer. æ ¹æœ¬æ€æƒ³æ˜¯æä¾›ä¸€ä¸ªé›†æˆçš„objective functionï¼Œä¹Ÿå°±æ˜¯æŸå¤±å‡½æ•°ä¸ä»…è¦ç»™è¾“å‡ºå±‚æä¾›ç›‘ç£ä¿¡å·ï¼Œè¿˜è¦å¯¹ç½‘ç»œä¸­å‰é¢çš„éžè¾“å‡ºå±‚æä¾›ç›‘ç£ä¿¡å·ã€‚çœ‹åˆ°è¿™é‡Œæˆ‘ä»¬å¾ˆæ˜¾ç„¶çš„æƒ³åˆ°äº† ResNet å’Œ DenseNet éƒ½æ˜¯ç¬¦åˆè¿™ä¸ªè¦æ±‚çš„ï¼ŒäºŒè€…éƒ½å­˜åœ¨skip-connectionã€‚ä½œè€…ä¹Ÿæåˆ°äº†è¿™ä¸¤ä¸ªç½‘ç»œï¼Œä¸è¿‡ä½œè€…æœ€åŽä½¿ç”¨çš„æ˜¯DensNetï¼Œæ¯•ç«ŸDenseNetåœ¨ImageNetä¸Šçš„æ•ˆæžœç•¥èƒœä¸€ç­¹ã€‚ æ­¤å¤–è¿˜ä½¿ç”¨äº† Transition without Pooling Layer æ¥å¢žåŠ dense blockæ•°é‡ã€‚ Principle 3: Stem Block. stem blockæ˜¯ inception v3å’Œv4ä¸­çš„ç»“æž„ï¼Œå°±æ˜¯é™¤äº†é‚£äº›å·ç§¯blockä¹‹åŽï¼Œä¸»å¹²ç½‘ç»œä¸­ä¸Žä¼ ç»Ÿ CNN ä¸€æ ·çš„éƒ¨åˆ†ï¼Œå°±æ˜¯å·ç§¯+æ± åŒ–çš„å †å ç»“æž„ï¼Œä¸å­˜åœ¨skip-connectionç­‰ç‰¹æ®Šç»“æž„ã€‚ DenseNetçš„å‰é¢å‡ å±‚ï¼Œä¹Ÿå°±æ˜¯Dense blockä¹‹å‰çš„steméƒ¨åˆ†æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼Œ DSODä¸­è¢«ä¿®æ”¹æˆäº†è¿™æ ·çš„ï¼š Principle 4: Dense Prediction Structure. Dense Prediction Structure.ä¸­æœ‰ä¸ªç‰¹æ®Šçš„å¤„ç†ï¼Œçœ‹ä¸‹å›¾ï¼š æ¯ä¸€ä¸ªscaleä¸­çš„feature mapï¼ˆchannelï¼‰ä¸­åªæœ‰ä¸€åŠæ˜¯é€šè¿‡å‰é¢å±‚å­¦ä¹ å¾—åˆ°çš„ï¼Œè¿˜æœ‰ä¸€åŠæ˜¯ç›´æŽ¥é€šè¿‡é™é‡‡æ ·å¾—åˆ°çš„ã€‚ä¸Šé¢å›¾ä¸­çš„çº¢è‰²ç®­å¤´æ‰€æŒ‡çš„é»‘è‰²ç®­å¤´å°±æ˜¯ä»£è¡¨è¿™ä¸ªæ„æ€ã€‚ åœ¨è¿™ä¸ªå›¾ä¸­ç”¨äºŽé¢„æµ‹çš„å±‚ä¹Ÿé‡‡ç”¨äº† dense blockçš„ç»“æž„ï¼ˆheadæŒ‡scale2-scale5é¢„æµ‹å±‚ï¼Œscale1æ˜¯åœ¨backboneä¸­çš„ï¼‰ï¼Œä½†å®žé™…ä¸Šè¿™ä¸€éƒ¨åˆ†ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸ŽSSDä¸€æ ·çš„æ™®é€šçš„å·ç§¯å±‚ï¼ˆplainï¼‰ï¼Œè¿™ä¸€ç‚¹ä½œè€…ä¹Ÿåšäº†ç›¸å…³å®žéªŒæ¥å¯¹æ¯”äºŒè€…ä¹‹é—´çš„å·®åˆ«ã€‚ 2 è®­ç»ƒç­–ç•¥æ¡†æž¶ï¼šcaffe ç¡¬ä»¶ï¼šNVidia TitanX GPU è®­ç»ƒç­–ç•¥ä¸Šå¤§éƒ¨åˆ†éƒ½æ²¿ç”¨äº†SSDçš„ç›¸å…³ç­–ç•¥ï¼Œæœ‰ç•¥å¾®å·®å¼‚ï¼Œè¿™ä¸€éƒ¨åˆ†ä¸å†å™è¿°ã€‚ 3 å®žéªŒç»“æžœ3.1 å¯¹ç…§å®žéªŒDSODæœ¬èº«å…³äºŽdensenet ç½‘ç»œé…ç½®å‚æ•°çš„å¯¹ç…§å®žéªŒ è¿™é‡Œåªæä¸€ç‚¹ï¼šå½“backboneä¸Žprediction Layeréƒ½é‡‡ç”¨ densenetçš„ç»“æž„æ—¶ï¼Œæ•ˆæžœæœ€å¥½ã€‚ å…¶ä»–å…³äºŽåŽ‹ç¼©ç³»æ•° growth rate ä»¥åŠ å„ç§channelæ•°é‡çš„å½±å“ä¸å†èµ˜è¿° DSODæå‡ºçš„è®¾è®¡åŽŸåˆ™ä¹‹é—´çš„å¯¹ç…§å®žéªŒ æ³¨æ„ä¸€ç‚¹ï¼šå½“Faster R-CNN train from scratch æ—¶ï¼Œæ˜¯ä¸æ”¶æ•›çš„ SSD train from scratch æ—¶ æ˜¯å¯ä»¥æ”¶æ•›çš„ï¼Œä½†æ˜¯ç²¾åº¦ä¼šé™ä½Žï¼Œå½“ç»“åˆdensenetæž„æˆDSODæ—¶ï¼Œç²¾åº¦ä¸€ä¸‹åˆä¸ŠåŽ»äº†ã€‚ å‚æ•°é‡å‡å°‘å¾ˆå¤šï¼Œè¿™ä¸€éƒ¨åˆ†å¾—ç›ŠäºŽdensenetã€‚ æœ‰è¶£çš„æ˜¯ï¼Œä½œè€…æå‡ºçš„DSODæœ¬æ¥æ˜¯ä½¿ç”¨train from scratchçš„æ–¹æ³•è®­ç»ƒçš„ï¼Œä½†æ˜¯ä½œè€…ä¹Ÿå°è¯•è¿‡ä½¿ç”¨DSODå…ˆåœ¨ImagNetä¸Šé¢„è®­ç»ƒï¼Œç„¶åŽåœ¨VOCä¸Šfine-tuningçš„æ–¹å¼ï¼š ä½œè€…ä½¿ç”¨ backbone network DS/64-12-16-1 ï¼ˆè¿™ä¸ªæž¶æž„æ¯”DenseNetè®ºæ–‡ä¸­ä½¿ç”¨çš„æ•ˆæžœå¥½äºŽResNetçš„ç»“æž„åœ¨é…ç½®ä¸Šå·®å¾ˆå¤šï¼‰åœ¨ ImageNetä¸Šé¢„è®­ç»ƒ, èŽ·å¾—äº† 66.8% çš„top-1 ç²¾åº¦å’Œ87.8%çš„ top-5 ç²¾åº¦ï¼Œå…¶ç»“æžœç¨å·®äºŽVGGã€‚å°†å…¶ç”¨äºŽåœ¨ â€œ07+12â€ trainval setä¸Šé¢„è®­ç»ƒ, èŽ·å¾—äº† 70.3% çš„mAPï¼ˆ VOC 2007 test-setï¼‰ã€‚ åŒæ ·ç»“æž„çš„DSODç›´æŽ¥ train from scratchï¼ŒèŽ·å¾—çš„mAPæ˜¯70.7%ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ç§ç­–ç•¥è®­ç»ƒå‡ºæ¥çš„ç»“æžœå¾ˆæŽ¥è¿‘ï¼Œtrain from scratchè¿˜ç•¥å¾®å¥½ä¸€ç‚¹ï¼Œè¿™ä¹Ÿè¯´æ˜Žäº† densenet çš„ç»“æž„æ˜¯æ¯”è¾ƒé€‚ç”¨äºŽ train from scratch çš„ã€‚ è¿˜æœ‰ä¸€ä¸ªæœ‰è¶£çš„çŽ°è±¡ï¼Œä»Žtable 4ä¸­å¯ä»¥çœ‹åˆ°åŽŸç‰ˆçš„SSDä¹Ÿå°±æ˜¯ä½¿ç”¨VGGçš„SSD ä»Žfine tuning åˆ° train from scratch å…¶ç²¾åº¦æ˜¯é™ä½Žçš„ã€‚æ‰€ä»¥å¯¹äºŽVGGç»“æž„çš„ç½‘ç»œæ¥è¯´ train from scratch å¹¶æ²¡æœ‰å¤ªå¤§çš„å¥½å¤„ã€‚ å‚æ•°é‡ä¸Žé€Ÿåº¦æ–¹é¢ï¼š DSODçš„å‚æ•°é‡ï¼š1/2 parameters to SSD300 with VGGNet, 1/4 to SSD300 with ResNet-101, 1/4 to R-FCN with ResNet-101 and 1/10 to Faster R-CNN with VGGNet. å…·ä½“çš„é€Ÿåº¦çœ‹table4. å¦å¤–è¿˜æœ‰ä¸€ä¸ªè½»é‡çº§çš„ç‰ˆæœ¬ï¼Œè¡¨ä¸­æ²¡åˆ—å‡ºï¼š A lite-version of DSOD (10.4M parameters, w/o any speed optimization) can run 25.8 fps with only 1% mAP drops 3.2 PASCAL VOC å’Œ MSCOCOPASCAL VOC å’Œ MSCOCO çš„è¯•éªŒç»“æžœä¸è¯¦ç»†èµ˜è¿°ã€‚ 4 æ€»ç»“è¿™ä¸¤å¹´æ¥æ·±åº¦ç½‘ç»œç‰¹åˆ«æ˜¯ä»¥ ResNet ä¸ºä»£è¡¨çš„æ·±å±‚ç¥žç»ç½‘ç»œå‘å±•å¾ˆè¿…é€Ÿï¼Œå…¶ä¿ƒè¿›äº†è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼ˆè¿˜æœ‰å…¶ä»–é¢†åŸŸæ¯”å¦‚NLPï¼‰çš„å¿«é€Ÿå‘å±•ï¼Œå¾ˆå¤šè§†è§‰é—®é¢˜å–å¾—äº†é«˜é€Ÿçš„å‘å±•ï¼ŒåŸºäºŽè¿™ä¸ªè¶‹åŠ¿ï¼Œäººä»¬ä¼šè®¤ä¸ºæ›´æ·±çš„ç½‘ç»œï¼Œæ›´å¤šçš„æ•°æ®é›†åº”è¯¥å¯ä»¥å–å¾—æ›´å¥½çš„ç»“æžœï¼Œæ¯”å¦‚çŽ°åœ¨è°·æ­Œæœ‰ä¸ª Open Images Dataset ï¼ŒåŒ…å«å¤§çº¦900ä¸‡å¼ å›¾ç‰‡ï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯ ImageNetçš„ 7.5å€å¤§ã€‚å½“ç„¶è¿™ä¹ˆå¤šçš„æ•°æ®é›†ä¹Ÿè®¸æ˜¯å¥½çš„ï¼Œä½†æ˜¯å¦‚æžœèƒ½é€šè¿‡åˆè®¾è®¡ç½‘ç»œç»“æž„ä½¿ç½‘ç»œåœ¨è¾ƒå°çš„æ•°æ®é›†ä¸Šèƒ½å–å¾—ç›¸å½“çš„ç»“æžœï¼Œé‚£ä¹ˆä½•ä¹è€Œä¸ä¸ºå‘¢ï¼Ÿ DSODçš„ç»“æžœå°±æ˜¯å¾ˆå¥½çš„ä¾‹å­ï¼štrain from scratch ä»…ä»…ä½¿ç”¨äº† 16551 å¼ å›¾ç‰‡å°±å¯ä»¥å¾—åˆ°ç›¸å½“æˆ–è€…æ›´å¥½çš„ç²¾åº¦ï¼Œè€Œfine tuningä½¿ç”¨äº† 1.2 million + 16551 å¼ å›¾ç‰‡ã€‚ DSODçš„è¿™ä¸ªæ€æƒ³æˆ‘ä¸ªäººè§‰å¾—æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºå°½ç®¡å¯¹äºŽå­¦æœ¯ç ”ç©¶æ¥è¯´ï¼Œéšç€ç¡¬ä»¶ï¼ˆGPUï¼ŒTPUç­‰ï¼‰çš„å‘å±•å’Œå¤§å…¬å¸å…¬å¼€æ–°çš„æ›´å¤§çš„æ•°æ®é›†ï¼Œç ”ç©¶æ›´æ·±çš„ç½‘ç»œä»¥æ±‚èŽ·å¾—æ›´å¥½çš„ç²¾åº¦æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯å¯¹äºŽæ·±åº¦å­¦ä¹ çš„äº§å“è½åœ°æ¥è¯´ï¼Œå¤§çš„ç½‘ç»œç»“æž„æ˜¯ä¸çŽ°å®žçš„ï¼Œæ¯•ç«Ÿä½ æ— æ³•å°†100å¤šå±‚çš„ä»¥ResNetä¸ºåŸºç¡€çš„ç½‘ç»œæˆ–è€…å…¶ä»–æ›´æ·±çš„ç½‘ç»œè·‘åœ¨ä¸€ä¸ªç»ˆç«¯è®¾å¤‡æˆ–è€…ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œç„¶è€Œä»Žäº§å“è½åœ°çš„å±‚é¢æ¥è¯´ï¼Œç»ˆç«¯è®¾å¤‡æˆ–è€…ç§»åŠ¨è®¾å¤‡çš„å æ¯”è¦æ›´å¤§ï¼Œè€Œå¤§åž‹çš„ç½‘ç»œåˆ™åªèƒ½åšæˆäº‘ç«¯æˆ–è€…æœåŠ¡å™¨ç«¯çš„äº§å“ã€‚]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>DSOD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºç¡€DLæ¨¡åž‹-DenseNet-Densely Connected Convolutional Networks-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F216a4e98%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šDensely Connected Convolutional Networks CVPR 2017 (Best Paper Award)ä»£ç ï¼šhttps://github.com/liuzhuang13/DenseNet ç«Ÿç„¶æ˜¯ç”¨luaå†™çš„ 0 ç®€ä»‹è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ç§ä¸åŒäºŽResNetçš„æ·±å±‚å·ç§¯ç¥žç»ç½‘ç»œï¼Œç§°ä¸ºDenseNetã€‚ ä¸ºäº†åœ¨å¤§æ•°æ®é›†ä¸ŠèŽ·å¾—æ¯”è¾ƒå¥½çš„æ•ˆæžœï¼Œä¸»è¦çš„åšæ³•æœ‰ä¸¤ç§ è®¾è®¡æ›´å®½çš„ç½‘ç»œï¼šä»£è¡¨ï¼šGoogLeNetï¼ŒFractalNets è®¾è®¡æ›´æ·±çš„ç½‘ç»œï¼šä»£è¡¨ï¼šHighwayNetï¼ŒResNet æ›´å®½çš„ç½‘ç»œæ­¤å¤„ä¸è¯´äº†ï¼Œå¯¹äºŽæ›´æ·±çš„ç½‘ç»œï¼Œå› ä¸ºåœ¨è®­ç»ƒæ—¶å­˜åœ¨çš„æ¢¯åº¦æ¶ˆå¤±çŽ°è±¡å¾ˆä¸¥é‡ï¼Œæ‰€ä»¥ä½¿ç”¨ç›´æŽ¥å †ç§¯çš„æ–¹å¼æ˜¯ä¸è¡Œçš„ã€‚æ·±å±‚å·ç§¯ç¥žç»ç½‘ç»œ ResNet ä¸ºäº†è§£å†³ç½‘ç»œåœ¨è®­ç»ƒæ—¶çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œæå‡ºäº†ä¸€ç§æ®‹å·®æ¨¡å—ï¼š æ­£æ˜¯è¿™ç§æ®‹å·®æ¨¡å—ä¸­çš„ shortcut connect ä½¿å¾—æ·±å±‚ç½‘ç»œçš„è®­ç»ƒæˆä¸ºå¯èƒ½ï¼Œè§£å†³äº†æ·±å±‚ç½‘ç»œè®­ç»ƒè¿‡ç¨‹ä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼ŒResNeté’ˆå¯¹äºŽImageNetçš„ç½‘ç»œæœ€æ·±å¯ä»¥åšåˆ°152å±‚ï¼Œè€Œåœ¨CIFARä¸Šç”šè‡³åšåˆ°äº†ä¸Šåƒå±‚ã€‚ åŽé¢å¾ˆå¤šå…³äºŽæ–°åž‹æ¨¡åž‹è®¾è®¡çš„æ–‡ç« åŸºæœ¬éƒ½ä¿ç•™æˆ–è€…å€Ÿé‰´äº†è¿™ç§ç±»ä¼¼çš„ shortcut connect æˆ–è€… identity mappingã€‚ è€ŒDesNetä»Žå¦ä¸€ä¸ªè§’åº¦å‡ºå‘è®¾è®¡å‡ºäº†æ›´æ·±çš„ç½‘ç»œï¼Œæ•ˆæžœæ¯”ResNetå¥½ï¼Œè®¡ç®—é‡ä¹Ÿæ›´å°‘ï¼Œè¿™ä¸ªè®¾è®¡çš„æ€æƒ³å°±æ˜¯ feature reuse ã€‚ åŽŸæ–‡æ˜¯è¿™æ ·è¯´çš„ï¼š Instead of drawing representational power from extremely deep or wide architectures, DenseNets exploit the potential of the network through feature reuse, yielding condensed models that are easy to train and highly parameterefficient. ä¸€å¥è¯æ¦‚æ‹¬ï¼š è¿™ç¯‡æ–‡ç« æå‡º feature reuse çš„æ€æƒ³ï¼Œå³åœ¨å‰å‘è¿‡ç¨‹ä¸­å°†æ¯ä¸€å±‚ $L_i$ éƒ½æ·»åŠ åˆ° $L_i$ ä¹‹åŽçš„æ‰€æœ‰å±‚çš„è¾“å…¥ä¸­ï¼Œå½¢æˆä¸€ç§å¯†é›†çš„è·³å±‚è¿žæŽ¥ï¼Œç”±è¿™ç§æ–¹å¼æž„æˆçš„ç½‘ç»œç§°ä¸º DenseNetï¼Œæ˜¯ä¸€ç§ä¸åŒäºŽ ResNet è€Œåˆç¨ä¼˜äºŽ ResNet çš„æ–°åž‹çš„åŸºç¡€æ·±åº¦å·ç§¯ç¥žç»ç½‘ç»œã€‚ 1 DenseNetè®¾è®¡æ€æƒ³DenseNetçš„è®¾è®¡æ€æƒ³æ˜¯ feature reuse ï¼Œä¹Ÿå°±æ˜¯ç‰¹å¾å†åˆ©ç”¨ï¼Œæ€Žä¹ˆä¸ªå†åˆ©ç”¨æ³•å‘¢ï¼Œçœ‹ä¸‹å›¾ï¼Œä¸€ç›®äº†ç„¶ï¼š è¿™ä¸ªå›¾å¾ˆç›´è§‚æ˜Žäº†çš„å±•ç¤ºäº†DenseNet feature reuseçš„è®¾è®¡æ€æƒ³ã€‚è¿™æ˜¯ä¸€ä¸ªdense blockï¼Œæ˜¯DenseNetä¸­çš„ä¸€ä¸ªå­æ¨¡å—ï¼Œæ¯ä¸€å±‚çš„è¾“å…¥éƒ½åŒ…å«äº†å‰é¢æ‰€æœ‰çš„å±‚ï¼ˆé€šè¿‡concatenateçš„æ–¹å¼ï¼‰ï¼Œå¯¹äºŽä¸€ä¸ªLå±‚çš„dense blockï¼Œå…¶è¿žæŽ¥çš„æ•°é‡æœ‰ $L(L+1) \over 2$ ï¼Œæ­£æ˜¯å› ä¸ºå®ƒçš„å¯†é›†è¿žæŽ¥ï¼Œæ‰€ä»¥è¿™ä¸ªç½‘ç»œæ‰ä¼šå«åšDenseNetã€‚å…¬å¼2ä¸­çš„ $H_l$ ä»£è¡¨çš„æ˜¯ä¸€ç³»åˆ—æ“ä½œï¼šBN+ReLU+3 Ã— 3Convã€‚ å¾ˆæ˜Žæ˜¾ç”±äºŽè·³å±‚è¿žæŽ¥çš„å­˜åœ¨ï¼Œè¦æ±‚ä¸€ä¸ªdense blockä¸­çš„feature mapçš„å°ºå¯¸åº”è¯¥ç›¸ç­‰ï¼Œå› æ­¤DenseNetåŒæ ·ä¹Ÿæ˜¯ç”±ä¸åŒçš„blockæž„æˆçš„ï¼Œè¿™äº› dense skip connection ä¹Ÿåªå­˜åœ¨äºŽblockå†…éƒ¨ã€‚ç½‘ç»œçš„æ•´ä½“ç»“æž„å¦‚ä¸‹ï¼š ResNetçš„ç»“æž„ ResNetçš„ç»“æž„æ˜¯ä¸‹å›¾è¿™æ ·çš„ï¼š å‡è®¾ å‰é¢ä¸€å±‚ä¸º $x_{l-1}$ ç›¸é‚»çš„åŽé¢ä¸€å±‚ä¸º $x_l$ ï¼Œ$H_l$ ä»£è¡¨ BN+ReLU+Convç­‰ä¸€ç³»åˆ—æ“ä½œï¼Œé‚£ä¹ˆæ®‹å·®æ¨¡å—ï¼š è¿™ä¸ªå¼å­ä¸­çš„identity mappingå¯ä»¥ä½¿æ¢¯åº¦ç›´æŽ¥ä¼ é€’åˆ°å‰ä¸€å±‚ï¼Œè€Œä¸ç”¨ç»è¿‡blockä¸­çš„ä¸¤ä¸ªä¸­é—´å±‚ï¼Œç›¸å½“äºŽå‡å°‘äº†ç½‘ç»œçš„å±‚æ•°ã€‚è¿™å¯¹äºŽé¿å…æ¢¯åº¦æ¶ˆå¤±æ˜¯å¾ˆæœ‰æ•ˆçš„ã€‚ ä¸è¿‡ä½œè€…è®¤ä¸ºresidual blockä¸­çš„ element wiseç›¸åŠ çš„æ“ä½œä¼šé˜»ç¢ä¿¡æ¯æµï¼Œæ‰€ä»¥ä½œè€…åœ¨åŽé¢ä½¿ç”¨çš„æ˜¯ concatenation æ“ä½œã€‚ Dense connectivity. DenseNet ç½‘ç»œä¸­çš„å¯†é›†è¿žæŽ¥å¯ä»¥ä¿è¯åŽé¢å±‚çš„è¾“å…¥åŒ…å«å‰é¢çš„æ‰€æœ‰å±‚ ä¸Žå…¬å¼1ç›¸æ¯”ï¼Œè¿™é‡Œçš„æ¢¯åº¦å¯ä»¥ç›´æŽ¥ä»Ž Transition layers æˆ– æŸå¤±å‡½æ•°ä¼ é€’åˆ°dense blockä¸­çš„ä»»ä¸€å±‚ã€‚$[x_0,x1,â€¦x_{l-1}]$ æ˜¯ä¸€ä¸ªconcatenation æ“ä½œã€‚ Transition layers blockä¹‹é—´çš„å±‚ç§°ä¸º transition layers ï¼šåŒ…å« a batch normalization layer and an 1Ã—1 convolutional layer followed by a 2Ã—2 average pooling layer. Growth rate å‡è®¾æ¯ä¸€ä¸ª $H_l$ éƒ½äº§ç”Ÿ $k$ä¸ªfeature mapï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªblockä¹‹é—´çš„å·ç§¯å±‚ï¼Œå°½ç®¡å…¶è¾“å…¥æ˜¯ä¾æ¬¡å¢žåŠ çš„ï¼Œä½†æ˜¯è¾“å‡ºæ˜¯å›ºå®šä¸å˜çš„ï¼Œä¹Ÿå°±æ˜¯ $k$ ä¸ªfeature mapã€‚å‡è®¾blockçš„è¾“å…¥ä¸º $k_0$ ï¼Œé‚£ä¹ˆç¬¬ $l$ å±‚çš„è¾“å…¥ feature map æ•°é‡ä¸º $k_0 + k Ã— (l - 1) $ã€‚è¿™ä¸ª $k$ å°±ç§°ä¸º growth rateï¼Œå¾ˆå½¢è±¡ï¼Œå°±æ˜¯ä»£è¡¨åŽé¢æ¯ä¸€å±‚çš„è¾“å…¥ä¼šæ¯”å‰é¢ç›¸é‚»ä¸€å±‚å¢žåŠ  $k$ ä¸ªfeature mapã€‚è¿™æ˜¯ä¸€ä¸ªå¯ä»¥è°ƒèŠ‚çš„è¶…å‚æ•°ã€‚è€Œä¸”è¿™ä¸ª k å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒå°çš„æ•°å€¼ï¼Œæ¯”å¦‚ $k=12$ï¼Œä¸è¿‡æ–‡ç« ä¸­ä½¿ç”¨çš„æ˜¯32ã€‚ è¿™ä¸ª $k$ å®žé™…ä¸Šå°±æ˜¯å·ç§¯çš„è¾“å‡ºé€šé“æ•°channelï¼Œä½†æ˜¯è·Ÿchannelç›¸æ¯”åˆå¤šäº†ä¸€å±‚æ„ä¹‰ï¼Œå°±æ˜¯å¢žé•¿çŽ‡growth rateã€‚ä¸€èˆ¬çš„CNNæ¯”å¦‚ ResNet å…¶è¾“å‡ºé€šé“æ•°éƒ½æ˜¯å¾ˆå¤šçš„ æ¯”å¦‚ï¼š64ï¼Œ128ï¼Œ256ï¼Œ512ç­‰æ•°å€¼ï¼Œè¿™æ˜¯ä¸ºäº†å¢žåŠ ç‰¹å¾çš„å¤šæ ·æ€§ï¼Œé‚£è¿™é‡Œçš„é€šé“æ•°ä¸ºä»€ä¹ˆå¯ä»¥åšåˆ°è¿™ä¹ˆå°‘ï¼Ÿï¼ˆé€šé“æ•°å‡å°‘å¯ä»¥å‡å°‘è®¡ç®—é‡ï¼Œä¸è¿‡è¿™é‡Œè¾“å…¥çš„è®¡ç®—é‡ è²Œä¼¼ æ˜¯å¢žåŠ çš„ï¼ˆå› ä¸ºè¾“å…¥channelå¢žåŠ äº†ï¼‰ï¼Œé‚£ä¹ˆæ€»çš„è®¡ç®—é‡æ€Žä¹ˆå˜åŒ–ï¼Ÿå…³äºŽè®¡ç®—é‡çš„é—®é¢˜ï¼Œçœ‹å®žéªŒéƒ¨åˆ†ï¼‰ æˆ‘çš„ç›´è§‚ç†è§£æ˜¯ï¼šå› ä¸ºæ¯ä¸€å±‚è¾“å…¥çš„ channel éƒ½åœ¨é€’å¢žï¼Œè€Œä¸”è¾“å…¥åŒ…å«äº†å‰é¢æ‰€æœ‰å±‚çš„è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯è¾“å…¥çš„å¤šæ ·æ€§åœ¨é€’å¢žï¼Œæ‰€ä»¥ä»Žè¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œå…¶å¤šæ ·æ€§åªæ˜¯æ¢äº†ä¸ªåœ°æ–¹è€Œå·²ï¼Œå› ä¸ºè¾“å…¥çš„å¤šæ ·æ€§å¿…ç„¶ä¼šå¯¼è‡´è¾“å‡ºçš„å¤šæ ·æ€§ï¼Œå› æ­¤å³ä¾¿æ¯ä¸€å±‚è¾“å‡ºéƒ½åªæœ‰32ä¸ªé€šé“ï¼Œä½†æ˜¯æ¯ä¸€å±‚çš„è¾“å…¥å…¶å¤šæ ·æ€§åœ¨é€æ­¥å¢žåŠ ï¼Œè€Œä¸”è¾“å…¥æ˜¯ç”±åˆ°è¿™ä¸€å±‚ä¸ºæ­¢ç½‘ç»œå‰é¢çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆglobal stateï¼‰æž„æˆçš„ï¼Œæ‰€ä»¥è¾“å‡ºçš„ 32 ä¸ªfeature mapè™½ç„¶æ¯”Resnetå°‘ï¼Œä½†æ˜¯åŒ…å«çš„ä¿¡æ¯å¹¶ä¸å°‘ï¼Œå¯ä»¥è¯´æµ“ç¼©çš„éƒ½æ˜¯ç²¾åŽã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç›¸æ¯”äºŽResNetå¾ˆå¤§çš„è¾“å‡ºé€šé“æ¥è¯´ï¼Œè¿™é‡Œ $k=32$ åè€Œæ›´ç²¾ç‚¼ï¼Œè€Œä¸”è¿™ç‚¹å¯¹äºŽå‡å°‘è®¡ç®—é‡ä¹Ÿæœ‰ä¸€å®šçš„å¸®åŠ©ã€‚ å…³äºŽè¾ƒå°çš„kå€¼ä¸ºä»€ä¹ˆèƒ½workçš„åŽŸå› ï¼Œä½œè€…æ˜¯è¿™ä¹ˆè¯´çš„ï¼š One explanation for this is that each layer has access to all the preceding feature-maps in its block and, therefore, to the networkâ€™s â€œcollective knowledgeâ€. One can view the feature-maps as the global state of the network. Each layer adds k feature-maps of its own to this state. The growth rate regulates how much new information each layer contributes to the global state. The global state, once written, can be accessed from everywhere within the network and, unlike in traditional network architectures, there is no need to replicate it from layer to layer. æ¯ä¸€å±‚çš„è¾“å‡ºï¼ˆæ¯”å¦‚ç¬¬kå±‚ï¼‰éƒ½æ˜¯ç½‘ç»œçš„ä¸€ç§ â€œcollective knowledgeâ€ ï¼Œä¹Ÿå°±æ˜¯çŸ¥è¯†æ”¶é›†çš„è¿‡ç¨‹ï¼ˆè¿™æ˜¯æ˜¾ç„¶çš„ï¼‰ï¼Œè¿™äº›feature mapåŒ…å«äº†å‰é¢æ‰€æœ‰å±‚çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ç§å…¨å±€çš„çŠ¶æ€ä¿¡æ¯ global state ï¼ˆåˆ°ç¬¬kå±‚ä¸ºæ­¢ï¼Œç½‘ç»œå‰é¢éƒ¨åˆ†çš„å…¨å±€ä¿¡æ¯ï¼‰ï¼Œæ¯ä¸€å±‚ï¼ˆç¬¬kå±‚ï¼‰åˆå°†è‡ªå·±çš„ k ä¸ªè¾“å‡ºæ·»åŠ åˆ°ä¸‹ä¸€å±‚çš„è¾“å…¥ï¼Œç›¸å½“äºŽå¯¹å…¨å±€çŠ¶æ€ä¿¡æ¯åšäº†è´¡çŒ®ï¼Œk ä»£è¡¨æœ‰å¤šå°‘æ–°çš„ä¿¡æ¯æ·»åŠ åˆ°äº†å…¨å±€çŠ¶æ€ä¿¡æ¯ä¸­ã€‚ æœ€åŽè¿™å¥è¯ The global state, once written, can be accessed from everywhere within the network and, unlike in traditional network architectures, there is no need to replicate it from layer to layer. è¿™ä¸ªåœ°æ–¹ç›´æŽ¥ç†è§£æœ‰ç‚¹é—®é¢˜ï¼šå…¨å±€ä¿¡æ¯ä¸€æ—¦è¢«æŸä¸€å±‚æ”¹å†™ï¼Œé‚£ä¹ˆç½‘ç»œä¸­çš„æ‰€æœ‰å±‚éƒ½å¯ä»¥è®¿é—®è¿™ä¸ªæ”¹å˜å¹¶å—ç›Šã€‚è€Œä¸”ä¸éœ€è¦åƒä¼ ç»Ÿçš„ç½‘ç»œæž¶æž„ä¸€æ ·ä¸€å±‚ä¸€å±‚çš„å¾€ä¸‹ä¼ è¾“ã€‚ å› ä¸ºå…¨å±€çŠ¶æ€ä¿¡æ¯æ˜¯ä¸åœå˜åŒ–çš„ï¼Œæ¯ä¸€å±‚éƒ½æœ‰æ–°çš„è´¡çŒ®ï¼Œé‚£ä¹ˆç¬¬kå±‚ç½‘ç»œæ”¹å˜äº†å…¨å±€çŠ¶æ€ä¿¡æ¯åŽï¼Œå‰é¢çš„å±‚ï¼ˆk-1å±‚ä»¥åŠk-1å‰é¢çš„å±‚ï¼‰è¿˜èƒ½è®¿é—®ï¼Ÿå‰é¢çš„å±‚è‚¯å®šä¸èƒ½è®¿é—®ï¼Œæ‰€ä»¥è¿™é‡Œåº”è¯¥æŒ‡çš„æ˜¯ï¼Œç¬¬kå±‚åŽé¢çš„æ‰€æœ‰å±‚ï¼ˆæ¯”å¦‚k+3å±‚ï¼‰éƒ½å¯ä»¥è®¿é—®ï¼Œè€Œä¸”æ˜¯ç›´æŽ¥è®¿é—®ï¼ˆk+3å±‚å¯ä»¥ç›´æŽ¥è®¿é—®ç¬¬kå±‚ï¼Œç”±äºŽå¯†é›†è·³å±‚è¿žæŽ¥çš„å­˜åœ¨ï¼‰ï¼Œä¸ç”¨åƒä¼ ç»Ÿç½‘ç»œé‚£æ ·å¿…é¡»ä¸€å±‚ä¸€å±‚ä¼ æ’­åˆ°é‚£ä¸€å±‚æ‰èƒ½è®¿é—®åˆ°ï¼ˆå¿…é¡»ç»è¿‡ $k \to k+1 \to k+2 \to k+3$çš„è¿‡ç¨‹æ‰å¯ä»¥ï¼‰ã€‚ æ‰€ä»¥ $k$ å€¼æ¯”è¾ƒå°æ˜¯å¯ä»¥çš„ï¼ŒåŽŸå› å°±åœ¨äºŽ $k$ çš„å¦ä¸€ä¸ªèº«ä»½ï¼Œå°±æ˜¯å¢žé•¿çŽ‡ growth rate ï¼Œè¿™é‡Œç½‘ç»œçš„å¤šæ ·æ€§æ˜¯ä»Žè¾“å…¥çš„è§’åº¦æ¥çœ‹çš„ï¼Œæ¯ä¸€å±‚çš„è¾“å…¥éƒ½ä»¥ æ¯æ¬¡ $k$ ä¸ªfeature mapçš„é€Ÿåº¦å¢žåŠ ï¼Œè€Œä¸”ç”Ÿæˆæ–°çš„å…¨å±€ä¿¡æ¯ï¼ŒåŽé¢çš„å±‚éƒ½å¯ä»¥ç›´æŽ¥è®¿é—®ã€‚ è¿™ä¸ªåœ°æ–¹ï¼Œkçš„ä½œç”¨æ„Ÿè§‰çœŸçš„å¾ˆå¥‡å¦™ï¼Œä¸è¿‡ä»–å¥‡å¦™çš„ä½œç”¨æ˜¯ç”±ç½‘ç»œçš„ç»“æž„å¼•å…¥çš„ã€‚ Bottleneck layers å‰é¢æåˆ° k æ˜¯ä¸€ä¸ªæ¯”è¾ƒå°çš„æ•°ï¼Œæ¯”å¦‚æ–‡ç« ä½¿ç”¨çš„32ï¼Œè€Œä¸”è¾ƒå°çš„kå¯ä»¥å‡å°è®¡ç®—é‡ï¼Œä½†æ˜¯ç”±äºŽè¾“å…¥å®žåœ¨æ˜¯å¤ªå¤šäº†ï¼ˆè¶Šå¾€åŽè¶Šå¤šï¼Œæ¯”å¦‚å½“ä¸€ä¸ªblockåŒ…å«12å±‚æ—¶ï¼Œæœ€åŽä¸€å±‚çš„è¾“å…¥channel å¯ä»¥ è¾¾åˆ° 12Ã—32=384ï¼‰ï¼Œæ‰€ä»¥å¯¹äºŽè®¡ç®—é‡æ¥è¯´ç›¸å½“äºŽæ‹†ä¸œå¢™è¡¥è¥¿å¢™ï¼Œå¹¶ä¸ä¼šæœ‰æ˜Žæ˜¾å‡å°‘ã€‚å› æ­¤éœ€è¦å€ŸåŠ© Bottleneck layers æ¥å‡å°‘ä¸€éƒ¨åˆ†è®¡ç®—é‡ã€‚ä¹Ÿå°±æ˜¯åœ¨ 3Ã—3 å·ç§¯ä¹‹å‰ æ·»åŠ  1Ã—1 å·ç§¯ é™ä½Ž channel æ•°é‡ï¼Œ1Ã—1 å·ç§¯çš„è¾“å‡ºchannelä¸º $4k$ ä¸ªï¼Œå¦‚æžœä¸é™channelçš„è¯3Ã—3 å·ç§¯çš„è¾“å…¥å°±æ˜¯ $k_0 + k Ã— (l - 1) $ ä¸ªã€‚è¿™æ ·çš„è¯ $H_l$ å‡½æ•°å°±å˜æˆäº†ï¼šBN-ReLU-Conv(1Ã—1)-BN-ReLU-Conv(3Ã—3) ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„DenseNetç§°ä¸ºï¼šDenseNet-Bã€‚ Compression ä¸ºäº†è¿›ä¸€æ­¥å‡å°‘è®¡ç®—é‡ï¼Œæå‡æ¨¡åž‹çš„ç´§å‡‘æ€§ï¼Œä½œè€…è¿˜æå‡ºäº†ä¸€ç§æŽªæ–½ï¼Œå°±æ˜¯å‡å°‘transition layers çš„channelï¼Œå‡è®¾ dense blockçš„è¾“å‡º channel æ˜¯ mï¼Œé‚£ä¹ˆå¯ä»¥è®© transition layers çš„channel ä¸º $\lfloor \theta m\rfloor$ $0 &lt;Î¸ â‰¤1$ ï¼Œç§°ä¹‹ä¸º Compression ï¼Œ$\theta &lt;1$ æ—¶ï¼ˆæ–‡ç« ä½¿ç”¨0.5ï¼‰ ä½¿ç”¨è¿™ç§ç‰ˆæœ¬çš„ DenseNetç§°ä¸ºï¼šDenseNet-Cï¼Œ è¿žåŒå‰é¢çš„ Bottleneck layers ä¸€å—ä½¿ç”¨æ—¶ ç§°ä¸º DenseNet-BC ã€‚ æ–‡ç« é’ˆå¯¹å¥½å‡ ä¸ªæ•°æ®é›†åšäº†å®žéªŒï¼Œæ‰€ç”¨çš„ç»“æž„ä¹Ÿä¸å¤ªä¸€æ ·ã€‚è¿™é‡Œåªç»™å‡º DenseNet åœ¨ImageNet ä¸Šçš„æ¨¡åž‹ç»“æž„ï¼Œå…¶ä»–çœ‹è®ºæ–‡ï¼š 2 ä¸ŽResNetçš„å¯¹æ¯” ResNetï¼š Residual block DenseNetï¼šDense block ResNet åå‘ä¼ æ’­æ—¶æ¢¯åº¦å¯ä»¥ç›´æŽ¥é€šè¿‡ identity mapping ä¼ é€’åˆ°å‰ä¸€å±‚ï¼Œè€Œä¸ç»è¿‡ä¸­é—´ Residual block çš„é‚£ä¸¤å±‚ï¼Œä»Žè€Œé¿å…æ¢¯åº¦æ¶ˆå¤± DenseNet å¯ä»¥é€šè¿‡ skip-connection å°†æ¢¯åº¦ä¼ é€’åˆ°å‰é¢çš„ä»»ä¸€å±‚ï¼Œä¿¡æ¯æµæ›´å¤§ï¼ŒèŒƒå›´æ›´å¹¿æ³›ï¼ŒåŒæ ·å¯ä»¥é¿å…æ¢¯åº¦æ¶ˆå¤± Dense block è·Ÿ Residual blockæ¯”è¾ƒåƒï¼Œä½†Dense blockæ˜¯å¯†é›†è¿žæŽ¥çš„ï¼Œå…¶ä¸­çš„ä¸€ä¸ª skip-connection ç›¸å½“äºŽ Residual blockä¸­çš„ identity mapping ï¼Œå·®å¼‚åœ¨äºŽ Dense block ä¸­è¿žæŽ¥å‰é¢çš„å±‚ä¼ é€’è¿‡æ¥çš„ä¿¡æ¯æ—¶æ˜¯é€šè¿‡ concatenation æ“ä½œï¼Œè€Œ Residual block åˆ™æ˜¯ element-sise summationã€‚ 3 å®žéªŒç»“æžœå°æ•°æ®é›†ä¸Šçš„ç»“æžœï¼šCIFAR-10 CIFAR-100ï¼ŒSVHN åŠ äº† Bottleneck layers å’Œ Compression ä¹‹åŽï¼Œå‚æ•°é‡æ˜Žæ˜¾å‡å°‘å¾ˆå¤šï¼Œæ‰€ä»¥DenseNetä¹‹æ‰€ä»¥å‚æ•°å°‘ï¼Œé‚£è¿˜æ˜¯ Bottleneck layers çš„å’Œ Compression çš„åŠŸåŠ³ï¼Œä½†ä¸ç®¡æ€Žä¹ˆè¯´ï¼Œåœ¨å‚æ•°å‡å°‘çš„åŒæ—¶ï¼Œè¿˜èƒ½é™ä½Žé”™è¯¯çŽ‡ï¼Œé‚£å°±æ˜¯å¾ˆæœ‰æ•ˆã€‚ CIFAR-10ä¸Šçš„å„ç§å¯¹æ¯”ï¼š ç›¸åŒçš„ç²¾åº¦ä¸‹ï¼ŒDenseNetçš„å‚æ•°é‡åªæœ‰ResNetçš„1/3ï¼Œè¿™é‡Œçš„ResNetæ˜¯æŒ‡ (pre-activation) ResNets ï¼ˆæ¥è‡ªä½•å‡¯æ˜Žå¤§ç¥žçš„è®ºæ–‡ï¼šIdentity mappings in deep residual networksï¼‰ DenseNetå‚æ•°é‡æ›´å°‘ï¼Œä»Žæµ‹è¯•è¯¯å·®æ–¹é¢çœ‹ï¼ŒäºŒè€…ä¸ç›¸ä¸Šä¸‹ã€‚ å¤§æ•°æ®é›†ä¸Šçš„ç»“æžœï¼šImageNet ä¸‹é¢ table 3 å±•ç¤ºäº†ä¸åŒçš„ DenseNet-BC é…ç½®çš„ç»“æžœï¼Œfigure 3 å±•ç¤ºäº† DenseNet-BC ä¸ŽResNetåœ¨é”™è¯¯çŽ‡ä¸Žå‚æ•°é‡å’Œè®¡ç®—é‡ä¹‹é—´çš„å¯¹æ¯” ç›¸åŒå‚æ•°æƒ…å†µä¸‹DenseNetçš„é”™è¯¯çŽ‡æ›´ä½Žï¼Œç›¸åŒé”™è¯¯çŽ‡æƒ…å†µä¸‹DenseNetå‚æ•°æ›´å°‘ ç›¸åŒè®¡ç®—é‡æƒ…å†µä¸‹DenseNetçš„é”™è¯¯çŽ‡æ›´ä½Žï¼Œç›¸åŒé”™è¯¯çŽ‡æƒ…å†µä¸‹DenseNetçš„è®¡ç®—é‡æ›´å°‘ DenseNet-BC åº”è¯¥æ˜¯å…¨é¢åŽ‹åˆ¶ ResNet å®žéªŒéƒ¨åˆ†ï¼Œæ­¤å¤„è¯´çš„æ¯”è¾ƒç®€å•ï¼Œè¯¦ç»†è¯·çœ‹è®ºæ–‡ 4 æ€»ç»“Model compactness. æ¨¡åž‹ç´§å‡‘æ€§ç»“æžœï¼Œè¿˜æ˜¯çœ‹å‰é¢æåˆ°è¿‡çš„ Figure 4 Implicit Deep Supervision éšå¼çš„æ·±å±‚ç›‘ç£ä¿¡å·ä¸»è¦æ˜¯é€šè¿‡è·³å±‚è¿žæŽ¥å®žçŽ°çš„ï¼Œæ¯ä¸€å±‚éƒ½å¯ä»¥ç›´æŽ¥ä»Žloss function èŽ·å¾—é¢å¤–çš„ç›‘ç£ä¿¡å·ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆDenseNetæ•ˆæžœå¥½çš„ä¸€ç§è§£é‡Šã€‚loss functionå¯ä»¥è¢«ç½‘ç»œä¸­çš„æ‰€æœ‰å±‚å…±äº«ã€‚ å…³äºŽ deep supervision çš„å¥½å¤„å·²ç»åœ¨ deeply-supervised nets (DSN) è¿™ç¯‡è®ºæ–‡ä¸­è§£é‡Šã€‚ Stochastic vs. deterministic connection. DenseNetçš„è®¾è®¡æ€æƒ³ä¸Ž Deep networks with stochastic depth è¿™ç¯‡è®ºæ–‡ä¸­æå‡ºçš„ç»“æž„æœ‰ä¸€å®šçš„è”ç³»ã€‚stochastic depth ä¼šéšæœºçš„ä¸¢å¼ƒ residual blockä¸­çš„ç½‘ç»œï¼Œè€Œåªä¿ç•™ identity mappingã€‚è¿™ç¯‡è®ºæ–‡è¿™é‡Œä¸å†å™è¿°ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹è¿™ç¯‡è®ºæ–‡ã€‚ Feature Reuse. å…³äºŽç‰¹å¾çš„å†åˆ©ç”¨ï¼Œä½œè€…åšäº†ä¸€ä¸ªå¯è§†åŒ–çš„è¯•éªŒï¼š åæ ‡ $(l,s)â€‹$ å¤„çš„é¢œè‰²ä»£è¡¨ç¬¬ $lâ€‹$ å±‚ä¸Žå‰é¢çš„ç¬¬ $sâ€‹$ å±‚ä¹‹é—´çš„æƒé‡çš„ $L1â€‹$èŒƒæ•°çš„å‡å€¼ã€‚å¯çŸ¥ï¼š åŽé¢çš„å±‚ç¡®å®žä»Žå‰é¢çš„å±‚ä¸­æå–äº†ä¿¡æ¯ï¼ˆè“è‰²åŒºåŸŸä»£è¡¨æƒå€¼åŸºæœ¬ä¸Šåœ¨0é™„è¿‘å¯ä»¥è®¤ä¸ºä¸¤å±‚ä¹‹é—´æ²¡æœ‰è¿žæŽ¥å…³ç³»ï¼‰ è¿™ä¸ªå›¾è¯¦ç»†çš„è§£é‡Šçœ‹åŽŸæ–‡å§ï¼Œæ„Ÿè§‰é™¤äº†ä¸Šé¢é‚£ä¸€ç‚¹ä¹‹å¤–ï¼Œå…¶ä»–çš„ç†è§£çš„ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šã€‚ è¿™ç¯‡æ–‡ç« ä»Žå¦ä¸€è§’åº¦æå‡ºä¸€ç§å¯†é›†çš„è·³å±‚è¿žæŽ¥ï¼Œå®žçŽ°äº†ç‰¹å¾å†åˆ©ç”¨ï¼Œè§£å†³äº†æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼Œå¹¶ä¸”é€šè¿‡ 1Ã—1 å·ç§¯å’Œ åŽ‹ç¼©å·ç§¯channelæ¥å‡å°‘è®¡ç®—é‡ã€‚ä¸ŽResNetç›¸æ¯”ï¼Œåœ¨åŒæ ·çš„å‚æ•°å’Œè®¡ç®—é‡æƒ…å†µä¸‹ï¼Œå‡†ç¡®çŽ‡æ›´é«˜ï¼›åœ¨åŒæ ·çš„å‡†ç¡®çŽ‡æƒ…å†µä¸‹ï¼Œå‚æ•°é‡å’Œè®¡ç®—é‡æ›´å°‘ã€‚]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>basic dl models</tag>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>DenseNet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-SqueezeDet-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F7f3052ae%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šSqueezeDet: Unified, Small, Low Power Fully Convolutional Neural â€¦ä»£ç ï¼šhttps://github.com/BichenWuUCB/squeezeDet 1 ç®€è¦ä»‹ç»è¿™ç¯‡æ–‡ç« æå‡ºçš„SqueezeDet ç½‘ç»œä¸»è¦æ˜¯é€‚ç”¨äºŽè‡ªåŠ¨é©¾é©¶é¢†åŸŸçš„ã€‚ SqueezeDet : åŸºäºŽSqueezeNet çš„Detectionæ¨¡åž‹ï¼Œæ•…ç§°SqueezeDet ã€‚ å¯¹äºŽè‡ªåŠ¨é©¾é©¶é¢†åŸŸæ¥è¯´ï¼Œå‡ ä¸ªå…³é”®å› ç´ å¦‚ä¸‹ï¼š ç²¾åº¦ã€‚é«˜ç²¾åº¦ï¼Œå’Œå°½å¯èƒ½é«˜çš„ recallï¼Œæœ€å¥½ä½¿100%çš„recallï¼› é€Ÿåº¦ã€‚åº”è¯¥å…·å¤‡å®žæ—¶æ£€æµ‹çš„é€Ÿåº¦ï¼ˆ30FPSï¼‰ï¼› è¾ƒå°çš„æ¨¡åž‹ã€‚å°çš„æ¨¡åž‹å¥½å¤„æœ‰ï¼šè®­ç»ƒæ—¶æ›´åŠ é«˜æ•ˆï¼Œè½¦è½½å®¢æˆ·ç«¯è¿›è¡Œæ¨¡åž‹æ›´æ–°æ—¶éœ€è¦è¾ƒå°‘çš„æ— çº¿ç½‘ç»œå¸¦å®½å’Œé€šä¿¡æ¶ˆè€—ï¼Œæ¶ˆè€—æ›´å°‘çš„èƒ½é‡ï¼Œæ›´é€‚ç”¨äºŽåµŒå…¥å¼è®¾å¤‡éƒ¨ç½²ã€‚ èƒ½é‡æ•ˆçŽ‡ã€‚ä¸€äº›æ¡Œé¢å’Œæ¡†æž¶çº§åˆ«çš„ç¥žç»ç½‘ç»œå¾€å¾€éƒ½éœ€è¦å¾ˆå¤§çš„èƒ½é‡è€—æ•£ï¼ˆ250Wï¼‰ï¼Œä½†æ˜¯å¯¹äºŽè‡ªåŠ¨é©¾é©¶é¢†åŸŸæ¥è¯´ï¼ŒåµŒå…¥å¼å¤„ç†å™¨æ‰æ˜¯åº”è¯¥è€ƒè™‘çš„ä¸»è¦å¯¹è±¡ã€‚æ¯«æ— ç–‘é—®ï¼Œå¦‚ä½•è®©ç¥žç»ç½‘ç»œæ¨¡åž‹é€‚åº”å°çš„èƒ½é‡æ¶ˆè€—æ˜¯ä¸ªå…³é”®é—®é¢˜ã€‚ ç›®å‰å¾ˆå¤šå…¬å¸éƒ½åœ¨ç ”å‘é€‚ç”¨äºŽè‡ªåŠ¨é©¾é©¶çš„å¤„ç†å™¨ï¼Œè‹±ä¼Ÿè¾¾ çš„ Xavier å·ç§°å®žçŽ°æ¯ç§’ 30 ä¸‡äº¿æ¬¡è®¡ç®—(TOPS)ï¼Œæ•´ä¸ªç³»ç»ŸåŠŸè€—ï¼ˆåŒ…å«CPU,GPUåœ¨å†…ï¼‰ä¸º 30Wï¼›è‹±ç‰¹å°”çš„ EyeQ5 ï¼Œå·ç§°å®žçŽ°15ä¸‡äº¿æ¬¡è®¡ç®—åŠŸè€—ä¸º 5-6Wã€‚ SqueezeDet ä¸»è¦å°±æ˜¯é’ˆå¯¹ä»¥ä¸Šå‡ ä¸ªæ–¹é¢æå‡ºäº†è‡ªå·±çš„æž¶æž„ã€‚ SqueezeDet ä¸»è¦å‚è€ƒäº† SqueezeNetï¼ŒYOLOå’ŒSSDï¼Œè¿˜æœ‰FCNå…¨å·ç§¯ç½‘ç»œã€‚ æœ€ç»ˆçš„æ•ˆæžœæ˜¯ï¼Œåœ¨KITTI æ•°æ®é›†ä¸Šï¼Œè¾“å…¥åˆ†è¾¨çŽ‡ä¸º1242Ã—375çš„æƒ…å†µä¸‹ï¼Œå…¶é€Ÿåº¦è¾¾åˆ°äº†57.2FPSï¼Œæ¨¡åž‹ä½“ç§¯ä»…ä¸ºä¸åˆ°8MBï¼›åœ¨TITAN XGPUä¸Š æ£€æµ‹ä¸€å¼ å›¾ç‰‡çš„èƒ½è€—ä¸º $1.4J$ï¼Œè¿™æ˜¯Faster R-CNN çš„1/84. è€Œç²¾åº¦ä¹Ÿè¾¾åˆ°äº†ç›®å‰ state-of-the-artæ°´å¹³ã€‚åœ¨æŸäº›æ–¹é¢ç”šè‡³è¶…è¿‡äº†å…¶ä»–çš„æ¨¡åž‹ã€‚ 2 ç»“æž„è®¾è®¡å…ˆå›žé¡¾ä¸€ä¸‹è·Ÿè¿™ç¯‡æ–‡ç« æœ‰å…³çš„ï¼Œå…¶ä»–çš„ç½‘ç»œç»“æž„ã€‚ 2.1 YOLOä¸ŽFaster R-CNNç›¸æ¯”ï¼ŒYOLOæ˜¯å±žäºŽä¸€æ­¥åˆ°ä½çš„æ¨¡åž‹ï¼Œä¸éœ€è¦é¢„å…ˆç”Ÿæˆå€™é€‰æ¡†ï¼Œç„¶åŽå†åŽ»æå–ç‰¹å¾è¿›è¡Œåˆ†ç±»å’Œå›žå½’ã€‚ YOLOçš„æ¨¡åž‹ç»“æž„ï¼Œå¦‚ä¸‹ï¼š ä½†å®žé™…ä¸ŠYOLOä¹Ÿæ˜¯æœ‰ç”Ÿæˆå€™é€‰æ¡†çš„æ­¥éª¤çš„ï¼Œåªæ˜¯ è¿™ä¸ªæ­¥éª¤è·Ÿæ£€æµ‹åˆå¹¶åˆ°ä¸€èµ·äº†ã€‚é‚£è¿™ä¸ªç”Ÿæˆå€™é€‰åŒºåŸŸçš„æ­¥éª¤åœ¨å“ªå‘¢ã€‚ å…ˆçœ‹ä¸‹é¢è¿™ä¸¤å¼ å›¾ YOLOçš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼Œå°†åŽŸå›¾åˆ†æˆä¸€ä¸ª 7Ã—7çš„ç½‘æ ¼ï¼š å¯¹äºŽæ¯ä¸€ä¸ªç½‘æ ¼éƒ½é¢„æµ‹ä¸¤ä¸ª å½¢çŠ¶ä¸åŒçš„bounding boxï¼ˆboxçš„å°ºå¯¸å¯ä»¥å¤§äºŽç½‘æ ¼çš„å¤§å°ï¼‰ï¼Œé‚£ä¹ˆå›¾ç‰‡ä¸Šç›®æ ‡çš„bounding box è‚¯å®šè·ŸæŸå‡ ä¸ªä¸åŒçš„ç½‘æ ¼ä¸­çš„bounding box è·ç¦»æœ€è¿‘ã€‚ é‚£ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªç½‘æ ¼æ‰€å…³è”çš„ä¸¤ä¸ª box ï¼ˆç±»ä¼¼Faster R-CNNä¸­çš„anchorï¼‰é‡Œé¢çš„åŒºåŸŸæœ‰å¯èƒ½æ˜¯ç›®æ ‡ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸æ˜¯ç›®æ ‡ï¼Œæˆ–è€…åªåŒ…å«ç›®æ ‡çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…ä¸€éƒ¨åˆ†æ˜¯ç›®æ ‡ï¼Œä¸€éƒ¨åˆ†ä¸æ˜¯ç›®æ ‡ã€‚ é‚£ä¹ˆè¿™æ ·ä¸€æ¥æ¯ä¸ª bounding box éƒ½æœ‰ä¸€ä¸ªæ¦‚çŽ‡ï¼Œè¡¨ç¤ºä»–æ˜¯ç›®æ ‡çš„æ¦‚çŽ‡ã€‚è¿™ä¸ªæ¦‚çŽ‡ æ˜¯$$P_r(Object)*IOU_{truth}^{pred}$$å…¶ä¸­ $P_r(Object)$ è¡¨ç¤ºè¿™ä¸ªboxä¸­æ˜¯å¦å­˜åœ¨ç›®æ ‡ï¼Œå­˜åœ¨å°±ä¸º1ï¼Œä¸å­˜åœ¨å°±ä¸º0. æ¯” å¦‚ä¸Šé¢ä¸¤å¼ å›¾ä¸­ï¼Œä¸åŒçš„ä¸¤ä¸ªæ ¼ç‚¹ï¼ˆçº¢è‰²ï¼‰å¯¹åº”ç€ä¸åŒçš„ä¸¤ç»„ boxsï¼Œæ¯ä¸ªæ ¼ç‚¹å¯¹åº”ä¸¤ä¸ªboxï¼Œç”±äºŽè¿™å››ä¸ªboxéƒ½ä¸Žç›®æ ‡çš„åŒºåŸŸæœ‰é‡å ï¼ˆIOUä¸ä¸º0ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªå››ä¸ªboxçš„ $P_r(Object)$ éƒ½ä¸º1. å…¶å®žè¿™ä¸ª $P_r(Object)$ å°±æ˜¯ç”¨ IOU ï¼ˆä¸Žground truthä¹‹é—´çš„IOUï¼‰è¡¡é‡çš„ï¼Œé¦–å…ˆè®¡ç®—IOUï¼Œåªè¦IOU ä¸ä¸º0ï¼Œ $P_r(Object)$ å°±æ˜¯1. ä¸€ä¸ªboxä¸­æœ‰ç›®æ ‡çš„æ¦‚çŽ‡å…¶å®žå°±æ˜¯IOUçš„å€¼ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œæ¯ä¸ªboxè¿˜éƒ½æœ‰ä½ç½®ä¿¡æ¯ï¼Œç”¨åæ ‡æ¥è¡¨ç¤ºï¼Œä¸­å¿ƒç‚¹åæ ‡(x, y),ä»¥åŠboxå®½å’Œé«˜ï¼Œwï¼Œhã€‚ åˆ°æ­¤ä¸ºæ­¢ï¼Œæ¯ä¸ªæ ¼ç‚¹å…³è”çš„æ¯ä¸ªboxæœ‰5ä¸ªå±žæ€§ï¼Œ4ä¸ªä½ç½®ä¿¡æ¯ï¼Œ1ä¸ªconfidenceä¿¡æ¯ã€‚é‚£ä¸€ä¸ªæ ¼ç‚¹å…³äºŽbox çš„å®šä½ä¿¡æ¯æœ‰10ä¸ªã€‚ ä½†æ˜¯æ£€æµ‹ä¸ä»…è¦æ£€æµ‹å‡ºç›®æ ‡ï¼Œè¿˜è¦è¯†åˆ«å‡ºç›®æ ‡æ˜¯ä»€ä¹ˆç‰©ä½“ï¼Œå› æ­¤è¿˜éœ€è¦é¢å¤–çš„ä¿¡æ¯ã€‚å‡è®¾è¦è¯†åˆ«çš„ç±»åˆ«æ€»æ•°ä¸ºCï¼ŒYOLOä¸­ï¼Œå¯¹äºŽæ¯ä¸ªæ ¼ç‚¹ï¼ˆä¸æ˜¯å…³è”çš„ä¸¤ä¸ªbounding boxï¼‰éƒ½åšä¸€ä¸ªç‰©ä½“ç±»åˆ«é¢„æµ‹ã€‚ é‚£ä¹ˆä¸€ä¸ªæ ¼ç‚¹è¿˜ä¼šäº§ç”ŸCä¸ªç‰©ä½“ç±»åˆ«é¢„æµ‹ä¿¡æ¯ã€‚å¯¹äºŽPASCAL æ•°æ®é›†æ¥è¯´ C=20ã€‚é‚£æ­¤å¤„ é‚£ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªæ ¼ç‚¹ç»è¿‡ç½‘ç»œä¹‹åŽï¼Œè¦å¾—åˆ° å…±30ä¸ªä¿¡æ¯ï¼Œè¿™é‡Œé¢åŒ…å«å®šä½ï¼ˆ10ï¼‰å’Œè¯†åˆ«ä¿¡æ¯ï¼ˆ20ç»´ï¼‰ã€‚ æ‰€ä»¥æˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹YOLOçš„æœ€åŽå…¨è¿žæŽ¥å±‚é‚£ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥çœ‹åˆ°YOLOç”¨äº†ä¸¤ä¸ªå…¨è¿žæŽ¥å±‚ï¼Œä¸€å±‚æ˜¯4096Ã—1çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯ 1470Ã—1çš„ã€‚å‰é¢çš„4096å¯ä»¥è®¤ä¸ºæ˜¯æ ¹æ®ç»éªŒé€‰å–çš„ï¼ˆalexnetï¼ŒVGGç¬¬ä¸€ä¸ªå…¨è¿žæŽ¥å±‚éƒ½æ˜¯4096ç»´çš„ï¼‰ï¼Œä½†æ˜¯åŽé¢çš„1470Ã—1å°±ä¸æ˜¯ç»éªŒå€¼äº†ï¼Œå…¶å®žæ˜¯ 1470=7Ã—7Ã—30ã€‚ é‚£è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å·²ç»å¾ˆæ˜Žç™½äº†ã€‚æ­¤å¤„çš„ 7Ã—7 å°±æ˜¯è¦æŠŠå›¾ç‰‡åˆ†æˆå¤šå°‘ æ ¼ç‚¹ï¼ŒåŽé¢çš„30å°±æ˜¯æ¯ä¸ªæ ¼ç‚¹è¦é¢„æµ‹çš„ä¿¡æ¯ç»´æ•°ã€‚ç»“åˆä¸‹å›¾æ›´æ˜Žäº†ã€‚ é‚£å…¶å®žåˆ°è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºæ¥äº†ï¼ŒYOLOè§£å†³çš„æ–¹å¼å…¶å®žå±žäºŽæ˜¯å›žå½’é—®é¢˜ã€‚å‰é¢24ä¸ªå·ç§¯å±‚æå–ç‰¹å¾ï¼ŒåŽé¢ä¸¤ä¸ªå…¨è¿žæŽ¥å±‚ï¼Œç”¨äºŽå›žå½’ã€‚å›žå½’çš„æ˜¯ä»€ä¹ˆï¼Ÿå›žå½’æ‹Ÿåˆçš„æ˜¯æ¯ä¸ªæ ¼ç‚¹ä¸¤ä¸ªboxçš„åæ ‡å€¼ï¼ˆ5Ã—2ï¼‰ï¼Œå’Œæ¯ä¸ªæ ¼ç‚¹çš„åˆ†ç±»å‘é‡ï¼ˆ20ï¼‰ã€‚ 2.2 Faster R-CNNFaster R-CNNçš„ç»“æž„è§ä¸‹å›¾ï¼Œå¾ˆæ˜¾ç„¶æ˜¯ä¸¤æ­¥æ£€æµ‹çš„ï¼Œå…ˆç”Ÿæˆä¸€ç³»åˆ—å¯èƒ½æ˜¯ç›®æ ‡çš„åŒºåŸŸï¼ˆstage 1ï¼‰ï¼Œç„¶åŽå¯¹è¿™äº›åŒºåŸŸè¿›è¡Œæ£€æµ‹ï¼ˆstage 2ï¼‰ã€‚stage 2çš„ç®­å¤´èµ·ç‚¹ä¸å¤ªå¯¹ï¼Œåº”è¯¥æ˜¯ä»Ž proposalså¼€å§‹ï¼Œå‰é¢çš„å·ç§¯éƒ¨åˆ†æ˜¯å…±äº«çš„ã€‚ å®žé™…ä¸Šï¼ŒFaster R-CNNçš„stage 1å°±å·²ç»äº§ç”Ÿç›®æ ‡æ£€æµ‹çš„åŒºåŸŸäº†ï¼Œå¯ä»¥è®¤ä¸ºè¿™å·²ç»æ˜¯ä¸€ä¸ª å¼±çš„æ£€æµ‹å™¨äº†ï¼ˆè¿™ä¸ªç§°ä¸ºRPNï¼‰ï¼Œè¿™ä¸ªstage 1å·²å°†åŒ…å«äº†å®šä½çš„ä¿¡æ¯ï¼Œåªæ˜¯å®ƒåªç¡®è®¤åŒºåŸŸä¸­æ˜¯å¦åŒ…å«ç›®æ ‡ï¼Œè€Œä¸å…³å¿ƒåŒ…å«çš„æ˜¯ä»€ä¹ˆç±»åˆ«çš„ç›®æ ‡ã€‚stage 2æ˜¯ä¸€ä¸ªå¼ºæ£€æµ‹å™¨ï¼Œé™¤äº†è¿›ä¸€æ­¥ç²¾ä¿®å®šä½ä¿¡æ¯ï¼Œæœ€ä¸»è¦çš„æ˜¯æŠŠç›®æ ‡ç±»åˆ«è¯†åˆ«æ¥ã€‚ å‡è®¾æˆ‘ä»¬åœ¨stage 1ä¸­æŠŠå€™é€‰åŒºåŸŸä¸­çš„ç›®æ ‡ç±»åˆ«ä¹Ÿé¢„æµ‹å‡ºæ¥ï¼Œé‚£å…¶å®žstage 2å¯ä»¥ä¸ç”¨äº†ã€‚ YOLO å…¶å®žå°±ç›¸å½“äºŽ Faster R-CNNçš„stage 1æ­¥éª¤ï¼Œå½“ç„¶ç»†èŠ‚ä¸Šä¼šæœ‰ä¸åŒã€‚æ¯”å¦‚ YOLOåŽé¢ä½¿ç”¨çš„æ˜¯å…¨è¿žæŽ¥å±‚ï¼Œè€ŒFaster R-CNN stage 1æ­¥éª¤ï¼ˆRPNï¼‰åŽé¢ä½¿ç”¨çš„æ˜¯å…¨å·ç§¯å±‚ã€‚ YOLOæ¯ä¸ªæ ¼ç‚¹çš„æ˜¯é¢„æµ‹ç›®æ ‡ç±»åˆ«çš„ï¼ˆå¤šåˆ†ç±»ï¼‰ï¼ŒRPNåªé¢„æµ‹æ˜¯å¦æ˜¯ç›®æ ‡ï¼ˆäºŒåˆ†ç±»ï¼‰ã€‚ å†çœ‹çœ‹RPNçš„ä¸»è¦ç»“æž„ï¼Œå¦‚ä¸‹å›¾ï¼š ä¸»è¦å°±æ˜¯ anchorè¿™ä¸ªæœºåˆ¶ï¼Œå‡è®¾feature mapä¸Šæ¯ä¸ªåƒç´ å…³è”kä¸ªanchorã€‚ å‡è®¾å‰é¢ç”¨çš„ZFNetï¼Œé‚£ä¹ˆæœ€åŽä¸€ä¸ªå·ç§¯å±‚è¾“å‡ºçš„feature mapæ˜¯13Ã—13Ã—256çš„ã€‚ å…ˆçœ‹å…¶ä¸­ä¸€ä¸ªwindowï¼Œå¦‚æžœåŽé¢ä½¿ç”¨256ä¸ª3Ã—3Ã—256çš„å·ç§¯æ ¸ï¼Œé‚£ä¹ˆ 256-dé‚£ä¸ªåœ°æ–¹è¾“å‡ºçš„å°±æ˜¯ 1Ã—1Ã—256ç»´çš„ï¼Œé‚£ä¹ˆåŽé¢çš„clså±‚ï¼ˆäºŒåˆ†ç±»ï¼‰å°±æ˜¯2kä¸ª1Ã—1Ã—256çš„å·ç§¯ï¼Œè¾“å‡ºä¸º1Ã—1Ã—2kï¼›regå±‚ï¼ˆå®šä½ï¼‰å°±æ˜¯4kä¸ª1Ã—1Ã—256çš„å·ç§¯ï¼Œè¾“å‡ºä¸º1Ã—1Ã—4kã€‚ ä¸ŽYOLOä¸åŒçš„æ˜¯ï¼Œæ¯ä¸€ä¸ªanchorï¼ˆå¯¹åº”YOLOä¸­æ¯ä¸ªæ ¼ç‚¹å†…çš„ä¸¤ä¸ªboxï¼‰éƒ½è¾“å‡ºç±»åˆ«æ¦‚çŽ‡ã€‚ å›¾ä¸Šé‚£ä¸ªsliding windowçš„åšæ³•ï¼Œåœ¨å®žé™…æ“ä½œçš„æ—¶å€™ï¼Œå…¶å®žå°±æ˜¯ç”¨äº†å·ç§¯çš„æ–¹å¼ï¼Œæ­¥é•¿ä¸º1ï¼Œpadä¸º1. æ‰€ä»¥å®žé™…ä¸Š 256-dé‚£ä¸ªåœ°æ–¹å…¶å®žæ˜¯ 13Ã—13Ã—256ã€‚å¯¹åº”çš„clså±‚å’Œregå±‚çš„è¾“å‡ºåˆ†åˆ«æ˜¯13Ã—13Ã—2kï¼Œ13Ã—13Ã—4kï¼Œå¦‚ä¸‹å›¾ã€‚13Ã—13ç»´åº¦ä¸Šæ¯ä¸€ä¸ª 1Ã—1Ã—2kæˆ–4kçš„é•¿æ¡ï¼Œéƒ½ä»£è¡¨å›¾ç‰‡ä¸Šä¸åŒä½ç½®çš„anchor boxçš„ç±»åˆ«ä¿¡æ¯æˆ–è€…ä½ç½®ä¿¡æ¯ã€‚ 2.3 SSDå…ˆçœ‹ä¸‹SSDçš„å®è§‚ç»“æž„ï¼Œå¦‚ä¸‹å›¾ï¼ŒFC6å’ŒFC7ä»¥åŠä¹‹å‰çš„éƒ¨åˆ†æ˜¯VGGçš„å†…å®¹ï¼ŒåŽé¢æ˜¯SSDé‡Œé¢åŠ çš„ã€‚SSDæ·»åŠ çš„å±‚ è¿™æ˜¯ä¸€ä¸ªå¤šå°ºåº¦é¢„æµ‹ï¼ˆMulti-scaleï¼‰çš„ç½‘ç»œï¼Œå¦‚ä¸‹å›¾ä»ŽFPNçš„è®ºæ–‡é‡Œæ‰¾æ¥çš„å›¾ã€‚å°±æ˜¯ä»Žä¸åŒçš„feature mapä¸Šé¢„æµ‹ï¼Œç„¶åŽå°†å„ä¸ªé¢„æµ‹ç»“æžœèžåˆåˆ°ä¸€èµ·ã€‚ ç„¶åŽå°†SSDä¸ŽYOLOç›¸æ¯”è¾ƒä¸€ä¸‹ï¼Œå¦‚ä¸‹å›¾ã€‚å¯ä»¥çœ‹å‡ºYOLOæ˜¯å•ä¸€å°ºåº¦çš„ã€‚äºŒè€…æœ€å¤§çš„åŒºåˆ«ä¹Ÿåœ¨æ­¤ã€‚å½“ç„¶åœ¨æ¡†çš„ç”Ÿæˆæ–¹é¢SSDä¹Ÿæ˜¯ä¸€æ­¥åˆ°ä½çš„ï¼Œä¸€è¾¹ç”Ÿæˆæ¡†ï¼Œä¸€è¾¹æ£€æµ‹ã€‚ æ›´è¯¦ç»†çš„çœ‹ä¸€ä¸‹SSDçš„æ£€æµ‹æµç¨‹å¦‚ä¸‹ï¼š æ€»å…±6ä¸ªå°ºåº¦ï¼Œæ¯ä¸€ä¸ªå°ºåº¦ä¸Šéƒ½è¿›è¡Œæ¡†çš„ç”Ÿæˆå’Œé¢„æµ‹ã€‚æœ€åŽä½¿ç”¨NMSï¼ˆéžæœ€å¤§å€¼æŠ‘åˆ¶ï¼‰è¿›è¡Œè¿‡æ»¤ï¼Œå¾—åˆ°æœ€åŽçš„ç»“æžœã€‚ ä¸ŽYOLOçš„ä¸åŒä¸»è¦åœ¨äºŽï¼š å¤šå°ºåº¦ ä¸»å¹²éƒ¨åˆ†ï¼Œå…¨å·ç§¯ é¢„æµ‹éƒ¨åˆ†ä¹Ÿæ˜¯å·ç§¯ï¼ˆYOLOçš„é¢„æµ‹éƒ¨åˆ†æ˜¯å…¨è¿žæŽ¥å±‚ï¼‰ æŽ¥ä¸‹æ¥çœ‹çœ‹SSDæ˜¯å¦‚ä½•æ£€æµ‹çš„ã€‚å¦‚ä¸Šå›¾çº¢è‰²æ¡†ï¼Œè¿™ä¸€éƒ¨åˆ†å…¶å®žæ˜¯ä½¿ç”¨ 3Ã—3çš„å·ç§¯å®žçŽ°çš„ã€‚å…·ä½“ç»†èŠ‚çœ‹ä¸‹å›¾ï¼š å†çœ‹çœ‹æ˜¯æ€Žä¹ˆç”Ÿæˆdefault boxçš„ï¼Œå¦‚ä¸‹å›¾ã€‚æœ€å³è¾¹é‚£ä¸ªå°±æ˜¯å¯¹åº”çš„feature mapçš„å°ºå¯¸ï¼Œç„¶åŽå°†feature mapä¸Šçš„æ¯ä¸€ä¸ªåƒç´ ç‚¹éƒ½æ˜ å°„åˆ°åŽŸå›¾ä¸Šï¼ˆæœ€å·¦è¾¹ï¼‰ï¼Œç„¶åŽæ˜ å°„åˆ°åŽŸå›¾ä¸Šçš„æ¯ä¸€ä¸ªåƒç´ éƒ½å…³è”ä¸‰ä¸ªä¸åŒçš„default boxã€‚ æœ‰æ²¡æœ‰å‘çŽ°è¿™è·Ÿ YOLOä¸­çš„ ç½‘æ ¼åˆ’åˆ†å¾ˆåƒï¼Œåªä¸è¿‡YOLOæ˜¯åˆ’åˆ†æˆç½‘æ ¼ï¼Œè¿™ä¸ªç½‘æ ¼åˆ’åˆ†å¯¹åº”äºŽæœ€åŽä¸€ä¸ªå…¨è¿žæŽ¥å±‚åšäº†reshape çš„feature mapï¼Œæ¯ä¸€ä¸ªç½‘æ ¼ä¹ŸåªåŒ…å«ä¸€ä¸ªåƒç´ ï¼Œæ¯ä¸€ä¸ªåƒç´ å†æ˜ å°„åˆ°åŽŸå›¾ä¸Šã€‚ ä½†å…¶å®žæ›´åƒçš„æ˜¯Faster R-CNNä¸­çš„ anchor boxã€‚ ä¸ŽYOLOä¸åŒçš„æ˜¯ï¼Œæ¯ä¸ª default boxï¼ˆå¯¹åº”YOLOä¸­æ¯ä¸ªæ ¼ç‚¹å†…çš„ä¸¤ä¸ªboxï¼‰ï¼Œéƒ½è¾“å‡º4ä¸ªä½ç½®ä¿¡æ¯å’Œ (C+1) ä¸ªç±»åˆ«ä¿¡æ¯ï¼ˆåŒ…å«1ä¸ªèƒŒæ™¯ï¼‰ã€‚ ä¸ŽFaster R-CNN ä¸åŒçš„æ˜¯ï¼Œæ¯ä¸ª default boxï¼ˆå¯¹åº”Faster R-CNN ä¸­çš„ä¸¤ä¸ªanchor boxï¼‰ï¼Œéƒ½è¾“å‡º(C+1) ä¸ªç±»åˆ«ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»æ ‡è®°boxæ˜¯ä¸æ˜¯ç›®æ ‡ã€‚ çœ‹ä¸‹å›¾è¿™ä¸ªå°±æ˜¯åˆ†ç±»å’Œæ£€æµ‹çš„å®žçŽ°æ–¹æ³•ï¼Œè·ŸFaster R-CNNä¸­çš„RPNå¦‚å‡ºä¸€è¾™ã€‚ 2.4 SqueezeDet2.4.1 ç»“æž„åˆ†æžç½‘ç»œç»“æž„å¦‚ä¸‹ï¼š å‰é¢æ˜¯ç‰¹å¾æå–ç½‘ç»œï¼Œè¿™é‡Œç”¨çš„SqueezeNetï¼Œä¸­é—´æ˜¯æœ¬æ–‡æå‡ºçš„ConvDetå±‚ï¼ŒåŽé¢æ˜¯Filteringå±‚ã€‚Filteringå±‚å°±æ˜¯NMSï¼ˆéžæœ€å¤§å€¼æŠ‘åˆ¶ï¼‰ã€‚ ConvDetå±‚æ„å³ï¼Œä½¿ç”¨å·ç§¯å±‚æ¥æ£€æµ‹ï¼ˆDetectionï¼‰ï¼Œå› ä¸ºç»å…¸çš„ç”¨æ³•æ˜¯ä½¿ç”¨å…¨è¿žæŽ¥å±‚æ¥è¿›è¡Œæ£€æµ‹ï¼ˆæ¯”å¦‚YOLOï¼‰ï¼Œä¸è¿‡Faster R-CNNä¸­çš„RPNç›¸å½“äºŽä¸€ä¸ªå…¨å·ç§¯çš„å¼±æ£€æµ‹å™¨ã€‚è¿™ä¸ªæ–¹é¢æ¥è¯´SqueezeDet,è·ŸRPNä¹ŸæŒºåƒã€‚ ä½†æ˜¯SqueezeDetæ›´åƒSSD. å°±ç›¸å½“äºŽSSDçš„ä¸€ä¸ªå°ºåº¦åˆ†æ”¯ï¼Œåªä¸è¿‡å‰é¢å·ç§¯å±‚ææ¢æˆäº†squeezenetã€‚ å†çœ‹ä¸€ä¸‹ SqueezeDet å…³äºŽanchor boxçš„å›¾ï¼Œæ˜¯ä¸æ˜¯è·ŸSSDå’ŒRPNå¾ˆåƒï¼Œç®€ç›´å¦‚å‡ºä¸€è¾™ã€‚ 2.4.2 è®¡ç®—é‡åˆ†æžä»¥ä¸‹å›¾ä¸­ è“è‰²çš„ä¸ºæŸä¸€å±‚çš„è¾“å‡ºç‰¹å¾ï¼Œè€Œé»„è‰²çš„æ˜¯ç¥žç»å…ƒçš„å‚æ•°åˆ†å¸ƒï¼ˆæƒå€¼å’Œåç½®ï¼‰ ä»¥ä¸‹3Då·ç§¯å†™æ³•å‡ç•¥åŽ»å‰ä¸€å±‚çš„è¾“å…¥é€šé“æ•° é¦–å…ˆçœ‹ä¸‹RPNçš„å‚æ•°é‡ï¼š è¾“å…¥æ˜¯ $W_fÃ— H_fÃ—Ch_f$ çš„feature mapï¼Œ ä¸­é—´é»„è‰²çš„éƒ¨åˆ†æ˜¯ $1Ã—1$ çš„å·ç§¯æ ¸ï¼Œå¦‚æžœæŠŠåˆ†ç±»å’Œå›žå½’æ”¾åœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆå·ç§¯æ ¸çš„ä¸ªæ•°å°±æ˜¯ $KÃ—(4+1)$ ä¸ªï¼Œ4æ˜¯å››ä¸ªåæ ‡ï¼Œ1æ˜¯ä¸€ä¸ªæ¦‚çŽ‡ï¼ŒKæ˜¯Kä¸ªanchorã€‚ æŠŠåˆ†ç±»å’Œå›žå½’çš„è¾“å‡ºä¹Ÿæ”¾åœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆè¾“å‡ºfeature mapå°±æ˜¯$W_fÃ— H_fÃ—(KÃ—(4+1))$ å¤§å°çš„ã€‚ å‚æ•°é‡ä¸º ï¼š $1Ã—1Ã—Ch_f Ã—KÃ—5$ å†çœ‹ä¸‹ YOLOä¸­çš„å‚æ•°é‡ï¼š è¿™ä¸ªæ£€æµ‹æ¨¡å—ç§°ä¹‹ä¸º FcDet åŒæ ·è¾“å…¥æ˜¯ $W_fÃ— H_fÃ—Ch_f$ çš„feature mapï¼Œ å‡è®¾å°†å›¾ç‰‡åˆ†æˆ $W_o Ã—H_o$ ä¸ªç½‘æ ¼ï¼ˆæ¯”å¦‚7Ã—7ï¼‰ï¼›æ¯ä¸ªç½‘æ ¼å…³è”Kä¸ªboxï¼ˆæ¯”å¦‚K=2ï¼‰ï¼›æ¯ä¸ªboxè¾“å‡ºï¼ˆ4+1ï¼‰ä¸ªä¿¡æ¯ï¼ˆ4ä¸ªä½ç½®ä¿¡æ¯ï¼Œ1ä¸ªç±»åˆ«ä¿¡æ¯ï¼‰ï¼›æ¯ä¸ªæ ¼ç‚¹è¾“å‡ºCä¸ªç±»åˆ«æ¦‚çŽ‡ï¼ˆæ¯”å¦‚20ï¼‰ã€‚ é¦–å…ˆçœ‹ç¬¬ä¸€ä¸ªå·ç§¯å±‚ï¼ŒFC1æ ‡å·çš„æ˜¯ç¥žç»å…ƒçš„å‚æ•°åˆ†å¸ƒï¼Œå¯ä»¥çœ‹åˆ°ä»Žå·ç§¯å±‚åˆ°å…¨è¿žæŽ¥å±‚çš„å‚æ•°åˆ†å¸ƒå…¶å®žæ˜¯ä¸€ä¸ª $W_fÃ— H_f$ çš„å·ç§¯æ ¸ï¼Œè¿™ä¸ªå·ç§¯æ ¸ä¸Žä¸€æ•´å¼ feature mapå·ç§¯ï¼Œåªè¾“å‡ºä¸€ä¸ªæ¿€æ´»å€¼ï¼›è¿™æ ·çš„å·ç§¯æ ¸å…±æœ‰ $F_{fc1}$ ä¸ªï¼Œå› æ­¤FC1è¾“å‡ºä¸º $1Ã—F_{fc1}$ ã€‚ è¿™ä¸€å±‚å‚æ•°é‡ä¸ºï¼š$W_fÃ— H_fÃ—Ch_fÃ—F_{fc1}$ æŽ¥ç€ç¬¬äºŒä¸ªå…¨è¿žæŽ¥å±‚ï¼ŒFC2æ ‡å·çš„ä¹Ÿæ˜¯ç¥žç»å…ƒçš„å‚æ•°åˆ†å¸ƒï¼Œè¿™é‡Œç”¨çš„æ˜¯ $1Ã—1$ çš„å·ç§¯å±‚å®žçŽ°çš„ï¼Œç”±äºŽä¸Šè¿°å‡è®¾ï¼ŒFC2çš„è¾“å‡ºåº”è¯¥æ˜¯ $1Ã—\{W_o Ã—H_oÃ—(K(4+1)+C)\}$ ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´çš„tensorï¼›ä½†æ˜¯ä¸ºäº†ä¸Žåˆ’åˆ†çš„ç½‘æ ¼åŒ¹é…ï¼Œéœ€è¦å°†è¿™ä¸ªè¾“å‡ºreshapeæˆ$W_o Ã—H_oÃ—(K(4+1)+C)$ è¿™æ ·çš„ä¸‰ç»´tensorã€‚ è¿™ä¸€å±‚å‚æ•°é‡ä¸ºï¼š $F_{fc1}Ã—W_o Ã—H_oÃ—(5K+C)$ ã€‚ FcDetæ•´ä¸ªç»“æž„çš„å‚æ•°é‡ä¸ºï¼š$W_fÃ— H_fÃ—Ch_fÃ—F_{fc1} + F_{fc1}Ã—W_o Ã—H_oÃ—(5K+C)$ çœ‹ä¸‹è¿™ç¯‡æ–‡ç« æå‡ºçš„ConvDetç»“æž„çš„è®¡ç®—é‡ï¼š è¿™ä¸ªç»“æž„è¯´ç™½äº†å°±æ˜¯SSDçš„ä¸€éƒ¨åˆ†ï¼Œå†æ¥å¯¹æ¯”ä¸€ä¸‹ï¼Œçœ‹çœ‹ä¸‹å›¾SSDä¸­ç›¸å¯¹åº”çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªå›¾ä¸­æŠŠåˆ†ç±»å’Œå›žå½’å®šä½åˆ†å¼€ç”»äº†ï¼Œä¸è¿‡SSDçš„ä»£ç ä¸­å®žé™…ä¸Šä¹Ÿæ˜¯åˆ†å¼€åšçš„ï¼Œå…¶å®žè¿™éƒ¨åˆ†å¯ä»¥åˆå¹¶åˆ°ä¸€å—çš„ï¼Œå› ä¸ºå·ç§¯éƒ½æ˜¯ç”¨çš„3Ã—3ï¼Œè¾“å‡ºä¹Ÿéƒ½æ˜¯ 5Ã—5ï¼Œæ‰€ä»¥åˆå¹¶åˆ°ä¸€å—ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªæ˜¯ä¸åŒçš„é€šé“å¯¹åº”ç€ä¸åŒçš„åˆ†ç±»æˆ–è€…å®šä½ç»“æžœã€‚ åŸºæœ¬ä¸ŠäºŒè€…ç›¸åŒï¼Œåªä¸è¿‡è¿™é‡Œèµ·äº†ä¸ªåå­—ï¼Œå«åšConvDetã€‚ åŒæ ·è¾“å…¥æ˜¯ $W_fÃ— H_fÃ—Ch_f$ çš„feature mapï¼Œ åªä¸è¿‡è¿™é‡Œå‡è®¾ å·ç§¯æ˜¯ $F_wÃ—F_h$ çš„ï¼ˆSSDå¯¹åº”ç»“æž„ä¸­ç”¨çš„æ˜¯3Ã—3ï¼‰ï¼Œé€šé“æ•°ä¸º $KÃ—(4+1+C)$ , Kä¸º anchorï¼ˆæˆ– default box æˆ– æ ¼ç‚¹å†…å…³è”çš„boxï¼‰çš„ä¸ªæ•°ï¼Œ4ä¸ºæ¯ä¸ªanchorçš„ä½ç½®ä¿¡æ¯ï¼Œ1ä¸ºæ˜¯ç›®æ ‡çš„æ¦‚çŽ‡ï¼ŒCä¸ºCä¸ªåˆ†ç±»ã€‚è¿™æ ·è¾“å‡ºä¸º $W_fÃ— H_fÃ—\{KÃ—(4+1+C)\}$ ã€‚ ConvDetçš„å‚æ•°é‡ä¸ºï¼š $F_wÃ—F_hÃ—Ch_fÃ—\{KÃ—(5+C)\}$ ä¸ŽYOLO ç›¸æ¯”ï¼Œæ²¡æœ‰ä½¿ç”¨å…¨è¿žæŽ¥å±‚ï¼Œè€Œæ˜¯ä½¿ç”¨äº†å…¨å·ç§¯çš„ï¼ˆFCNï¼‰æ–¹å¼ã€‚å…¶å®žå°±æ˜¯SSDä¸­çš„ä¸€éƒ¨åˆ†ã€‚ ä¸‰è€…å‚æ•°é‡å¯¹æ¯”ï¼š ä¸¾ä¸ªä¾‹å­è®¡ç®—ä¸‹ï¼š å‡è®¾è¾“å…¥feature map ä¸º $7Ã—7Ã—1024ï¼Œ F_{fc1} = 4096, K = 2, C = 20, W_o = H_o = 7,$ ConvDet ä½¿ç”¨3x3 çš„å·ç§¯æ ¸ YOLO: $4096Ã—ï¼ˆ7Ã—7Ã—1024+7Ã—7Ã—ï¼ˆ5Ã—2+20ï¼‰ï¼‰=212Ã—10^6$ ConvNet: $3Ã—3Ã—1024Ã—2Ã—ï¼ˆ5+20ï¼‰ =0.46 Ã—10^6$ 2.6 è®­ç»ƒ å…ˆçœ‹ä¸€ä¸‹ï¼Œç½‘ç»œé¢„æµ‹çš„æ˜¯ä»€ä¹ˆ å¦‚ä¸‹å›¾ï¼š ç»¿è‰²æ¡†ä¸ºground truth çº¢è‰²ä¸ºanchor è“è‰²ä¸ºé¢„æµ‹çš„box é¦–å…ˆï¼ŒGround Truth ä¸Ž Anchor æœ‰ä¸ªåç§»å€¼ï¼Œå¦‚ä¸‹ï¼š$$Offset^{GT}=\{\delta ^G(x_{ijk}),\delta ^G(y_{ijk})ï¼Œ\delta ^G(w_{ijk})ï¼Œ\delta ^G(h_{ijk})\}$$å…¶æ¬¡ï¼ŒPrediction ä¸Ž Anchor æœ‰ä¸ªåç§»å€¼, $Offset^{P}$ï¼Œå¦‚ä¸‹ï¼š$$Offset^{P}=\{\delta (x_{ijk}),\delta (y_{ijk})ï¼Œ\delta (w_{ijk})ï¼Œ\delta (h_{ijk})\}$$å¯¹äºŽå®šä½æ¥è¯´ï¼šå¯ä»¥è®¤ä¸ºï¼Œè¿™ä¸ªç½‘ç»œé¢„æµ‹è¾“å‡ºçš„æ˜¯ $Offset^{P}$ ï¼Œæ ‡ç­¾æ˜¯ $Offset{^GT}$ ï¼Œè½¬åŒ–ä¸€ä¸‹ï¼Œå®žé™…ä¸Šç½‘ç»œè¾“å‡ºçš„æ˜¯ $ \delta (x_{ijk}), \delta (y_{ijk}), \delta (w_{ijk}), \delta (h_{ijk})$ ï¼Œå› ä¸ºè¿™å››ä¸ªå‚æ•°å†³å®šäº† $Offset^{P}$ ã€‚ åˆ†ç±»å°±æ˜¯è¾“å‡ºç±»åˆ«ï¼Œæ ‡ç­¾ä¸ºçœŸå®žç±»åˆ«ã€‚ ä»¥ä¸Šåç§»æ˜¯ç”±ç½‘ç»œå­¦ä¹ å¾—åˆ°çš„ã€‚ åç§»ä¸Žæœ€ç»ˆçš„è¾“å‡ºä¹‹é—´è¿˜æœ‰ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œè¿™ä¸ªå…³ç³»æ˜¯äººä¸ºæŒ‡å®šçš„ã€‚è¿™ä¸ªå…³ç³»æœ€å…ˆåœ¨R-CNNç³»åˆ—çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸­æå‡ºã€‚ä¸‹è¿°ã€‚ æœ€ç»ˆçš„é¢„æµ‹æ¡†çš„ä¸­å¿ƒåæ ‡ $(x_i^p,y_i^p)$ å’Œå®½é«˜ $(w_k^p,h_k^p)$ çš„è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š $\hat x_i,\hat y_i$ æ˜¯ä¸Žboxå…³è”çš„feature mapä¸­çš„åƒç´ ï¼ˆæˆ–è€…è¯´ç±»ä¼¼äºŽYOLOä¸­çš„æ ¼ç‚¹ï¼‰çš„åæ ‡ï¼Œå¦‚ä¸‹å›¾ä¸­çš„ $C_xï¼ŒC_y$ ã€‚ $\hat w_k,\hat h_k$ æ˜¯ æ¯ä¸ªåƒç´ ï¼ˆæˆ–æ ¼ç‚¹ï¼‰å…³è”çš„ç¬¬kä¸ªanchorçš„ å®½å’Œé«˜ï¼Œå¦‚ä¸‹å›¾ä¸­çš„ $b_w,b_h$ åç§»ä¸ŽçœŸå®žä½ç½®ä¹‹é—´çš„æ˜ å°„æœ‰ä¸¤ç§ï¼Œçº¿æ€§æ˜ å°„ï¼ˆä¸­å¿ƒç‚¹åæ ‡ï¼‰å’ŒæŒ‡æ•°æ˜ å°„ï¼ˆå®½ï¼Œé«˜ï¼‰ã€‚ è¿™ä¸ªåœ°æ–¹å¯ä»¥ç»“åˆ YOLO9000è®ºæ–‡ä¸­çš„ä¸€å¼ å›¾ç†è§£ã€‚ä¸è¿‡å¯¹äºŽé¢„æµ‹å’Œanchorçš„å…³ç³»ï¼ŒäºŒè€…åˆšå¥½åè¿‡æ¥ã€‚ å†æ¥çœ‹ä¸€ä¸‹æŸå¤±å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š æŸå¤±å‡½æ•°ä¸ŽYOLOçš„æŸå¤±å‡½æ•°å·®ä¸å¤šï¼Œæ”¾ä¸€å¼ YOLOçš„å¯¹æ¯”ä¸€ä¸‹ï¼š è§£é‡Šä¸€ä¸‹SqueezeDetçš„æŸå¤±å‡½æ•°: ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š ç¬¬ä¸€éƒ¨åˆ†æ˜¯å›žå½’æŸå¤±ï¼Œæˆ–è€…è¯´å®šä½æŸå¤±ï¼Œå°±æ˜¯ä¸‹å›¾è¿™ä¸ªï¼š $I_{ijk}$ è¡¨ç¤ºï¼šä½äºŽ è¾“å‡ºfeature mapä¸Š $(i,j)$ åæ ‡å¤„çš„ç¬¬ $k$ ä¸ªanchor æ˜¯å¦åŒ…å«æœ‰ç›®æ ‡ã€‚ä¹Ÿå°±æ˜¯ è¿™ä¸ª$P_r(Object)*IOU_{truth}^{pred}$ æ˜¯å¦ä¸º0. $\delta x_{ijk},\delta^G x_{ijk}$ åˆ†åˆ«è¡¨ç¤ºanchorä¸Žé¢„æµ‹boxå’Œground truth çš„ x åæ ‡çš„åç§»ã€‚åŽé¢å…¶ä»–çš„å‚æ•°ï¼Œyï¼Œwï¼Œhç±»ä¼¼ã€‚ è¿™æ˜¯ä¸€ä¸ªå‡æ–¹è¯¯å·®ã€‚æ²¡æœ‰é‡‡ç”¨YOLOé‚£æ ·çš„å°† å®½åº¦wå’Œé«˜åº¦hå¼€æ ¹å·ï¼Œå†åšå‡æ–¹è¯¯å·®ã€‚YOLOè¿™ä¹ˆåšæ˜¯è€ƒè™‘äº†å¯¹äºŽå¤§å°ç›®æ ‡è®¡ç®—æŸå¤±æ—¶çš„å…¬å¹³é—®é¢˜ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯äºŒåˆ†ç±»æŸå¤±ï¼Œè¿™ä¸ªäºŒåˆ†ç±»å†³å®šçš„æ˜¯è¿™ä¸ªanchoræ˜¯å¦æ˜¯ç›®æ ‡ï¼Œå¦‚ä¸‹ï¼š $\gamma _{ijk}$ ï¼š$P_r(Object)*IOU_{truth}^{pred}$ 2.5 è¯•éªŒç»“æžœ]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>lightweight models</tag>
        <tag>SqueezeDet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-FSSD-Feature Fusion Single Shot Multibox Detector-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F1b1c7744%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šFSSD: Feature Fusion Single Shot Multibox Detectorä»£ç ï¼šhttps://github.com/lzx1413/CAFFE_SSD/tree/fssd è¿™ç¯‡æ–‡ç« åœ¨FPNçš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€å®šçš„æ€è€ƒï¼Œæå‡ºäº†ä¸€ç§æ–°çš„ç‰¹å¾èžåˆæ–¹å¼ï¼Œå¹¶å°†è¿™ç§ç‰¹å¾èžåˆæ–¹å¼ä¸ŽSSDç›¸ç»“åˆï¼Œåœ¨æŸå¤±ä¸€å®šé€Ÿåº¦çš„æƒ…å†µä¸‹ï¼Œæé«˜äº†æ£€æµ‹ç²¾åº¦ã€‚ è¿™ç¯‡æ–‡ç« ç«‹è¶³äºŽç‰¹å¾èžåˆã€‚ 1 ç®€è¦ä»‹ç»é¦–å…ˆæ˜¯æ¨¡åž‹çš„æ‹“æ‰‘ç»“æž„ï¼š (a)ï¼šfeaturized image pyramids ï¼Œä½¿ç”¨ image pyramid æž„å»º feature pyramidï¼Œé‡‘å­—å¡”å½¢çŠ¶çš„featureæ˜¯ä»Žä¸åŒscaleçš„å›¾ç‰‡ä¸Šè®¡ç®—å‡ºçš„ã€‚å…¸åž‹çš„ä½¿ç”¨è¿™ç§ç»“æž„çš„æ¨¡åž‹ï¼šOverFeatï¼ŒR-CNNã€‚ (b)ï¼šå¯¹å›¾ç‰‡æ¥è¯´åªæœ‰ä¸€ä¸ªscaleï¼Œä½†æ˜¯ä¸ºäº†è¾¾åˆ° é¢„æµ‹ä¸åŒscale çš„bounding boxçš„ç›®çš„ï¼ŒFaster R-CNN æå‡ºäº† anchor çš„æœºåˆ¶ï¼Œè§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚å…¸åž‹çš„æ¨¡åž‹æœ‰ï¼šFaster R-CNNï¼ŒR-FCNç­‰ã€‚ (d)ï¼šå…ˆè¯´ä¸‹då§ï¼Œè¿™æ˜¯SSDä¸­æå‡ºçš„ç»“æž„ï¼Œå……åˆ†åˆ©ç”¨äº†CNNè‡ªèº«çš„ feature pyramid ç»“æž„ã€‚ç»“åˆäº†ä¸åŒçš„å±‚ï¼Œåˆ†åˆ«é¢„æµ‹ï¼Œé¢„æµ‹çš„æ—¶å€™æ˜¯ç‹¬ç«‹çš„ï¼Œæœ€åŽç”Ÿæˆç»“æžœæ—¶æ‰é€šè¿‡NMSèžåˆã€‚ä¸¥æ ¼æ¥è¯´ä¸èƒ½ç®—æ˜¯ç‰¹å¾èžåˆï¼Œåªèƒ½è¯´æ˜¯multi-scale é¢„æµ‹ã€‚ (c)ï¼šè¿™æ˜¯FPNå’ŒDSSDæå‡ºçš„ç»“æž„ï¼Œè¿™ä¸ªæ‰æ˜¯çœŸæ­£çš„ç‰¹å¾èžåˆï¼Œåœ¨é¢„æµ‹ä¹‹å‰å…ˆé€šè¿‡ä¸€ç³»åˆ—ä¸Šé‡‡æ ·é¢å¤–å†ç”Ÿæˆä¸€ç³»åˆ—feature pyramidï¼Œå¹¶é€šè¿‡lateral/skip connections ä¸ŽCNNä¸»ç»“æž„ä¸Šçš„feature pyramid ç‰¹å¾è¿›è¡Œèžåˆï¼Œä¹‹åŽå†åŽ»é¢„æµ‹ã€‚ (e)ï¼šè¿™æ˜¯æœ¬æ–‡çš„æ‹“æ‰‘ç»“æž„ã€‚ä¸ŽFPNç»“æž„ç›¸ä¼¼ï¼Œä½†å®žé™…ä¸Šè·ŸFPN æœ‰å¾ˆå¤§çš„ä¸åŒã€‚FPNæ˜¯å…ˆä¸Šé‡‡æ ·ï¼Œå†å¤šä¸ªå±‚èžåˆï¼›FSSDæ˜¯å…ˆèžåˆå¤šä¸ªå±‚çš„feature mapï¼ŒåŽé¢å†è·Ÿä¸€ä¸ªCNNæ¨¡å—ï¼Œè¿™ä¸ªCNNæ¨¡å—è·ŸSSDæ˜¯ä¸€æ ·çš„ï¼Œé‡‡ç”¨multi-scaleé¢„æµ‹ã€‚ å®žé™…ä¸Šé™¤äº†ä¸Šé¢çš„ä¸€äº›æ‹“æ‰‘ç»“æž„ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ‹“æ‰‘ç»“æž„ï¼Œå°±æ˜¯ä¸‹å›¾çš„ (b)ã€‚ (a)ï¼šä¸Žå‰é¢é‚£ä¸ªå›¾çš„(a)æ˜¯ä¸€æ ·çš„ï¼Œimage pyramidã€‚ (b)ï¼šè¿™ç§ç»“æž„æ˜¯å‰é¢æ²¡æœ‰æåˆ°çš„ï¼Œmulti-scale filter ï¼Œè¿™ä¸ªè·ŸSSDæ¯”è¾ƒåƒï¼ŒSSDæ˜¯multi-scale predictionï¼Œæ¯ä¸€ä¸ªprediction éƒ½å¯¹åº”ä¸€ç§sizeçš„filterã€‚ (c)ï¼šFaster R-CNNçš„anchoræœºåˆ¶ï¼Œä»Ž(b)ä¸­å‘å±•å‡ºæ¥çš„ï¼ŒæŠŠmulti-scale filter æ¢æˆäº† multi-scale anchorã€‚ 2 æ¨¡åž‹è®¾è®¡2.1 Feature Fusion Moduleä½œè€…è®¤ä¸º FPNçš„èžåˆæ˜¯åœ¨å¤šä¸ªfeature mapè¿›è¡Œçš„ï¼Œè¿™ç§ä¾§å‘è¿žæŽ¥å’Œ element-wise add æ˜¯å¾ˆè´¹æ—¶é—´çš„ï¼š æ‰€ä»¥ä½œè€…æå‡ºäº†ä¸€ç§ lightweight and efficient feature fusion module ç‰¹å¾èžåˆåªåœ¨ä¸€ä¸ªä½ç½®å‘ç”Ÿ åŽç»­çš„ç»“æž„è·ŸSSDæ˜¯ä¸€æ ·çš„ ä½œè€…æå‡ºä¸€ç§æ•°å­¦æ¨¡åž‹æ¥è¡¨ç¤ºè¿™ç§ç»“æž„ï¼š $X_i, i âˆˆ C$ ï¼šç”¨äºŽèžåˆçš„ source feature mapï¼ŒSSDä¸­é€‰æ‹©çš„æ˜¯ï¼šconv4 3, fc 7 of the VGG16 and new added layer conv6_2, conv7_2, conv8_2, conv9_2 ã€‚è¿™ç¯‡æ–‡ç« é€‰ç”¨çš„æ˜¯conv3 3, conv4 3, fc 7 and conv7_2 $T_i$ ï¼šåœ¨èžåˆä¹‹å‰ æ¯ä¸€ä¸ª source feature mapçš„å˜æ¢å‡½æ•°ï¼Œç±»ä¼¼äºŽæ¿€æ´»å‡½æ•°ã€‚åœ¨FPNä¸­ä½¿ç”¨çš„æ˜¯ 1Ã—1 çš„å·ç§¯æ¥é™ä½Žè¾“å…¥é€šé“ã€‚è¿™ç¯‡æ–‡ç« ä½¿ç”¨çš„ 1Ã—1 å·ç§¯ + çº¿æ€§æ’å€¼çš„ï¼Œ 1Ã—1 å·ç§¯ åŒæ ·æ˜¯ä¸ºäº†é™ä½Žè¾“å…¥é€šé“ï¼Œçº¿æ€§æ’å€¼æ˜¯å› ä¸ºè¿™é‡Œçš„èžåˆæ˜¯ä¸åŒlevelçš„å±‚æˆ–è€…å‰åŽå±‚ä¹‹é—´çš„èžåˆï¼Œä»–ä»¬çš„feature mapå¤§å°æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤éœ€è¦çº¿æ€§æ’å€¼å°†æ‰€æœ‰çš„source feature map è½¬æ¢æˆç»Ÿä¸€çš„å¤§å°ã€‚FPNä¸­æ˜¯ä¾§å‘è¿žæŽ¥ï¼Œæ˜¯åŒä¸€levelçš„å±‚ä¹‹é—´çš„èžåˆï¼Œå› æ­¤ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚ $\phi_f$ ï¼šç‰¹å¾èžåˆå‡½æ•°ï¼ŒFPNä¸­ä½¿ç”¨çš„ element-wise summation ï¼Œè€Œè¿™ä¸ªæ“ä½œä¸ä»…è¦æ±‚feature mapçš„å¤§å°ä¸€æ ·ï¼Œè¿˜è¦æ±‚ feature mapçš„é€šé“æ•°ä¹Ÿè¦ç»Ÿä¸€ï¼Œè¿™ä¸ªåœ¨FPNä¸­åœ¨ä½¿ç”¨ 1Ã—1 å·ç§¯æ—¶å°±ä¿è¯äº†èžåˆæ—¶çš„é€šé“ç»Ÿä¸€ã€‚ç”±äºŽæ“ä½œéº»çƒ¦ï¼Œåœ¨FSSDä¸­ï¼Œ1Ã—1 å·ç§¯åªè´Ÿè´£é™ä½Žé€šé“ï¼Œè€Œä¸ä¿è¯æ‰€æœ‰feature mapçš„é€šé“ç»Ÿä¸€ï¼Œèžåˆæ—¶é€‰ç”¨äº†concatenation çš„æ“ä½œï¼Œç®€å•æœ‰æ•ˆï¼Œä¸éœ€è¦feature mapçš„é€šé“ç»Ÿä¸€ã€‚ $\phi_p$ ï¼šç”Ÿæˆ åŽç»­ pyramid featuresçš„å‡½æ•°ï¼Œä¸ŽSSDä¸€æ ·ï¼Œåªä¸è¿‡è¿™ä¸ªåŽç»­ç»“æž„ï¼Œä½œè€…åœ¨è¿™ä¸ªéƒ¨åˆ†å°è¯•äº†å¤šç§ç»“æž„çš„å †å ï¼Œè§ä¸‹å›¾ã€‚æœ€ç»ˆé€šè¿‡å®žéªŒé€‰æ‹©äº†ä¸€ç§ç®€å•çš„æ–¹å¼ï¼Œè¿™ä¸ŽSSDä¸­çš„ç»“æž„æ˜¯ä¸€æ ·çš„ã€‚ $\phi_{c,l}$ ï¼šç”¨äºŽæ£€æµ‹å’Œåˆ†ç±»çš„å‡½æ•°ï¼Œä¸ŽSSDä¸€æ ·ã€‚ 2.2 Trainingä¸¤ç§è®­ç»ƒç­–ç•¥ï¼š ç¬¬ä¸€ç§ï¼šç”±äºŽè¿™æ˜¯åœ¨SSDçš„åŸºç¡€ä¸Šæ”¹è¿›çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨é¢„è®­ç»ƒçš„SSDï¼Œç„¶åŽfintuning ç¬¬äºŒç§ï¼šä½¿ç”¨é¢„è®­ç»ƒçš„VGGï¼Œç„¶åŽfintuning SSD300ï¼šSSDçš„è®­ç»ƒæ›²çº¿ï¼ˆVGG+fintuningï¼‰ FSSD300ï¼šå‰é¢æåˆ°çš„ç¬¬äºŒç§ï¼ŒVGG+fintuning FSSD300+ï¼šå‰é¢æåˆ°çš„ç¬¬ä¸‰ç§ï¼ŒSSD+fintuning ä¸¤ç§è®­ç»ƒæ–¹æ³•è®­ç»ƒå‡ºçš„æ¨¡åž‹çš„ç²¾åº¦ç›¸å·®æ— å‡ ï¼Œä½†æ˜¯ç¬¬ä¸€ç§è®­ç»ƒæ–¹æ³•æ˜Žæ˜¾æ”¶æ•›æ›´å¿«ã€‚ 3 å®žéªŒä¸€äº›å¯¹ç…§è¯•éªŒï¼Œå†³å®šäº†å‰é¢æåˆ°çš„å¾ˆå¤šå‚æ•°çš„é€‰å–ï¼Œæ¯”å¦‚ç”¨äºŽèžåˆçš„source feature mapï¼Œèžåˆçš„æ–¹æ³•ï¼Œè®­ç»ƒæ–¹æ³•ï¼Œbatch normalizationç­‰ã€‚ PASCAL VOC æ³¨æ„ åœ¨å¯¹æ¯”é€Ÿåº¦æ—¶ï¼Œæµ‹è¯•çš„GPUæ˜¯ä¸ä¸€æ ·çš„ï¼Œ1080tiçš„æ€§èƒ½æ¯”TITAN Xè¦å¥½å¾ˆå¤šã€‚ ç½‘ç»œçš„ backbone networkä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ åŒæ · æ³¨æ„ åœ¨å¯¹æ¯”é€Ÿåº¦æ—¶ï¼Œæµ‹è¯•çš„GPUæ˜¯ä¸ä¸€æ ·çš„ è¿™å¼ å›¾å¯¹æ¯” FSSDï¼Œä¸ŽSSDçš„é€Ÿåº¦æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºå…¶ä»–æ¨¡åž‹éƒ½æ˜¯åœ¨TITAN Xä¸Šæµ‹è¯•çš„ã€‚ COCO]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>FSSD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-HyperNet-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F33c81bef%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼š HyperNet: Towards Accurate Region Proposal Generation and Joint Object Detection 1 ç®€ä»‹è¿™ç¯‡æ–‡ç« ä¸»è¦è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ï¼š è§£å†³ R-CNN ç³»åˆ— ç›®æ ‡æ£€æµ‹æ¨¡åž‹ï¼Œéœ€è¦ç”Ÿæˆå‡ ç™¾ä¸Šåƒçš„å€™é€‰æ¡†ï¼ˆFaster R-CNN 300ï¼›Fast R-CNN 2000ï¼‰çš„é—®é¢˜ã€‚HperNet åªéœ€ç”Ÿæˆ 100~200ä¸ªå€™é€‰æ¡†ã€‚è€Œç²¾åº¦æ¯” Faster R-CNN è¿˜è¦å¥½ä¸€ç‚¹ã€‚ å°†deep ConvNetçš„é«˜ä½Žå±‚ç‰¹å¾è¿›è¡Œèžåˆï¼Œè¿›è€Œåˆ©ç”¨èžåˆåŽçš„ç‰¹å¾è¿›è¡Œregion proposalæå–å’Œè¿›ä¸€æ­¥ç›®æ ‡æ£€æµ‹ã€‚æå‡äº†å¯¹å°ç›®æ ‡çš„æ£€æµ‹æ•ˆæžœã€‚ ä¸»è¦çš„è´¡çŒ®ï¼š object proposal task ä¸Šï¼šä½¿ç”¨50ä¸ªproposals å¯ä»¥èŽ·å¾—95%çš„recallï¼›ä½¿ç”¨100ä¸ªproposalså¯ä»¥èŽ·å¾—97%çš„recallã€‚ æ³¨æ„ï¼šè¿™ä¸ªrecallåªæ˜¯ç”¨äºŽregion proposalsçš„ï¼Œå¹¶ä¸æ˜¯é’ˆå¯¹ PASCAL æˆ– COCO æ•°æ®é›†çš„æœ€ç»ˆæ£€æµ‹æ•ˆæžœçš„recallã€‚å°±æ˜¯è¯´äº‹å…ˆç”Ÿæˆçš„ å‡ ç™¾ä¸ªregion ä¸Ž ground truth çš„åŒºåŸŸIOUåœ¨æŸä¸€é˜ˆå€¼ä¹‹ä¸Šçš„region å æ€» çš„ground truthçš„æ¯”ä¾‹ï¼Œè¿™ä¸ªæ¯”ä¾‹è‡ªç„¶æ˜¯æ¯”æœ€ç»ˆdetectionçš„recallè¦é«˜å¾ˆå¤šçš„ã€‚å› ä¸ºè¿™ä¸ªé˜¶æ®µç›¸å½“äºŽä¸€ä¸ªå¼±æ£€æµ‹å™¨ï¼Œçº¦æŸæ¡ä»¶ä¹Ÿä¸é«˜ï¼Œç”Ÿæˆçš„æ¡†é‡Œé¢è‡ªç„¶ä¼šåŒ…å«å¾ˆå¤š ground truth çš„åŒºåŸŸã€‚ detection challenges ä¸Šï¼šåœ¨PASCAL VOC 2007 å’Œ 2012 æ•°æ®é›†ä¸Šå–å¾—çš„ å¹³å‡æ£€æµ‹ç²¾åº¦ï¼ˆmAPï¼‰ï¼Œåˆ†åˆ«ä¸º76.3%å’Œ71.4%ã€‚æ¯”Fast R-CNNåˆ†åˆ«é«˜äº†6ä¸ªå’Œ3ä¸ªç™¾åˆ†ç‚¹ã€‚ HperNet çš„å¿«é€Ÿç‰ˆï¼Œå¯ä»¥è¾¾åˆ° 5FPSçš„é€Ÿåº¦ã€‚ å®è§‚æž¶æž„ï¼š æ•´ä¸ªç½‘ç»œç»“æž„ä¹Ÿå±žäºŽä¸¤æ­¥æ£€æµ‹ï¼Œå³å…ˆç”Ÿæˆ region proposals ï¼Œå†è¿›è¡Œæ£€æµ‹ã€‚ 2 HyperNet ç½‘ç»œç»“æž„ å›¾ä¸­æ ‡æ³¨çš„ å†™æ³• æ¯”å¦‚ 5Ã—5Ã—42 æŒ‡çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ª5Ã—5çš„å·ç§¯æ ¸ï¼Œå·ç§¯æ ¸çš„ä¸ªæ•°ä¸º42ä¸ªï¼Œå…¶ä»–çš„ 3Ã—3Ã—4ï¼Œ3Ã—3Ã—63ä¹Ÿæ˜¯ä¸€æ ·çš„å†™æ³•ï¼Œå†™çš„éƒ½æ˜¯å·ç§¯æ ¸çš„å‚æ•°ã€‚ æ•´ä¸ªç½‘ç»œç»“æž„è·Ÿ Faster R-CNN è¿˜æ˜¯æ¯”è¾ƒåƒçš„ã€‚ ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š ç¬¬ä¸€éƒ¨åˆ†ï¼šå·ç§¯å±‚æå–ç‰¹å¾ï¼Œç„¶åŽè¿›è¡Œç‰¹å¾èžåˆï¼› ç¬¬äºŒéƒ¨åˆ†ï¼šå¼±æ£€æµ‹å™¨ï¼Œç”Ÿæˆå€™é€‰åŒºåŸŸï¼Œå·ç§¯å±‚+å…¨è¿žæŽ¥å±‚, Conv+FCï¼› ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¼ºæ£€æµ‹å™¨ï¼Œç”Ÿæˆæœ€ç»ˆçš„æ£€æµ‹ç»“æž„ï¼Œå·ç§¯å±‚ + å…¨è¿žæŽ¥å±‚ï¼ŒConv+FCã€‚ ä¸‹é¢åˆ†åˆ«ä»‹ç»ï¼š 2.1 Hyper Feature Productionç‰¹å¾èžåˆï¼Œå¦‚ä¸‹å›¾ï¼š å°†å›¾ç‰‡resizeï¼Œä½¿å¾—æœ€çŸ­è¾¹ ä¸º600ï¼ˆæ¯”å¦‚ï¼šresizeåŽçš„å¤§å°ä¸º 1000Ã—600ï¼‰ï¼› é¦–å…ˆä½¿ç”¨åŸºç¡€å·ç§¯ç¥žç»ç½‘ç»œï¼ˆAlexnetï¼ŒVGGï¼‰æå–ç‰¹å¾ï¼› åœ¨æœ€åº•å±‚å·ç§¯å±‚ï¼ˆconv1ï¼‰åŽé¢åŠ ä¸Š max pooling å±‚ï¼Œå®žçŽ°é™é‡‡æ ·ï¼› åœ¨æœ€é«˜å±‚å·ç§¯å±‚ï¼ˆconv5ï¼‰åŽé¢åŠ ä¸Š åå·ç§¯ deconv å±‚ï¼Œå®žçŽ°ä¸Šé‡‡æ ·ï¼› ä¸­é—´å±‚ï¼ˆconv3ï¼‰ä¸åšå¤„ç†ï¼› åœ¨ä¸Šä¸€æ­¥æ“ä½œä¹‹åŽæ¯ä¸€ä¸ª level åŽé¢éƒ½å†åŠ  ä¸€ç³»åˆ—å·ç§¯å±‚ï¼ˆç»¿æ¡†ä¸­çš„é»„è‰²çŸ©å½¢ï¼‰ï¼š è¿›ä¸€æ­¥æå–è¯­ä¹‰ç‰¹å¾ã€å°†ä¸åŒåˆ†è¾¨çŽ‡çš„feature map åŽ‹ç¼©åˆ°ç›¸åŒçš„åˆ†è¾¨çŽ‡ã€‚ å·ç§¯åŽæ¯ä¸ª feature map åŠ å±€éƒ¨å“åº”å½’ä¸€åŒ– LRNï¼Œä¹‹åŽè¾“å‡º Hyper Feture mapsã€‚è¿™é‡Œçš„Hyper Feture mapsçš„å¤§å°ä¸æ˜¯13Ã—13Ã—126çš„ï¼Œå›¾ä¸Šå†™çš„é‚£ä¸ª 13Ã—13 æ˜¯ç»è¿‡ROI çš„å¤§å°ï¼ˆçº¢è‰²æ¡†æ¡†ï¼‰ã€‚è¿™ç‚¹ä½œè€…æ²¡è¯´æ¸…æ¥šï¼Œä»£ç ä¹Ÿæ²¡æœ‰ï¼Œæžä¸æ˜Žç™½Hyper Feture mapsåˆ°åº•æ˜¯å¤šå¤§ã€‚ å‡è®¾ä½¿ç”¨VGGåšç‰¹å¾æå–ï¼Œè¾“å…¥å›¾ç‰‡ä¸º1000Ã—600ã€‚é‚£ä¹ˆConv1ã€Conv2ã€Conv3ã€Conv4ã€Conv5å±‚çš„feature map è¾“å‡ºï¼ˆä¸å«æ± åŒ–å±‚ï¼‰åˆ†åˆ«ä¸º 1000Ã—600ï¼Œ500Ã—300ï¼Œ250Ã—150ï¼Œ125Ã—75ï¼Œ62.5Ã—37.5ã€‚ æœ€åŽçš„feature mapä¼šæ˜¯62Ã—37, è¿™æ ·ä¼šé€ æˆä¿¡æ¯æŸå¤±ã€‚ å› æ­¤æŠŠæœ€åŽçš„Conv5å±‚çš„feature mapé€šè¿‡åå·ç§¯ä¸Šé‡‡æ ·åˆ°250Ã—150ï¼Œç„¶åŽå†ç»è¿‡ä¸€ç³»åˆ—å·ç§¯ï¼› æŠŠç¬¬ä¸€å±‚Conv1çš„feature mapåšä¸€ä¸ªmax pooling é™é‡‡æ ·ï¼Œç„¶åŽå†ç»è¿‡ä¸€ç³»åˆ—å·ç§¯ï¼› ä¸­é—´å±‚ï¼Œä¸åšå˜åŒ–ï¼Œç›´æŽ¥ç»è¿‡ä¸€ç³»åˆ—å·ç§¯ï¼› ç„¶åŽæŠŠ1ï¼Œ3ï¼Œ5å±‚çš„feature map è¿›è¡Œ LRNä¹‹åŽè¿žåœ¨ä¸€èµ·ã€‚LRNæ˜¯å¿…è¦çš„ï¼Œå› ä¸ºä¸åŒå±‚çš„feature resolution ä¸åŒï¼Œå¦‚æžœä¸åšæ­£åˆ™ï¼Œnormå¤§çš„featureä¼šåŽ‹åˆ¶ä½normå°çš„featureã€‚ 2.2 Region Proposal Generation å¦‚ä¸Šå›¾ï¼Œå¯¹äºŽHyper Feture maps ä½¿ç”¨ ROI pooling ã€‚ROI pooling çš„å¤§å°æ˜¯ 13Ã—13çš„ï¼Œå› æ­¤æœ€åŽè¾“å‡ºçš„ç‰¹å¾æ˜¯ ROI feature æ˜¯ 13Ã—13Ã—126çš„ã€‚ä¸­é—´é‚£ä¸ªçº¢è‰²çš„æ¡†æ¡†æ˜¯ROIï¼Œä½†æ˜¯æ€Žä¹ˆæ¥çš„ï¼Œä½œè€…æ²¡è¯´æ¸…æ¥šã€‚ ROI poolingä¹‹åŽä½¿ç”¨äº† 3Ã—3çš„4ä¸ªå·ç§¯æ ¸ã€‚è¾“å‡ºçš„æ˜¯ 13Ã—13Ã—4 çš„feature mapï¼Œå›¾ä¸Šé‚£ä¸ªç©ºç™½çš„çŸ©å½¢å°±æ˜¯ã€‚ä¹‹åŽå†ç»è¿‡ä¸€ä¸ª256ç»´çš„ å…¨è¿žæŽ¥å±‚ï¼›å†ä¹‹åŽå¹¶è¡Œç»è¿‡ä¸¤ä¸ª ä¸¤ä¸ªå…¨è¿žæŽ¥å±‚ï¼Œåˆ†åˆ«æ˜¯åˆ†ç±»å’Œå›žå½’ï¼ˆç”¨äºŽå®šä½ï¼‰ã€‚ è¿™ä¸ªé˜¶æ®µæ¯å¼ å›¾ç‰‡ç”Ÿæˆ 30k ä¸ªä¸åŒå°ºå¯¸çš„ å€™é€‰æ¡†ã€‚ç„¶åŽé€šè¿‡NMSï¼Œå‡å°‘åˆ°1k ä¸ªï¼Œç„¶åŽå†å– top-100æˆ–top-200ä¸ªã€‚ ä¸è¿‡æœ‰ä¸ªç–‘é—®çš„åœ°æ–¹ï¼šè¿™é‡Œçš„ROIæ˜¯æ€Žä¹ˆæ¥çš„ä½œè€…æ²¡è¯´æ¸…æ¥šã€‚ è¿™ä¹Ÿæ˜¯ä¸ŽFaster R-CNNçš„ä¸åŒä¹‹å¤„ï¼ŒFaster R-CNNçš„ ROI Pooling æ˜¯åœ¨RPNç”Ÿæˆ region proposals ä¹‹åŽä½œç”¨åœ¨ç”Ÿæˆçš„regionä¸Šçš„ã€‚å¦‚ä¸‹å›¾Faster R-CNNçš„ç»“æž„ï¼Œå¯¹æ¯”ä¸€ä¸‹äºŒè€…åœ¨æ•´ä½“ç»“æž„ä¸Šçš„å·®åˆ«ã€‚ è€Œåœ¨HyperNetä¸­åœ¨ç”Ÿæˆregion proposalsæ—¶å°±ä½¿ç”¨äº† ROI Pooling ï¼Œå¦‚ä¸‹ã€‚ Faster R-CNNä¸­çš„ROIæ˜¯ RPNç”Ÿæˆçš„ region proposalsã€‚ HyperNetä¸­çš„ROIæ˜¯æ€Žä¹ˆæ¥çš„æ˜¯ä¸ªç–‘é—®ã€‚è€Œä¸”HyperNetä¸­çš„ROIç›¸å½“äºŽ Faster R-CNNä¸­çš„anchor boxã€‚ ä¸€ç›´ä¸çŸ¥é“HyperNetä¸­çš„ROIæ˜¯æ€Žä¹ˆæ¥çš„ï¼Œç›´åˆ°æˆ‘åœ¨çŸ¥ä¹Žä¸Šæ‰¾åˆ°äº† è¿™ä¸ªå¸–å­ï¼š å¯¹è¯CVPR2016ï¼šç›®æ ‡æ£€æµ‹æ–°è¿›å±• è¿™ä¸ªå¸–å­çš„ä½œè€…ï¼ˆå­”æ¶›,æ¸…åŽå¤§å­¦ï¼‰å¥½åƒå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„ä½œè€… ï¼ˆTao Kongï¼ŒTsinghua Universityï¼‰ é‡Œé¢æœ‰ä¸€æ®µè¯ï¼š HyperNetï¼šæ–‡ç« çš„å‡ºå‘ç‚¹ä¸ºä¸€ä¸ªå¾ˆé‡è¦çš„è§‚å¯Ÿï¼šç¥žç»ç½‘ç»œçš„é«˜å±‚ä¿¡æ¯ä½“çŽ°äº†æ›´å¼ºçš„è¯­ä¹‰ä¿¡æ¯ï¼Œå¯¹äºŽè¯†åˆ«é—®é¢˜è¾ƒä¸ºæœ‰æ•ˆï¼›è€Œä½Žå±‚çš„ç‰¹å¾ç”±äºŽåˆ†è¾¨çŽ‡è¾ƒé«˜ï¼Œå¯¹äºŽç›®æ ‡å®šä½æœ‰å¤©ç„¶çš„ä¼˜åŠ¿ï¼Œè€Œæ£€æµ‹é—®é¢˜æ°æ°æ˜¯è¯†åˆ«+å®šä½ï¼Œå› æ­¤ä½œè€…çš„è´¡çŒ®ç‚¹åœ¨äºŽå¦‚ä½•å°†deep ConvNetçš„é«˜ä½Žå±‚ç‰¹å¾è¿›è¡Œèžåˆï¼Œè¿›è€Œåˆ©ç”¨èžåˆåŽçš„ç‰¹å¾è¿›è¡Œregion proposalæå–å’Œè¿›ä¸€æ­¥ç›®æ ‡æ£€æµ‹ã€‚ä¸åŒäºŽFaster R-CNNï¼Œæ–‡ç« çš„æ½œåœ¨Anchoræ˜¯ç”¨ç±»ä¼¼äºŽBING[4]çš„æ–¹æ³•é€šè¿‡æ‰«æçª—å£çš„æ–¹å¼ç”Ÿæˆçš„ï¼Œä½†åˆ©ç”¨çš„æ˜¯CNNçš„ç‰¹å¾ï¼Œå› æ­¤å–å¾—äº†æ›´å¥½çš„æ€§èƒ½ã€‚ é€šè¿‡ä»¥ä¸Šçš„æ”¹è¿›ç­–ç•¥ï¼ŒHyperNetå¯ä»¥åœ¨äº§ç”Ÿå¤§çº¦100ä¸ªregion proposalçš„æ—¶å€™ä¿è¯è¾ƒé«˜çš„recallï¼ŒåŒæ—¶ç›®æ ‡æ£€æµ‹çš„mAPç›¸å¯¹äºŽFast R-CNNä¹Ÿæé«˜äº†å¤§çº¦6ä¸ªç™¾åˆ†ç‚¹ã€‚ é‡Œé¢æœ‰ä¸€å¥ï¼š ä¸åŒäºŽFaster R-CNNï¼Œæ–‡ç« çš„æ½œåœ¨Anchoræ˜¯ç”¨ç±»ä¼¼äºŽBING[4]çš„æ–¹æ³•é€šè¿‡æ‰«æçª—å£çš„æ–¹å¼ç”Ÿæˆçš„ï¼Œä½†åˆ©ç”¨çš„æ˜¯CNNçš„ç‰¹å¾ï¼Œå› æ­¤å–å¾—äº†æ›´å¥½çš„æ€§èƒ½ã€‚ ä¹Ÿå°±æ˜¯è¯´ HyperNetä¸­çš„ROI æ˜¯ä½¿ç”¨ç±»ä¼¼äºŽBINGçš„æ–¹æ³•æå–çš„ ï¼Œä¸Šé¢æåˆ°çš„ BING[4] æ–‡çŒ®æ˜¯ï¼š [4] Cheng M M, Zhang Z, Lin W Y, et al. BING: Binarized normed gradients for objectness estimation at 300fps. In CVPR 2014 è¿™ç¯‡æ–‡ç« çš„é¡¹ç›®ä¸»é¡µæ˜¯ï¼šhttp://mmcheng.net/bing/ å¤§æ¦‚çœ‹äº†ä¸€ä¸‹è®ºæ–‡ï¼Œæ˜¯ä¸€ç§åˆ©ç”¨æ‰‹å·¥è®¾è®¡çš„ç‰¹å¾è¿›è¡Œ object ä¼°è®¡çš„ã€‚è¿™ä¸ªç‰¹å¾å«åš binarized normed gradients features ï¼ˆBINGï¼‰. å…·ä½“æ˜¯æ€Žä¹ˆå¼„çš„ï¼Œæ²¡ä»”ç»†çœ‹ã€‚ çœ‹ä¸€ä¸‹ç»“æžœå¥½äº†ï¼Œå›¾ä¸­çš„SELæ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ Selective Searchç®—æ³•ã€‚DRæ˜¯æŒ‡object detection rate ï¼Œä¸æ¸…æ¥šæ€Žä¹ˆç®—çš„ã€‚ è¿è¡Œé€Ÿåº¦å¦‚ä¸‹ï¼š æµ‹è¯•æ¡ä»¶ï¼šIntel i7-3940XM CPU Method [1] OBN [2] CSVM [3] SEL [4] Our BING Time (seconds) 89.2 3.14 1.32 11.2 0.003 å¯è§BINGæ˜¯æ¯” Selective Searchæ•ˆæžœæ›´å¥½çš„ç®—æ³•ï¼Œé€Ÿåº¦ä¹Ÿæ¯” Selective Search å¿«å¾ˆå¤šï¼Œå¯è¾¾300FPSã€‚ ä¹Ÿå°±æ˜¯è¯´HyperNetä½¿ç”¨äº†é¢å¤–çš„ region ä¼°è®¡ç®—æ³•ï¼Œä½¿å¾—åŽé¢çš„ region proposals æå–çš„regionæ›´åŠ ç²¾ç¡®ï¼Œç„¶åŽä¹‹åŽå†è¿›è¡Œobject detectionã€‚ ä½œè€…è¯´çš„æ˜¯ä½¿ç”¨çš„æ˜¯ç±»ä¼¼äºŽ BINGçš„æ–¹æ³•ï¼Œå…·ä½“æ€Žä¹ˆç”¨çš„ï¼Œæ²¡æœ‰ä»£ç ï¼Œä¸çŸ¥é“æ˜¯æ€Žä¹ˆç”¨çš„ã€‚ 2.3 Object Detection ä¸ŽFaster R-CNNä¸åŒä¹‹å¤„åœ¨äºŽ åœ¨ä¸¤ä¸ªå…¨è¿žæŽ¥å±‚ä¹‹å‰ä½¿ç”¨äº†ä¸€ä¸ª 3Ã—3 å·ç§¯å±‚ï¼Œé™ä½Žäº†è¾“å…¥é€šé“ï¼ˆä»Ž126åˆ°63ï¼‰ã€‚åŽé¢æ˜¯ä¸‰ä¸ªå…¨è¿žæŽ¥å±‚ã€‚ è¿˜æœ‰ä¸€ä¸ªä¸åŒæ˜¯ï¼Œå…¨è¿žæŽ¥å±‚ä¹‹é—´çš„ dropout å±‚çš„æ¦‚çŽ‡ä½¿ç”¨çš„æ˜¯0.25ï¼Œä¸æ˜¯0.5ã€‚ 2.4 è®­ç»ƒç­–ç•¥æŸå¤±å‡½æ•°ï¼š æ²¡å•¥å¤§å˜åŒ– è®­ç»ƒæ­¥éª¤ï¼š ä¸ŽFaster R-CNNè®­ç»ƒæ­¥éª¤ä¸€æ ·ï¼Œéƒ½æ˜¯å…ˆè®­ç»ƒ region proposals ç½‘ç»œï¼Œç„¶åŽä¿æŒå·ç§¯å±‚éƒ¨åˆ†æƒå€¼ä¸åŠ¨ï¼Œå†è®­ç»ƒobject detection ç½‘ç»œã€‚ç„¶åŽå†ä¿æŒå·ç§¯å±‚ç‰¹å¾æå–éƒ¨åˆ†æƒå€¼ä¸åŠ¨ï¼Œå†è®­ç»ƒregion proposals ç½‘ç»œã€‚ åªä¸è¿‡è¿™é‡Œå¤šè®­ç»ƒäº†ä¸¤æ¬¡ã€‚ 2.5 åŠ é€Ÿ å¦‚ä¸Šå›¾ï¼Œä¸Šè¾¹çš„å›¾ä¸­ä¸¤ä¸ªç©ºç™½çŸ©å½¢æ¡†ï¼Œç¬¬ä¸€ä¸ªæ˜¯ ROI Poolingçš„è¾“å‡ºï¼Œç¬¬äºŒä¸ªæ˜¯ 3Ã—3å·ç§¯çš„è¾“å‡ºã€‚ ä¸‹è¾¹ çš„å›¾ä¸­ï¼Œ3Ã—3å·ç§¯çš„è¾“å‡ºç”¨äº†ä¸€ä¸ªç«‹æ–¹ä½“ï¼ŒåŽé¢é‚£ä¸ªç™½è‰²çŸ©å½¢æ¡†æ˜¯ROI Poolingçš„è¾“å‡ºã€‚ åœ¨ç”Ÿæˆregion proposals æ—¶ï¼Œå°†å·ç§¯å±‚æ”¾åœ¨ ROI Poolingå±‚ä¹‹åŽï¼Œå¯ä»¥å®žçŽ°åŠ é€Ÿã€‚ å…ˆå·ç§¯é™ä½Žäº†é€šé“æ•°é‡ï¼ˆç”±126é™åˆ°4ï¼‰ï¼› å¤§é‡ proposal çš„convæ“ä½œç§»è‡³å‰æ–¹ï¼Œå®žçŽ°è®¡ç®—å…±äº«ï¼› ROI Pooling åŽé¢åˆ†ç±»å™¨çš„ç»“æž„å˜æˆäº†å…¨è¿žæŽ¥å±‚ï¼Œç®€åŒ–ç»“æž„ï¼Œä¹‹å‰æ˜¯ å·ç§¯å±‚ï¼‹å…¨è¿žæŽ¥å±‚ã€‚ï¼ˆä¸ªäººè§‰å¾—è¿™ä¸ªä½œç”¨ä¸å¤§ï¼‰ ä½¿ç”¨è¿™ä¸ªç­–ç•¥èŽ·å¾—äº† 40å€çš„åŠ é€Ÿã€‚ 3 è¯•éªŒç»“æžœåˆ†æž3.1 region proposals ä¸Šå›¾è¡¡é‡çš„æ˜¯ ä¸åŒçš„IOU é˜ˆå€¼ å¯¹ recallçš„å½±å“ã€‚å†è¯´æ˜Žä¸€ä¸‹ï¼Œè¿™ä¸ªrecallä¸æ˜¯æœ€ç»ˆçš„detection recallã€‚è€Œæ˜¯region proposals recallã€‚ IOU é˜ˆå€¼è¶Šå¤§ï¼Œæ¡ä»¶è¶Šä¸¥è‹›ï¼ŒrecallåŠ¿å¿…ä¼šä¸‹é™ã€‚å¯¹æ¯”å‡ æ¡ä¸åŒæ–¹æ³•çš„ç»“æžœï¼ŒHyperNetä¸‹é™çš„æœ€æ…¢ï¼Œæ¯”å…¶ä»–æ–¹æ³•recallä¹Ÿé«˜ã€‚ ä¸Šå›¾è¡¡é‡çš„æ˜¯ ä¸åŒçš„proposals æ•°é‡ å¯¹ recallçš„å½±å“ã€‚å†è¯´æ˜Žä¸€ä¸‹ï¼Œè¿™ä¸ªrecallä¸æ˜¯æœ€ç»ˆçš„detection recallã€‚è€Œæ˜¯region proposals recallã€‚ proposalsæ•°é‡è¶Šå°‘,æ¡ä»¶è¶Šä¸¥è‹›,recallåŠ¿å¿…ä¼šä¸‹é™ã€‚å¯¹æ¯”å‡ æ¡æ›²çº¿ï¼ŒHyperNetä¸‹é™çš„æœ€æ…¢ï¼Œæ¯”å…¶ä»–æ–¹æ³•recallä¹Ÿé«˜ã€‚ ä¸Šé¢è¿™ä¸ªè¡¨ï¼Œè¡¡é‡çš„æ˜¯IOU=0.7çš„æƒ…å†µä¸‹ï¼Œregion proposals recallè¾¾åˆ°50%å’Œ75%æ—¶ï¼Œéœ€è¦proposalsçš„æ•°é‡ã€‚å¾ˆæ˜Žæ˜¾ HyperNetéœ€è¦çš„æœ€å°‘ã€‚ Conv1ã€Conv2ã€Conv3ã€Conv4ã€Conv5 5ä¸ªå·ç§¯å±‚ï¼Œä¸ºä»€ä¹ˆé€‰æ‹©1,3,5å‘¢ï¼Ÿç­”æ¡ˆåœ¨ä¸‹å›¾ä¸­ã€‚ 3.2 Object Detectionç»“æžœï¼š VOC 2007 VOC 2012 å…³äºŽå°ç›®æ ‡çš„æ£€æµ‹ï¼Œæ²¡æœ‰æ˜Žç¡®æ ‡å‡†ï¼Œåªæ˜¯ä½¿ç”¨çš„PASCAL VOCä¸­ç›¸å¯¹è¾ƒå°çš„ç›®æ ‡ï¼ˆbottle,plant,chairç­‰ï¼‰åšæ£€æµ‹ã€‚ 3.3 Hyper Feature Visualization 3.4 Running Time 4 æ€»ç»“æ•´ä¸ªç½‘ç»œå°±æ˜¯ Faster R-CNNçš„æ”¹è¿›ç‰ˆã€‚æœ€å¤§çš„æ”¹è¿›å°±æ˜¯ç‰¹å¾èžåˆæ–¹æ³•ï¼ˆHyper Featureï¼‰å’ŒROI çš„æå–æ–¹æ³•ï¼ˆBINGï¼‰ã€‚ä½¿å¾—region proposalsçš„æ•°é‡æœ€å°‘é™åˆ°äº†100ï¼Œå°±å¯ä»¥èŽ·å¾—æ¯” Faster F-CNNé«˜çš„mAPã€‚ å¦å¤–ï¼Œè™½ç„¶ä½œè€…è¯´å¯¹å°ç›®æ ‡çš„çš„é¢„æµ‹æ•ˆæžœæœ‰æ”¹å–„ï¼Œä½†åªæ˜¯ä»Žå®šæ€§çš„æ–¹é¢æ¥è¡¨è¾¾çš„ï¼Œä¸ªäººè®¤ä¸ºåº”è¯¥é’ˆå¯¹ COCOæ•°æ®é›†è¿›è¡Œå®šé‡æµ‹è¯•æ‰æ›´æœ‰è¯´æœåŠ›ã€‚ 5 å‚è€ƒèµ„æ–™ å­”æ¶›ï¼šå¯¹è¯CVPR2016ï¼šç›®æ ‡æ£€æµ‹æ–°è¿›å±•ï¼šhttps://zhuanlan.zhihu.com/p/21533724 BING: http://mmcheng.net/bing/ http://blog.csdn.net/u012361214/article/details/51374012]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>HyperNet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºç¡€DLæ¨¡åž‹-Deformable Convolutional Networks-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2Fa6992dce%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ Deformable Convolutional Networksä»£ç  https://github.com/msracver/Deformable-ConvNets è¿™ç¯‡æ–‡ç« æ˜¯å¾®è½¯äºšç ”é™¢çš„ä½œå“ï¼Œè·ŸSTNçš„æ€è·¯åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯åšæ³•è¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒã€‚ 1 ç®€ä»‹ä¸Šä¸€ç¯‡è®²STNï¼ˆSpatial Transformer Networksï¼‰çš„æ—¶å€™ï¼Œæåˆ° CNNä¸­æ± åŒ–å±‚çš„å­˜åœ¨å¸¦æ¥äº†ç©ºé—´ä¸å˜æ€§ï¼ˆæ—‹è½¬ä¸å˜æ€§ï¼Œå¹³ç§»ä¸å˜æ€§ç­‰ï¼‰ï¼Œè€Œ Spatial Transformer Networks ä¹Ÿæ˜¯ä¸ºäº†å¢žåŠ ç©ºé—´ä¸å˜æ€§ã€‚ä½†æ˜¯äºŒè€…å¢žåŠ ç©ºé—´ä¸å˜æ€§çš„å‡ºå‘ç‚¹æ˜¯ä¸åŒçš„ï¼š CNNæ˜¯å°½åŠ›è®©ç½‘ç»œé€‚åº”ç‰©ä½“çš„å½¢å˜ï¼Œè€ŒSTNæ˜¯ç›´æŽ¥é€šè¿‡ Spatial Transformer å°†å½¢å˜çš„ç‰©ä½“ç»™å˜å›žåˆ°æ­£å¸¸çš„å§¿æ€ï¼ˆæ¯”å¦‚æŠŠå­—æ‘†æ­£ï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä»Žæ¨¡åž‹çš„å‡ ä½•å˜æ¢èƒ½åŠ›ï¼ˆç©ºé—´å˜æ¢èƒ½åŠ›ï¼‰æ¥è¯´ï¼ŒCNNæ˜¯æ¯”è¾ƒå¼±çš„ï¼Œå› ä¸ºå®ƒä¸»è¦æ˜¯é€šè¿‡åˆé€‚çš„é™é‡‡æ ·æ¥å‡å¼±ç›®æ ‡å½¢å˜å¯¹é¢„æµ‹çš„å½±å“ã€‚CNNçš„å‡ ä½•å˜æ¢èƒ½åŠ›ä¸å¥½ï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå›ºå®šçš„å‡ ä½•ç»“æž„ï¼ˆå›ºå®šçš„å·ç§¯æ ¸ï¼Œæ± åŒ–æ ¸ï¼‰ï¼Œæ‰€ä»¥CNNå¯¹å‡ ä½•å½¢å˜çš„å»ºæ¨¡èƒ½åŠ›æ˜¯æœ‰é™çš„ã€‚è€ŒSTNå°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å…·å¤‡å¯¹å‡ ä½•å½¢å˜å»ºæ¨¡èƒ½åŠ›çš„æ¨¡åž‹ã€‚ é€šå¸¸æ¥è¯´ä¸ºäº†é€‚åº”ç‰©ä½“çš„å‡ ä½•å½¢å˜ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§åšæ³•ï¼š æ•°æ®æ‰©å±• data augmention ï¼šè¿™ä¸ªåœ¨æ·±åº¦å­¦ä¹ ä¸­å¾ˆç»å¸¸ä½¿ç”¨ï¼Œæ¯”å¦‚ multi-view çš„æ–¹å¼ï¼Œé€‰å–5ä¸ªpatchç­‰ ä½¿ç”¨å…·å¤‡å¹³ç§»ä¸å˜æ€§çš„ç‰¹å¾æˆ–ç®—æ³• transformation-invariant features and algorithms ï¼šç‰¹å¾ï¼Œæ¯”å¦‚ SIFT ç‰¹å¾ï¼Œä¸€èˆ¬åœ¨ä¼ ç»Ÿçš„æ–¹æ³•ä¸­ä½¿ç”¨ï¼›ç®—æ³•ï¼Œæ¯”å¦‚å·ç§¯ç¥žç»ç½‘ç»œï¼Œç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸­çš„sliding windowï¼ŒçŽ°ä»£è®¡ç®—è§†è§‰ä¸­ä½¿ç”¨ã€‚ CNNæ¨¡åž‹ä¸­è¿˜å¯ä»¥ä½¿ç”¨æ± åŒ–çš„æ–¹æ³• ç¼ºç‚¹ï¼š å‡ ä½•å˜æ¢èƒ½åŠ›æ˜¯å›ºå®šçš„ï¼Œå·²çŸ¥çš„ï¼šæ¯”å¦‚CNNå›ºå®šçš„å·ç§¯æ ¸ï¼Œå›ºå®šçš„æ± åŒ–æ ¸ï¼Œå›ºå®šçš„ROIï¼›æ•°æ®æ‰©å±•æ˜¯å…ˆéªŒçŸ¥è¯†çš„ä¸€ç§åˆ©ç”¨ã€‚å¯¹äºŽæ–°çš„è§†è§‰ä»»åŠ¡ï¼ˆæ¯”å¦‚æ¢ä¸ªæ•°æ®é›†ï¼‰ï¼Œä¹‹å‰æž„å»ºçš„å›ºå®šçš„å‡ ä½•å˜æ¢æ¨¡åž‹å¯èƒ½å°±ä¸èƒ½ç”¨äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ImageNetä¸Šè®­ç»ƒå¥½çš„åˆ†ç±»æ¨¡åž‹ç”¨åˆ°æ£€æµ‹æˆ–åˆ†å‰²ä¸Šæ—¶è¦ fine-tuningã€‚ å¯¹äºŽæ‰‹å·¥è®¾è®¡çš„ ç‰¹å¾æ¯”å¦‚SIFTï¼Œåœ¨ä¸€äº›å¤æ‚çš„è§†è§‰ä»»åŠ¡ä¸­ï¼Œè¡¨çŽ°å¾ˆå·®ï¼Œç”šè‡³æ˜¯ä¸å¯è¡Œçš„ã€‚ CNNåœ¨åˆ†ç±»ï¼Œæ£€æµ‹ï¼Œåˆ†å‰²é¢†åŸŸå–å¾—äº†å¾ˆå¤§è¿›å±•ï¼Œè¿™äº›æ¨¡åž‹å¢žå¼ºå‡ ä½•å˜æ¢èƒ½åŠ›çš„æ–¹æ³•ä¹ŸåŸºæœ¬æ˜¯ä¸Šé¢æåˆ°çš„ä¸‰ç§æ–¹æ³•,ä½†æ˜¯ä¸Šé¢æåˆ°çš„ç¼ºç‚¹ä»ç„¶å­˜åœ¨ã€‚ CNNå›ºå®šçš„å·ç§¯æ ¸ï¼Œå›ºå®šçš„æ± åŒ–æ ¸ï¼Œå›ºå®šçš„ROIï¼Œå¯¼è‡´é«˜å±‚ç¥žç»å…ƒçš„æ„Ÿå—é‡Žï¼ˆreceptive field ï¼‰æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰åŠžæ³•æœ‰æ•ˆçš„ç¼–ç è¯­ä¹‰æˆ–è€…ä½ç½®ä¿¡æ¯ã€‚ å¦‚æžœæ„Ÿå—é‡Žèƒ½å¤Ÿè‡ªé€‚åº”çš„åŠ¨æ€è°ƒèŠ‚ï¼Œé‚£å¯¹ç²¾ç»†åŒ–çš„å®šä½é—®é¢˜æ˜¯å¾ˆæœ‰åˆ©çš„ã€‚ è¿™ç¯‡æ–‡ç« åœ¨STNçš„åŸºç¡€ä¹‹ä¸Šï¼Œé’ˆå¯¹åˆ†ç±»å’Œæ£€æµ‹æå‡ºäº†ä¸¤ç§æ–°çš„æ¨¡å— deformable convolution ï¼ˆå¯å˜æ€§å·ç§¯ï¼‰å’Œdeformable RoI pooling ï¼ˆå¯å˜æ€§ ROIæ± åŒ–ï¼‰ï¼Œæ¥è¾¾åˆ°åŠ¨æ€è°ƒèŠ‚æ„Ÿå—é‡Žçš„ä½œç”¨ï¼Œå–å¾—äº†ä¸é”™çš„æ•ˆæžœã€‚ 2 Deformable Convolutional Networksä¸ºæ–¹ä¾¿è¡¨ç¤ºï¼Œä»¥ä¸‹æ‰€æœ‰éƒ½æ˜¯åœ¨2Då·ç§¯çš„åŸºç¡€ä¸Šç¤ºä¾‹ï¼Œå¯¹äºŽ3Då·ç§¯ æ¥è¯´æ¯ä¸ªé€šé“çš„å˜æ¢æ˜¯ä¸€æ ·çš„ã€‚ 2.1 Deformable Convolution å…ˆçœ‹ä¸‹å¯å˜æ€§å·ç§¯çš„æ•ˆæžœï¼Œå¦‚ä¸Šå›¾ï¼š (a)ï¼šæ ‡å‡†å·ç§¯é‡‡æ ·ç‚¹ (b), (c), (d)ï¼šæµ…ç»¿è‰²æ˜¯æ ‡å‡†å·ç§¯é‡‡æ ·ç‚¹ï¼Œæ·±è“è‰²æ˜¯å¯å˜å½¢å·ç§¯é‡‡æ ·ç‚¹ï¼Œæµ…è“è‰²ç®­å¤´æ˜¯åç§»ï¼ˆoffsetï¼‰ (c), (d)æ˜¯(b)çš„ç‰¹ä¾‹ï¼Œå…¶ä¸­(c)æ˜¯ å¸¦å­”å·ç§¯(Atrous convolution )æˆ–è€…å«è†¨èƒ€å·ç§¯(dilated convolution)ï¼Œè¿™è¯´æ˜Žå¯å˜å½¢å·ç§¯æ˜¯æ¯”è¾ƒå…·æœ‰ä¸€èˆ¬æ€§çš„å·ç§¯å½¢å¼ã€‚ å¯å˜å½¢å·ç§¯ä¸Žæ ‡å‡†å·ç§¯ç›¸æ¯”ï¼Œé‡‡æ ·ç‚¹ä¸å†æ˜¯å›ºå®šçš„äº†ï¼Œè€Œæ˜¯æœ‰ä¸ªåç§»é‡offsetï¼Œè¿™ä¸ªåç§»é‡æ˜¯2ç»´çš„ï¼Œé€šè¿‡ç½‘ç»œå­¦ä¹ å¾—åˆ°ï¼Œå®ƒä½¿å¾—é‡‡æ ·ç‚¹çš„å½¢çŠ¶å¯ä»¥æ ¹æ®ç›®æ ‡å‘ç”Ÿå˜åŒ–ã€‚ 2Då·ç§¯ï¼š ç”¨ $R$ è¡¨ç¤ºå·ç§¯æ ¸ä¸­çš„æ ¼ç‚¹ï¼Œæ¯”å¦‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª 3Ã—3 çš„å·ç§¯æ ¸çš„è¡¨ç¤º æ ‡å‡†2Då·ç§¯çš„è¿‡ç¨‹ï¼š $x$ ï¼šè¾“å…¥ feature map $y$ ï¼š è¾“å‡º feature map $p_0$ ï¼šè¾“å‡ºfeature map $y$ ä¸Šçš„åæ ‡ $p_n$ ï¼š $R$ ä¸­çš„åæ ‡ é‡‡æ ·ç‚¹åæ ‡ï¼š $p_0+p_n$ ï¼Œæ•´æ•° $w$ ï¼šé‡‡æ ·å‚æ•°ï¼ŒCNNä¸­å°±æ˜¯æƒå€¼ $w(p_n)$ ï¼šä»£è¡¨å·ç§¯æ ¸ä¸­çš„æƒå€¼ $x(p_0+p_n)$ : é‡‡æ ·ç‚¹å¤„çš„åƒç´ å€¼ å¯å˜å½¢å·ç§¯ï¼š è¦ç»™ $R$ åŠ ä¸Šåç§» offsetï¼š $\{\Delta p_n | n=1,â€¦,N\},N=|R|$ çŽ°åœ¨çš„é‡‡æ ·åæ ‡ç‚¹å˜æˆäº† $p_0+p_n+\Delta p_n$ ï¼Œ$\Delta p_n$ æ˜¯å°æ•°ï¼Œæ‰€ä»¥é‡‡æ ·åæ ‡ä¹Ÿå˜æˆäº†å°æ•°åæ ‡ $x(p_0+p_n+\Delta p_n)$ ï¼šå¯¹åº”åˆ°feature mapä¸Šæ²¡æœ‰åƒç´ å€¼ï¼Œå› æ­¤åˆéœ€è¦æ’å€¼äº† æ’å€¼å‡½æ•°ï¼š $p=p_0+p_n+\Delta p_n$ : è¾“å…¥feature map $x$ ä¸Šçš„å°æ•°åæ ‡ $q$ : è¾“å…¥feature map $x$ ä¸Šçš„æ‰€æœ‰æ•´æ•°åæ ‡ $G(q,p)$ ï¼šæ’å€¼æ ¸å‡½æ•°ï¼Œå¯ä»¥ä»£è¡¨æ›´ä¸€èˆ¬æ€§çš„æ’å€¼æ ¸å‡½æ•°ï¼Œæ¯”å¦‚çº¿æ€§æ’å€¼ï¼Œæœ€è¿‘é‚»æ’å€¼ç­‰ï¼Œä¸è¿‡è¿™é‡Œç”¨çš„æ˜¯åŒçº¿æ€§æ’å€¼ å› æ­¤æ’å€¼æ ¸å‡½æ•°ï¼š $g(a, b) = max(0, 1 - |a - b|)$ å¤§æ¦‚è¯´ä¸€ä¸‹çº¿æ€§æ’å€¼æ ¸å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š$$W_{bil}(x,y)=w_{lin}(x) \cdot w_{lin}(y)=\begin{cases}1-x-y-x\cdot y &amp; for \, \, \,0 \le |x|,|y| &lt;1\[2ex]0 &amp; otherwise\end{cases}$$è¯¦ç»†çš„å‚è€ƒï¼šåŒçº¿æ€§æ’å€¼ ï¼Œ å›¾åƒå¤„ç†ä¹‹æ’å€¼è¿ç®— . è™½ç„¶æ’å€¼éœ€è¦å¯¹è¾“å…¥feature map $x$ ä¸Šçš„æ‰€æœ‰æ•´æ•°åæ ‡è¿›è¡ŒéåŽ†å’Œè®¡ç®—ï¼Œä½†æ˜¯ç”±äºŽ $G(q,p)$ å®žé™…ä¸Šåœ¨å¾ˆå¤šä½ç½®éƒ½æ˜¯0ï¼Œæ‰€ä»¥æ’å€¼è®¡ç®—æ˜¯å¾ˆå¿«çš„ã€‚ å¯å˜å½¢å·ç§¯çš„ç»“æž„ç¤ºæ„å›¾ è¿™ä¸ªæ¨¡å—æœ‰ä¸¤æ¡ æµåŠ¨è·¯çº¿ï¼Œ ä¸‹é¢ä¸€è·¯æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ 3Ã—3 å·ç§¯ï¼Œ ä¸Šé¢ä¹Ÿæ˜¯ä¸€ä¸ª 3Ã—3 å·ç§¯ï¼Œæ­¥é•¿ä¸€æ ·ï¼Œè¾“å‡º offset field ä¸Ž input feature map å¤§å°ä¸€æ · é€šé“ä¸º 2N ä¸ªï¼Œä»£è¡¨Nä¸ª2ç»´çš„åç§»åœºï¼Œä¸€ä¸ªé€šé“æ˜¯ä¸€ç»´ï¼ˆx æˆ– yï¼‰ å‰ªè£ï¼ˆcropï¼‰å‡ºäºŽå·ç§¯æ ¸ç›¸å¯¹çš„é‚£ä¸€å—åŒºåŸŸï¼Œå¾—åˆ°offsets ä¸Žä¸‹é¢ä¸€è·¯æ ‡å‡†å·ç§¯æ ¸è¿›è¡Œç›¸åŠ ï¼Œç„¶åŽçº¿æ€§æ’å€¼ï¼Œç¡®å®šé‡‡æ ·ç‚¹åæ ‡ æœ€åŽè¿›è¡Œå·ç§¯æ“ä½œå³å¯ åŽå‘ä¼ æ’­ï¼š å¯¹è¾“å…¥feature mapçš„åŽå‘ä¼ æ’­ä¸Žæ ‡å‡†å·ç§¯ä¸€æ · å¯¹ offset $\Delta p_n$ çš„å¯¼æ•°å¦‚ä¸‹ï¼š å…¶ä¸­å¯ä»¥é€šè¿‡å…¬å¼4æ±‚å‡ºã€‚ $\partial \Delta p_n$ ä»£è¡¨ $\partial \Delta p_n^x$ æˆ– $\partial \Delta p_n^y$ 2.2 Deformable RoI Poolingé¦–å…ˆæ˜¯ ROI Poolingï¼š å›žé¡¾ä¸€ä¸‹ ROI æ± åŒ–ï¼š è¾“å…¥feature map ï¼š$x$ RoI çš„å¤§å° ï¼š$wÃ—h$ å·¦ä¸Šè§’ç‚¹åæ ‡ï¼š $p_0$ RoI pooling å°† RoI åˆ†æˆ $k Ã— k$ ($k$ æ˜¯è‡ªç”±å‚æ•°ï¼Œå¯ä»¥äººä¸ºè®¾å®š) ä¸ªç½‘æ ¼(bins )ï¼Œæ¯ä¸ªç½‘æ ¼ä¸­åƒç´ æœ‰å¤šä¸ªï¼Œå¤§å°ï¼š $\dfrac{w}{k} Ã— \dfrac{h}{k}$ è¾“å‡º $k Ã— k$ å¤§å°çš„ feature mapï¼š y åæ ‡ $(i, j)$ å¤„çš„ç½‘æ ¼ $(0 â‰¤ i, j &lt; k)$ çš„è¾“å‡ºï¼š $p\in bin(i,j)$ åæ ‡ $(i, j)$ å¤„çš„ç½‘æ ¼çš„åƒç´ è·¨åº¦ï¼š$\lfloor i {w \over k}\rfloor \le x \le \lceil (i+1){w \over k}\rceil$ å’Œ $\lfloor j {h \over k}\rfloor \le y \le \lceil (j+1){h \over k}\rceil$ ï¼Œ$\lfloor \cdot \rfloor$ å’Œ $\lceil \cdot \rceil $ åˆ†åˆ«ä»£è¡¨ä¸‹ç•Œå’Œä¸Šç•Œ $n_{ij}$ : åæ ‡ $(i, j)$ å¤„çš„ç½‘æ ¼ä¸­çš„åƒç´ æ€»æ•°ï¼Œè¿™æ˜¯ä¸ªå¹³å‡å€¼æ± åŒ– $p_0+p$ $(i, j)$ ï¼šå¤„çš„ç½‘æ ¼ä¸­çš„åæ ‡ï¼Œå³é‡‡æ ·ç‚¹åæ ‡ åŒæ ·çš„è¦ç»™ ROI åŠ ä¸Šåç§» offsetï¼š $\{\Delta p_{ij} | (0 â‰¤ i, j &lt; k) \}$ ï¼Œå¦‚ä¸‹ï¼š åŒæ ·çš„ $\Delta p_{ij} $ ä¸€èˆ¬éƒ½æ˜¯å°æ•°ï¼ŒåŒæ ·çš„è¿˜æ˜¯ç”¨åŒçº¿æ€§æ’å€¼æ¥å®Œæˆåæ ‡æ˜ å°„ï¼Œå…¬å¼3å’Œå…¬å¼4. å¯å˜å½¢ ROI æ± åŒ– ç»“æž„å›¾ é¦–å…ˆä»ŽROIä¸­ç”Ÿæˆ æ± åŒ–åŽçš„ feature map å…¶åŽå…¨è¿žæŽ¥å±‚ç”Ÿæˆ å½’ä¸€åŒ–çš„ï¼ˆnormalizedï¼‰ offsetsï¼š $\Delta \hat p_{ij}$ ï¼Œè¿™ä¸ªå½’ä¸€åŒ–çš„å‘é‡æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºROIçš„å°ºå¯¸ä¸ä¸€ï¼Œå¿…é¡»è¦ç»Ÿä¸€æ ‡å‡†ï¼Œæ¯”å¦‚å½’ä¸€åŒ–åˆ° [-1,1] å½’ä¸€åŒ–çš„å‘é‡ $\Delta \hat p_{ij}$ å†ç”Ÿæˆ offsets $\Delta p_{ij}$ , ç›´æŽ¥ä¸ŽROIåš ç‚¹ç§¯ï¼š $\gamma$ æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„ç³»æ•°ï¼Œç”¨äºŽè¡¡é‡ åå·®offset çš„ é‡è¦ç¨‹åº¦ï¼ŒæŒ‰ç»éªŒé€‰å–ï¼Œæ–‡ç« ä½¿ç”¨çš„ $\gamma =0.1$ . åŽå‘ä¼ æ’­ï¼š $\dfrac{\partial y(i,g)}{\partial \Delta \hat p_{ij}}$ å¯ä»¥å¾ˆè½»æ¾çš„é€šè¿‡ æ±‚å‡ºã€‚ å†æ¥çœ‹çœ‹Position-Sensitive (PS) RoI Pooling åŸºæœ¬ä¸ŽROI Poolingç›¸åŒï¼Œå› ä¸ºæ± åŒ–åŽçš„feature map ä¸­çš„æ¯ä¸€ä¸ªåƒç´ éƒ½æ¥è‡ªä¸åŒç»„çš„score map çš„å¯¹åº”ä½ç½®ï¼ˆé¢œè‰²å¯¹åº”ï¼‰ï¼Œæ‰€ä»¥å…¬å¼5å’Œ6 ä¸­çš„ è¾“å…¥feature map ç”± $x$ æ”¹ä¸º $x_{ij}$ ä¸åŒçš„æ˜¯ offsetçš„ç”Ÿæˆæ–¹å¼ï¼Œ offset çš„ç”Ÿæˆæ–¹å¼ä¸Ž åˆ†ç±»é—®é¢˜ä¸­çš„ PS Poolingæ˜¯ä¸€æ ·çš„ ä»Žè¾“å…¥feature mapå¦èµ·ä¸€è·¯ï¼Œå…ˆç”Ÿæˆ $2k^2(C+1)$ é€šé“çš„ score mapï¼ˆCä¸ªç±»åˆ«ï¼Œåç§»é‡æ˜¯2ç»´çš„ï¼‰ï¼Œç„¶åŽPS Pooling åŒæ ·ä¹Ÿæ˜¯å…ˆç”Ÿæˆ å½’ä¸€åŒ–çš„ åç§»é‡ï¼Œç„¶åŽå†è½¬æ¢æˆ ä¸ŽROI å°ºå¯¸ç›¸å…³çš„ offset ä¸Ž æ± åŒ–åæ ‡ç›¸åŠ ï¼Œå¾—åˆ°é‡‡æ ·ç‚¹åæ ‡ã€‚ ä¸Šé¢å›¾ä¸­çš„åŠ äº†åç§»é‡çš„ç½‘æ ¼ï¼ˆbinsï¼‰å·²ç»ä¸ŽåŽŸæ¥çš„ç½‘æ ¼äº§ç”Ÿäº†åç§» 3 è¯•éªŒ3.1 è¯•éªŒå‡†å¤‡çŽ°æœ‰çš„CNNæ¨¡åž‹ä¸€èˆ¬éƒ½åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†ç‰¹å¾æå–ï¼Œä¸€éƒ¨åˆ†åˆ†ç±»æˆ–æ£€æµ‹æˆ–åˆ†å‰²ç­‰ã€‚ Deformable Convolution for Feature Extraction ResNet-101 Aligned-Inception-ResNet ï¼Œè¿™æ˜¯ Inception-ResNet çš„ä¸€ä¸ªæ”¹è¿›ç‰ˆæœ¬ï¼Œå› ä¸ºå¯¹äºŽå¯†é›†é¢„æµ‹ä»»åŠ¡ï¼ˆæ¯”å¦‚æ£€æµ‹å’Œåˆ†å‰²ï¼‰ Inception-ResNet çš„ç‰¹å¾å’ŒåŽŸå›¾ä¸Šçš„ç›®æ ‡ä¸èƒ½å¯¹é½ã€‚ è¿™ä¸¤ç§ç½‘ç»œçš„é™é‡‡æ ·æ¯”ä¾‹ç”±åŽŸæ¥çš„32 è°ƒæ•´ä¸º 16ï¼Œå¹¶ä½¿ç”¨äº† å¸¦å­”å·ç§¯ï¼ˆAtrous convolution ï¼‰ æˆ–è€…å«åš è†¨èƒ€å·ç§¯ï¼ˆdilated convolution ï¼‰ ç»è¿‡è¯•éªŒéªŒè¯ deformable convolution æ”¾ç½®äºŽç½‘ç»œæœ€åŽ3å±‚ã€‚ Segmentation and Detection Networks DeepLab ï¼šç”¨äºŽåˆ†å‰² Category-Aware RPN ï¼šæ£€æµ‹ï¼ŒRPNçš„åˆ†ç±»ç”±äºŒåˆ†ç±»æ¢æˆå¤šåˆ†ç±» Faster R-CNN ä½¿ç”¨ FPNï¼ˆFeature pyramid networks for object detection. ï¼‰çš„é…ç½®ï¼ŒROI Poling æ¢ä¸º deformable RoI pooling. R-FCN ï¼šPS Pooling æ¢ä¸º deformable position-sensitive RoI pooling. 3.2 Understanding Deformable ConvNets (a)ï¼šæ ‡å‡†å·ç§¯ä¸­å›ºå®šçš„æ„Ÿå—é‡Žå’Œå·ç§¯æ ¸é‡‡æ ·ç‚¹ (b)ï¼šå¯å˜å½¢å·ç§¯ä¸­è‡ªé€‚åº”çš„æ„Ÿå—é‡Žå’Œå·ç§¯æ ¸é‡‡æ ·ç‚¹ï¼Œ æ„å‘³ç€å¯å˜å½¢å·ç§¯ä¸­é«˜å±‚ç¥žç»å…ƒçœ‹åˆ°åŽŸå›¾çš„åŒºåŸŸæ›´æŽ¥è¿‘ç›®æ ‡ï¼Œæ‰€ä»¥æ›´å®¹æ˜“åˆ†ç±» è¿™å›¾è¡¨ç¤ºçš„æ˜¯é«˜å±‚çš„ç¥žç»å…ƒåœ¨åŽŸå›¾ä¸Šçš„æ„Ÿå—é‡Žå’Œé‡‡æ ·ç‚¹ æ¯ä¸ªå›¾åƒä¸‰å…ƒç»„æ˜¾ç¤ºäº†ä¸‰å±‚3x3å¯å˜å½¢å·ç§¯æ ¸çš„é‡‡æ ·ç‚¹ä½ç½®ï¼ˆå…±729ä¸ªç‚¹ï¼‰ï¼Œå¯¹åº”äºŽä¸‰ä¸ªä¸åŒçš„å›¾åƒåŒºåŸŸï¼ˆä»Žå·¦è‡³å³ï¼ŒèƒŒæ™¯ï¼Œå°ç‰©ä½“ï¼Œå¤§ç‰©ä½“ï¼‰ ç»¿è‰²ç‚¹å¯¹åº”é«˜å±‚çš„ä¸€ä¸ªåƒç´ ç‚¹ï¼Œçº¢è‰²ç‚¹å¯¹åº”é«˜å±‚ç¥žç»å…ƒåœ¨åº•å±‚çš„æ„Ÿå—é‡Žå†…çš„é‡‡æ ·ç‚¹ï¼Œä¸Žfigure 5å¯¹åº” R-FCNæ¨¡åž‹ä¸­ PS Poolingæ¢æˆå¯å˜å½¢æ± åŒ–åŽï¼ŒROIä¸­çš„ç½‘æ ¼åˆ†å¸ƒ æ¯”è¾ƒæ•´é½çš„é»„è‰²æ¡†æ˜¯ PS ROI Pooling çº¢è‰²æ¡†æ˜¯deformable PS ROI Pooling å¾ˆæ˜Žæ˜¾çº¢è‰²æ¡†æ›´æŽ¥è¿‘ç›®æ ‡çš„å½¢çŠ¶ 3.3 Ablation StudyDeformable Convolution å¯¹æ£€æµ‹æˆ–åˆ†å‰²çš„æ•ˆæžœ æŽ§åˆ¶å˜é‡ï¼šdeformable convolution çš„æ•°é‡ å’Œ ä¸åŒçš„ç½‘ç»œæ¨¡åž‹ æ•´ä½“ä¸Šæ¥è¯´ deformable convolution è¶Šå¤šï¼Œæ•ˆæžœè¶Šå¥½ï¼›ä½†æ˜¯ä»Ž3-6çš„å¢žç›Šä¸å¤§ï¼Œæ‰€ä»¥æ–‡ç« å…¶ä»–éƒ¨åˆ†éƒ½æ˜¯ç”¨çš„3ä¸ªdeformable convolution ä¸ºäº†è¯´æ˜Žæ¨¡åž‹ä¸­é«˜å±‚ç¥žç»å…ƒçš„æ„Ÿå—é‡Žæ˜¯åŠ¨æ€è‡ªé€‚åº”çš„ï¼Œæ–‡ç« åšäº†ä¸€ä¸ªç²—ç•¥çš„æµ‹é‡ï¼š å¯¹å¯å˜å½¢å·ç§¯æ ¸ï¼ŒåŠ äº†offset å‰åŽçš„é‡‡æ ·ç‚¹å¯¹ï¼Œè®¡ç®—ä»–ä»¬ä¹‹é—´çš„å¹³å‡è·ç¦»ï¼Œç§°ä¸º æœ‰æ•ˆè†¨èƒ€ï¼šeffective dilation ã€‚è¿™å¯ä»¥ç²—ç•¥çš„è¡¡é‡æ„Ÿå—é‡Žçš„å¤§å°ï¼Œeffective dilationè¶Šå¤§ï¼Œæ„Ÿå—é‡Žè¶Šå¤§ çœ‹çœ‹æ•ˆæžœï¼š ä½¿ç”¨åŒ…å«3ä¸ª deformable layers çš„R-FCN åœ¨ PASCLA VOC2007æ•°æ®é›†ä¸Šæ£€æµ‹ï¼Œç›®æ ‡æŒ‰ç…§COCO çš„æ ‡å‡†åˆ†ä¸ºå¤§ï¼Œä¸­ï¼Œå°ã€‚è¿™ä¸‰ä¸ªå¯å˜å½¢å·ç§¯å±‚çš„æœ‰æ•ˆè†¨èƒ€ ç»Ÿè®¡å¦‚ä¸‹ï¼š è¶Šå¤§çš„ç›®æ ‡æœ‰æ•ˆè†¨èƒ€è¶Šå¤§ï¼Œæ„Ÿå—é‡Žä¹Ÿè¶Šå¤§ï¼Œç¡®å®žåœ¨æ„Ÿå—é‡Žçš„åŒºåŸŸé¢ç§¯ä¸Šå®žçŽ°äº†åŠ¨æ€è‡ªé€‚åº”è°ƒæ•´ èƒŒæ™¯çš„æ„Ÿå—é‡Žä»‹äºŽ ä¸­ç­‰ç›®æ ‡å’Œå¤§ç›®æ ‡ä¹‹é—´ å½“ç„¶è¿™ä¸ªåªæ˜¯å¯¹æ„Ÿå—é‡Žçš„åŒºåŸŸå¤§å°ä½œè¯„ä¼°ï¼Œè€Œæ„Ÿå—é‡Žçš„åŒºåŸŸæ˜¯å¦‚ä½•è·Ÿéšç›®æ ‡çš„å½¢çŠ¶åŠ¨æ€å˜åŒ–çš„ï¼Œå°±åªèƒ½ä»Žfigure5ï¼Œfigure6ï¼Œfigure7ä¸­è§‚å¯Ÿäº† â€‹ ç–‘é—®ï¼šè¿™æ€Žä¹ˆè·Ÿfigure 6ä¸Šçš„å¯è§†åŒ–æ•ˆæžœä¸å¤ªä¸€æ ·ï¼Ÿfigure 6ä¸Šå¯æ˜¯èƒŒæ™¯çš„æ„Ÿå—é‡Žæœ€å¤§, æ„Ÿè§‰æœ‰æ•ˆè†¨èƒ€ç¡®å®žä¸å¤ªå‡†ç¡®, ä¸ªäººè®¤ä¸ºæœ‰æ•ˆè†¨èƒ€è¡¡é‡çš„æ˜¯è†¨èƒ€å‰åŽä¸¤ä¸ªç›¸å¯¹åº”çš„åæ ‡å¯¹ä¹‹é—´çš„è·ç¦»ï¼Œè·Ÿåæ ‡ç‚¹åˆ†å¸ƒçš„å¤§å°åŒºåŸŸçš„å…³ç³»ä¸å¤ªå¤§ï¼Œä¸è¿‡æ–‡ç« ä¹Ÿè¯´äº†æ˜¯ç²—ç•¥æµ‹é‡ã€‚ atrous convolution ä¸‹å›¾ï¼ˆbï¼‰æ˜¯å¸¦å­”å·ç§¯ï¼Œå¯ä»¥è·³ç€é€‰ï¼Œéš”ä¸€ä¸ªåŠ ä¸€ä¸ªï¼Œå³ dilation=1ï¼Œéš”ä¸¤ä¸ªçš„è¯å°±æ˜¯ dilation=2 å†æ¥çœ‹çœ‹å¸¦å­”å·ç§¯çš„æ•ˆæžœï¼Œè†¨èƒ€å·ç§¯å®žé™…ä¸Šæ˜¯æœ¬æ–‡æå‡ºçš„å¯å˜å½¢å·ç§¯çš„ç‰¹ä¾‹ï¼š dilation ä»Ž 2åˆ°4ï¼Œåˆ°6ï¼Œåˆ°8ï¼Œæ•´ä½“ä¸Šæ¥çœ‹ï¼Œæ•ˆæžœåœ¨å¢žåŠ ï¼Œè¯´æ˜Žé»˜è®¤ default network çš„æ„Ÿå—é‡Žæ¯”è¾ƒå° æœ€ä¼˜çš„ dilation value å¯¹äºŽä¸åŒçš„ä»»åŠ¡å’Œæ¨¡åž‹ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œ6 for DeepLab but 4 for Faster R-CNN deformable convolution æœ‰æœ€å¥½çš„æ•ˆæžœï¼Œè¯´æ˜Žè‡ªé€‚åº”çš„å­¦ä¹ å¯å˜å½¢çš„å·ç§¯æ ¸æˆ–æ± åŒ–æ ¸æ˜¯æœ‰æ•ˆçš„ å¯¹æ¯” Faster RCNN å’Œ R-FCNï¼Œå½“ deformable convolution å’Œ deformable RoI Pooling åŒæ—¶ä½¿ç”¨æ—¶, èƒ½å¤Ÿå¾—åˆ°æ˜¾è‘—çš„æ•ˆæžœæå‡ï¼Œ æ¨¡åž‹å¤æ‚åº¦å¯¹æ¯”ï¼š å‚æ•°ä¼šå¢žåŠ ï¼Œä½†æ˜¯å¢žåŠ çš„å¾ˆå°‘ï¼Œå¯¹æ—¶é—´å½±å“ä¸å¤§ è¯´æ˜Žå¯å˜å½¢å·ç§¯ç½‘ç»œèŽ·å¾—çš„æ”¶ç›Šä¸æ˜¯ç”±äºŽå‚æ•°å¢žåŠ è€ŒèŽ·å¾—çš„ COCOä¸Šçš„æ•ˆæžœå¯¹æ¯”ï¼š æ— ç–‘ å¯å˜å½¢å·ç§¯ç¥žç»ç½‘ç»œå–å¾—äº†ä¸é”™çš„æˆç»© å°†ResNet101æ¢ä¸ºAligned-Inception-ResNet ï¼Œå³ä¾¿ä¸ä½¿ç”¨å¯å˜å½¢å·ç§¯ä¹Ÿä¼šæé«˜ç²¾åº¦ï¼Œè¯´æ˜Ž Aligned-Inception-ResNet æ•ˆæžœæ¯” ResNet101å¥½ï¼ŒAligned-Inception-ResNetåˆ°åº•æ˜¯ä¸ªå•¥ï¼Œç­‰ä¼šè¯´ã€‚ 4 ä¸ŽSTNçš„æ¯”è¾ƒæ•´ä¸ªç»“æž„è·ŸSTN(Spatial Transformer Networks )è¿˜æ˜¯æ¯”è¾ƒåƒçš„ã€‚ deformable convolution ä¸­å­¦ä¹ åˆ°çš„åç§»é‡ offset å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§ è½»é‡åŒ–çš„ spatial transformer ã€‚ spatial transformer æ˜¯ä¸€ç§å…¨å±€å‡ ä½•å˜æ¢ï¼Œä¸€æ¬¡æŠŠ ç›®æ ‡æ‰€åœ¨åŒºåŸŸå…¨éƒ¨ç»™å˜æ¢è¿‡åŽ»ï¼› è€Œdeformable convolution åˆ™æ˜¯ä»¥å±€éƒ¨ã€å¯†é›†é‡‡æ ·çš„æ–¹å¼å®Œæˆå‡ ä½•å˜æ¢çš„ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å±žäºŽå·ç§¯æ“ä½œã€‚ spatial transformer cropå‡ºçš„åŒºåŸŸæ˜¯ä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢ï¼Œç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒè§„æ•´çš„ï¼› deformable convolution ä¸­çš„æ„Ÿå—é‡Žæ˜¯å¯ä»¥æ ¹æ®ç›®æ ‡å½¢çŠ¶éšæ„å½¢å˜çš„ã€‚ STNæ¯”deformable convolutionçš„å‚æ•°è¦å¤šï¼Œè€Œä¸”å­¦ä¹ å˜æ¢çŸ©é˜µæ¯”å­¦ä¹ åç§»é‡æ›´éš¾ã€‚ STNè™½ç„¶åœ¨å°çš„æ•°æ®é›†ä¸Šå–å¾—äº†æ¯”è¾ƒå¥½çš„æ•ˆæžœï¼Œä¸è¿‡åœ¨å¤§çš„æ•°æ®é›†ä¸Šçš„æ•ˆæžœå¥½åƒä¸æ€Žä¹ˆå¥½ï¼Œè¿™ç¯‡è®ºæ–‡å¥½åƒæœ‰æŽ¢è®¨ï¼šInverse compositional spatial transformer networks. 5 Aligned-Inception-ResNetAligned-Inception-ResNetæ˜¯Inception-ResNetçš„æ”¹è¿›ç‰ˆæœ¬ï¼Œç”±äºŽ Inception-ResNetç½‘ç»œå¤ªæ·±ï¼Œä½¿ç”¨äº†å¾ˆå¤šå·ç§¯å±‚å’Œæ± åŒ–å±‚ï¼Œæ·±å±‚ç¥žç»å…ƒï¼ˆé è¿‘è¾“å…¥å±‚ï¼‰åœ¨åŽŸå›¾ä¸Šçš„æ˜ å°„ï¼Œä¸Žæ„Ÿå—é‡Žçš„ä¸­å¿ƒæ˜¯ä¸èƒ½å¯¹é½çš„ï¼Œæ¯”å¦‚ä¸‹å›¾è¿™æ ·çš„ä¸€å±‚å·ç§¯ï¼ŒåŽä¸€å±‚çš„æ¯ä¸ªåƒç´ éƒ½ä¸Žæ„Ÿå—é‡Žçš„ä¸­å¿ƒæ˜¯å¯¹é½çš„ï¼Œä½†æ˜¯è¿™æ ·çš„å±‚å †èµ·æ¥ä¹‹åŽï¼Œç„¶åŽå†åŠ ä¸€äº›æ± åŒ–å±‚çš„è¯ï¼Œå°±å¾ˆæœ‰å¯èƒ½å¯¹ä¸é½äº†ã€‚ å®žé™…ä¸Šè¿™ç§æƒ…å†µåœ¨æ·±å±‚å·ç§¯ç¥žç»ç½‘ç»œä¸­æ˜¯æ¯”è¾ƒæ™®éçš„ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡æŽ§åˆ¶æ± åŒ–å±‚æ•°é‡ï¼ˆæ¯”å¦‚ResNetï¼ŒGoogLeNetæ¨¡åž‹ä¸­å°±æ²¡æœ‰æ± åŒ–å±‚ï¼‰å’Œæ€»é™é‡‡æ ·æ¯”ä¾‹æ¥å‡ç¼“çš„ï¼Œè€Œä¸”æœ‰äº›è§†è§‰ä»»åŠ¡æ˜¯åœ¨èƒ½å¤Ÿå¯¹é½çš„å‡è®¾ä¸‹æž„å»ºçš„ï¼Œæ¯”å¦‚FCNï¼Œæœ€åŽçš„feature mapä¸­çš„ä¸€ä¸ª cell çš„é¢„æµ‹å¯¹åº”äº†åŽŸå›¾çš„ä¸€ä¸ªä½ç½®ã€‚ ä¸ºäº†å¼¥è¡¥è¿™ä¸ªç¼ºé™·ï¼Œä½•å‡¯æ˜Žè¿˜æœ‰å¾®è½¯äºšç ”é™¢ä¸€å¹²äººç­‰ æå‡ºäº† Aligned-Inception-ResNet ï¼Œè¿™æ˜¯ä¸€ç¯‡æ²¡å‡ºç‰ˆçš„è®ºæ–‡ï¼Œarxivç½‘ç«™ä¸Šä¹Ÿæ²¡æ‰¾åˆ°ï¼Œè¿™é‡Œæ˜¯åœ¨ deformable convolutional networks è¿™ç¯‡è®ºæ–‡çš„ é™„å½•éƒ¨åˆ†çœ‹åˆ°çš„ã€‚ çœ‹ä¸‹é¢è¿™ç¯‡è®ºæ–‡ä¸­çš„å¼•ç”¨ï¼šunpublished work è®ºæ–‡ä¸­ä¹Ÿå£°æ˜Žäº†ï¼š ä¸è¿‡ç½‘ç»œç»“æž„å€’æ˜¯æŒºæ¸…æ™°çš„ï¼Œä¸ªåˆ«ç»†èŠ‚ä¸å¤ªæ¸…æ¥šã€‚ ç½‘ç»œç»“æž„çœ‹table6 å’Œ figure 8ï¼š ä¸ŽåŽŸå§‹çš„Inception-ResNetï¼Œç›¸æ¯”ï¼Œ Aligned-Inception-ResNet ä½¿ç”¨äº†å¾ˆå¤šé‡å¤çš„ç»“æž„ï¼Œç§°ä¸º IRB ï¼Œå¦‚figure 8ï¼Œæ•´ä¸ªç½‘ç»œç»“æž„æ¯” Inception-ResNetç®€å•äº†å¥½å¤šï¼› å…³äºŽå¯¹é½çš„æ–¹å¼ï¼Œé™„å½•åªæ˜¯è¯´åœ¨å·ç§¯å±‚å’Œæ± åŒ–å±‚ä½¿ç”¨äº†åˆé€‚çš„ paddingï¼ˆproper padding in convolutional and pooling layers. ï¼‰ã€‚å…·ä½“æ˜¯æ€Žä¹ˆåšçš„ä¹Ÿæ²¡è¯´æ¸…æ¥š. ImageNetä¸Šçš„æ•ˆæžœå¦‚ä¸‹ï¼š å¯è§æ•ˆæžœå¹¶æ²¡æœ‰è¶…è¶Šå…¶ä»–çš„ç»“æž„ï¼Œå·ç§°æ˜¯Inception-ResNetçš„æ”¹è‰¯ï¼Œç«Ÿç„¶è¿˜ä¸å¦‚ Inception-ResNetï¼Œè€Œä¸”å‚æ•°ä¹Ÿå¤šï¼ŒIRBé‚£ä¸ªç»“æž„æ„Ÿè§‰ä¹Ÿæ˜¯å°†Inception-ResNet ä¸­çš„æ¨¡å—è°ƒæ•´äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰å•¥å¤ªå¤§æœ¬è´¨çš„å˜åŒ–ã€‚ å”¯ä¸€æœ‰æ•ˆçš„ææ€•å°±æ˜¯åœ¨åˆ†å‰²æˆ–è€…ç›®æ ‡æ£€æµ‹ä¸­ç”¨ä½œåŸºç¡€ç½‘ç»œæ—¶æ•ˆæžœä¼šå¥½ç‚¹å§ï¼Œè§table5. è¿™ä¸ªç»“æž„ç›®å‰åªåœ¨ä¸¤ç¯‡æ–‡ç« ä¸­è§åˆ°è¿‡ï¼šä¸€ç¯‡ æ˜¯ä¸Šé¢è®²çš„ deformable convolutional networks ï¼Œè¿˜æœ‰ä¸€ç¯‡æ˜¯ï¼šFlow-Guided Feature Aggregation for Video Object Detection ï¼Œéƒ½æ˜¯å¾®è½¯äºšç ”é™¢çš„å·¥ä½œã€‚ å‚è€ƒèµ„æ–™ åŒçº¿æ€§å·®å€¼ å›¾åƒå¤„ç†ä¹‹æ’å€¼è¿ç®— https://mlnotebook.github.io/post/CNN1/]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>basic dl models</tag>
        <tag>Deformable Convolutional Networks</tag>
        <tag>è®ºæ–‡ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºç¡€DLæ¨¡åž‹-STN-Spatial Transformer Networks-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F7c7952f0%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡ï¼šSpatial Transformer Networksï¼Œæ˜¯Googleæ——ä¸‹ DeepMind å…¬å¸çš„ç ”ç©¶æˆæžœã€‚ è¿™ç¯‡è®ºæ–‡çš„è¯•éªŒåšçš„ç‰¹åˆ«å¥½ã€‚ 1 ç®€ä»‹1.2 é—®é¢˜æå‡ºCNNåœ¨å›¾åƒåˆ†ç±»ä¸­å–å¾—äº†æ˜¾è‘—çš„æˆæ•ˆï¼Œä¸»è¦æ˜¯å¾—ç›ŠäºŽ CNN çš„æ·±å±‚ç»“æž„å…·æœ‰ ç©ºé—´ä¸å˜æ€§ï¼ˆspatially invarianceï¼‰ï¼ˆå¹³ç§»ä¸å˜æ€§ï¼Œæ—‹è½¬ä¸å˜æ€§ï¼‰ï¼Œæ‰€ä»¥å›¾åƒä¸Šçš„ç›®æ ‡ç‰©ä½“å°±ç®—æ˜¯åšäº†å¹³ç§»æˆ–è€…æ—‹è½¬ï¼ŒCNNä»ç„¶èƒ½å¤Ÿå‡†ç¡®çš„è¯†åˆ«å‡ºæ¥ï¼Œè¿™å¯¹äºŽCNNçš„æ³›åŒ–èƒ½åŠ›æ˜¯æœ‰ç›Šçš„ã€‚ ç©ºé—´ä¸å˜æ€§ä¸»è¦æ˜¯ç”±äºŽ Pooling å±‚ å’Œ æ­¥é•¿ä¸ä¸º1çš„å·ç§¯å±‚ çš„å­˜åœ¨å¸¦æ¥çš„ã€‚å®žé™…ä¸Šä¸»è¦æ˜¯æ± åŒ–å±‚çš„ä½œç”¨ï¼Œå› ä¸ºå¤§éƒ¨åˆ†çš„å·ç§¯å±‚çš„æ­¥é•¿éƒ½æ˜¯å¤§äºŽ1è€Œåˆå°äºŽå·ç§¯æ ¸å¤§å°çš„ï¼Œä¹Ÿå°±æ˜¯æ»‘åŠ¨æ—¶æ˜¯æœ‰é‡å çš„ï¼Œè€Œæ± åŒ–å±‚ä¸€èˆ¬ä¸æ˜¯é‡å çš„ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äº›å±‚è¶Šå¤šï¼Œè¶Šæ·±ï¼Œæ± åŒ–æ ¸æˆ–å·ç§¯æ ¸è¶Šå¤§ï¼Œç©ºé—´ä¸å˜æ€§ä¹Ÿè¶Šå¼ºï¼›ä½†æ˜¯éšä¹‹è€Œæ¥çš„é—®é¢˜æ˜¯å±€éƒ¨ä¿¡æ¯ä¸¢å¤±ï¼Œæ‰€ä»¥è¿™äº›å±‚è¶Šå¤šå‡†ç¡®çŽ‡è‚¯å®šæ˜¯ä¸‹é™çš„ï¼Œæ‰€ä»¥ä¸»æµçš„CNNåˆ†ç±»ç½‘ç»œä¸€èˆ¬éƒ½å¾ˆæ·±ï¼Œä½†æ˜¯æ± åŒ–æ ¸éƒ½æ¯”è¾ƒå°ï¼Œæ¯”å¦‚2Ã—2ã€‚ æ¯”å¦‚ResNetï¼ŒGoogLeNetï¼ŒVGGï¼ŒFCNï¼Œè¿™äº›ç½‘ç»œçš„æ€»é™é‡‡æ ·æ¯”ä¾‹ä¸€èˆ¬æ˜¯ 16æˆ–32ï¼ŒåŸºæœ¬æ²¡æœ‰è§è¿‡ 64å€ï¼Œ128å€æˆ–è€…æ›´é«˜å€æ•°çš„é™é‡‡æ ·ï¼ˆä¼šæŸå¤±å±€éƒ¨ä¿¡æ¯é™ä½Žå‡†ç¡®çŽ‡ï¼‰ï¼Œä¹Ÿå¾ˆå°‘è§åˆ° 2å€æˆ–è€…4å€çš„é™é‡‡æ ·æ¯”ä¾‹ï¼ˆç©ºé—´ä¸å˜æ€§å¤ªå¼±ï¼Œæ³›åŒ–èƒ½åŠ›ä¸å¥½ï¼‰ã€‚ä¸è¿‡è¿™ä¸ªæ˜¯è·Ÿæ•°æ®é›†ä¸­çš„å›¾åƒå¤§å°æœ‰å…³çš„ï¼Œä¸Šè¿°ä¸»æµå›¾åƒåˆ†ç±»ç½‘ç»œåŸºæœ¬éƒ½æ˜¯é’ˆå¯¹äºŽ ImageNetæ•°æ®é›†åšåˆ†ç±»çš„ï¼ŒImageNetä¸­çš„å›¾ç‰‡éƒ½æ¯”è¾ƒå¤§ï¼Œä¸€èˆ¬åœ¨ 256Ã—256 å·¦å³ã€‚å¦‚æžœæ•°æ®é›†ä¸­çš„å›¾åƒæœ¬æ¥å°±å¾ˆå°ï¼Œé‚£ä¹ˆé™é‡‡æ ·æ¯”ä¾‹å°±ä¹Ÿä¼šå°ï¼Œæ¯”å¦‚ MNISTæ•°æ®é›†ï¼Œå›¾åƒåªæœ‰28Ã—28ï¼Œæ‰€ä»¥LeNetä¸­çš„é™é‡‡æ ·æ¯”ä¾‹æ˜¯4ã€‚æ€»ä¹‹ï¼Œé™é‡‡æ ·æ¯”ä¾‹è¦æ ¹æ®æ•°æ®é›†è°ƒæ•´ï¼Œæ‰¾åˆ°åˆé€‚çš„é™é‡‡æ ·æ¯”ä¾‹ï¼Œæ‰èƒ½ä¿è¯å‡†ç¡®çŽ‡çš„æƒ…å†µä¸‹ï¼Œæœ‰è¾ƒå¼ºçš„ç©ºé—´ä¸å˜æ€§ã€‚ é‚£ä¹ˆå¦‚ä½•åœ¨ä¿è¯å‡†ç¡®çŽ‡çš„æƒ…å†µä¸‹ï¼Œå³ä¸æŸå¤±å±€éƒ¨ä¿¡æ¯çš„å‰æä¸‹ï¼Œå¢žå¼ºç½‘ç»œçš„ç©ºé—´ä¸å˜æ€§å‘¢ï¼Ÿè¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 1.2 è§£å†³æ–¹æ³•å¯¹äºŽCNN æ¥è¯´ï¼Œå³ä¾¿é€šè¿‡é€‰æ‹©åˆé€‚çš„é™é‡‡æ ·æ¯”ä¾‹æ¥ä¿è¯å‡†ç¡®çŽ‡å’Œç©ºé—´ä¸å˜æ€§ï¼Œä½†æ˜¯ æ± åŒ–å±‚ å¸¦æ¥çš„ç©ºé—´ä¸å˜æ€§æ˜¯ä¸å¤Ÿçš„ï¼Œå®ƒå—é™äºŽé¢„å…ˆé€‰å®šçš„å›ºå®šå°ºå¯¸çš„æ± åŒ–æ ¸ï¼ˆæ„Ÿå—é‡Žæ˜¯å›ºå®šçš„ï¼Œå±€éƒ¨çš„ï¼‰ã€‚å› ä¸ºç‰©ä½“çš„å˜å½¢åŒ…æ‹¬æ—‹è½¬ï¼Œå¹³ç§»ï¼Œæ‰­æ›²ï¼Œç¼©æ”¾ï¼Œæ··æ·†å™ªå£°ç­‰ï¼Œæ‰€ä»¥åŽé¢feature mapä¸­åƒç´ ç‚¹çš„æ„Ÿå—é‡Žä¸ä¸€å®šåˆšå¥½åŒ…å«ç‰©ä½“æˆ–è€…åæ˜ ç‰©ä½“çš„å½¢å˜ã€‚ æ–‡ç« æå‡ºäº†ä¸€ç§ Spatial Transformer Networksï¼Œç®€ç§° STNï¼Œå¼•è¿›äº†ä¸€ç§å¯å­¦ä¹ çš„é‡‡æ ·æ¨¡å— Spatial Transformer ï¼Œå§‘ä¸”ç§°ä¸ºç©ºé—´å˜æ¢å™¨ï¼ŒSpatial Transformerçš„å­¦ä¹ ä¸éœ€è¦å¼•å…¥é¢å¤–çš„æ•°æ®æ ‡ç­¾ï¼Œå®ƒå¯ä»¥åœ¨ç½‘ç»œä¸­å¯¹æ•°æ®ï¼ˆfeature mapï¼‰è¿›è¡Œç©ºé—´å˜æ¢æ“ä½œã€‚è¿™ä¸ªæ¨¡å—æ˜¯å¯å¾®çš„ï¼ˆåŽå‘ä¼ æ’­å¿…é¡»ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥æ’å…¥åˆ°çŽ°æœ‰çš„CNNæ¨¡åž‹ä¸­ï¼Œä½¿å¾— feature mapå…·æœ‰ç©ºé—´å˜æ¢èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯è¯´ æ„Ÿå—é‡Žæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œfeature mapçš„ç©ºé—´å˜æ¢æ–¹å‘ ä¸Ž åŽŸå›¾ç‰‡ä¸Šçš„ç›®æ ‡çš„ç©ºé—´å˜æ¢æ–¹å‘ï¼ˆä¸€èˆ¬è®¤ä¸ºæ˜¯æ•°æ®å™ªå£°ï¼‰æ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥ä½¿å¾—æ•´ä¸ªç½‘ç»œçš„ç©ºé—´ä¸å˜æ€§å¢žå¼ºã€‚è¯•éªŒç»“æžœå±•ç¤ºè¿™ç§æ–¹æ³•ç¡®å®žå¢žå¼ºäº†ç©ºé—´ä¸å˜æ€§ï¼Œåœ¨ä¸€äº›æ ‡å¿—æ€§çš„æ•°æ®é›†ï¼ˆbenchmarkï¼‰ä¸Šå–å¾—äº†å…ˆè¿›çš„æ°´å¹³ã€‚ å›¾1 åœ¨è¾“å…¥å±‚ä½¿ç”¨ Spatial Transformer ç©ºè¯´æ— å‡­ï¼Œå…ˆçœ‹ä¸€ä¸ªç®€å•æ•ˆæžœï¼Œå¦‚å›¾1ï¼š (a) ï¼šè¾“å…¥å›¾ç‰‡ (b) ï¼šæ¡†èµ·æ¥çš„æ˜¯ç”¨äºŽåŽé¢ç½‘ç»œè¿›è¡Œè¿›ä¸€æ­¥è¯†åˆ«åˆ†ç±»çš„éƒ¨åˆ†ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯å°±æ˜¯Spatial Transformerçš„ç»“æžœ (c) ï¼šè¾“å‡ºå±‚çš„å¯è§†åŒ– (d) ï¼šé¢„æµ‹ç»“æžœ æ•´ä½“ä¸Šæ¥çœ‹æ˜¯ä¸€ç§è§†è§‰ attention æœºåˆ¶ï¼Œä¹Ÿæ›´åƒä¸€ç§å¼±çš„ç›®æ ‡æ£€æµ‹æœºåˆ¶ï¼Œå°±æ˜¯æŠŠå›¾ç‰‡ä¸­ç‰©ä½“æ‰€åœ¨åŒºåŸŸé€åˆ°ç½‘ç»œåŽé¢çš„å±‚ä¸­ï¼Œä½¿å¾—åŽé¢çš„åˆ†ç±»ä»»åŠ¡æ›´ç®€å•ã€‚ CNNæ˜¯å°½åŠ›è®©ç½‘ç»œé€‚åº”ç‰©ä½“çš„å½¢å˜ï¼Œè€ŒSTNæ˜¯ç›´æŽ¥é€šè¿‡ Spatial Transformer å°†å½¢å˜çš„ç‰©ä½“ç»™å˜å›žåˆ°æ­£å¸¸çš„å§¿æ€ï¼ˆæ¯”å¦‚æŠŠå­—æ‘†æ­£ï¼‰ï¼Œç„¶åŽå†ç»™ç½‘ç»œè¯†åˆ«ã€‚ æ–‡ç« ç»™çš„ Spatial Transformer çš„ä½¿ç”¨åœºæ™¯ï¼š image classification ï¼šå¦‚æžœæ•°æ®é›†ä¸­çš„å›¾åƒä¸Šçš„ç›®æ ‡å½¢å˜å¾ˆå¤§ï¼Œå™ªå£°å¾ˆå¤§ï¼Œä½äºŽå›¾ç‰‡ä¸­å¿ƒè¾ƒè¿œï¼Œé‚£ä¹ˆ Spatial Transformer å¯ä»¥å°†ç‰©ä½“éƒ¨åˆ† â€œå‰ªè£â€ å‡ºæ¥ï¼Œå¹¶åšä¸€å®šçš„æ—‹è½¬ï¼Œç¼©æ”¾å˜æ¢ï¼Œä½¿ä¹‹æˆä¸ºå¤§å°ç»Ÿä¸€çš„å›¾ç‰‡ï¼Œä¾¿äºŽåŽç»­ç½‘ç»œè¯†åˆ«ï¼Œå¹¶ä¸”èŽ·å¾—æ¯”CNNæ›´å¥½çš„ç»“æžœã€‚ co-localisation ï¼šç»™å®šè¾“å…¥å›¾ç‰‡ï¼Œä¸ç¡®å®šæ˜¯å¦æœ‰ç‰©ä½“ï¼Œå¦‚æžœæœ‰ï¼Œå¯ä»¥ä½¿ç”¨Spatial Transformeråšå‡ºå®šä½ã€‚ spatial attention ï¼šå¯¹äºŽä½¿ç”¨attentionæœºåˆ¶çš„è§†è§‰ä»»åŠ¡ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„ä½¿ç”¨ Spatial Transformer å®Œæˆã€‚ çœ‹å®Œè¿™ç¯‡è®ºæ–‡ä¹‹åŽï¼Œä¸ªäººè§‰å¾—ç›®æ ‡æ£€æµ‹ï¼ˆobject detectionï¼‰ä¹Ÿæ˜¯å¯ä»¥ç”¨çš„ï¼Œæžœä¸å…¶ç„¶ï¼ŒçœŸæœ‰äººå°†ç±»ä¼¼çš„æ–¹æ³•ç”¨åœ¨äº† ç›®æ ‡æ£€æµ‹ä¸Šï¼Œè¿™ç¯‡è®ºæ–‡å°±æ˜¯ Deformable Convolutional Networks ï¼ŒåŽé¢å†è®²ã€‚ 2 Spatial Transformerç»“æž„æ–‡ç« æœ€é‡è¦çš„ä¸€ä¸ªç»“æž„å°±æ˜¯ Spatial Transformers ï¼Œè¿™ä¸ªç»“æž„çš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š å›¾2 Spatial Transformers ç»“æž„å›¾ è¿™æ ·ä¸€ä¸ªç»“æž„ç›¸å½“äºŽ CNNä¸­çš„ä¸€ä¸ª å·ç§¯å±‚æˆ–è€…æ± åŒ–å±‚ï¼š è¿™ä¸ªç»“æž„åˆè¢«åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šlocalisation network ï¼Œgrid generatorå’Œsampler ä¸€äº›ç¬¦å·æ„ä¹‰ï¼š $U \in R^{H \times W \times C}$ ä¸ºè¾“å…¥ feature map $V \in R^{Hâ€™ \times Wâ€™ \times Câ€™}$ ä¸ºè¾“å‡º feature map $\theta=f_{loc}(U)$ æ˜¯ä¸€ä¸ªå›žå½’å­ç½‘ç»œ $T_{\theta}$ è¡¨ç¤ºä»¥å‚æ•° $\theta$ ä¸ºå˜æ¢çŸ©é˜µçš„æŸç§å˜æ¢ï¼Œå¯ä»¥æ˜¯2ç»´ä»¿å°„å˜æ¢(2D affine transformation )ï¼Œå¹³é¢æŠ•å½±å˜æ¢(plane projective transformation )ï¼Œè–„æ¿æ ·æ¡å˜æ¢(thin plate spline ) $ G_i = (x^t_i, y_i^t)$ ä»£è¡¨Vä¸­çš„åƒç´ ç‚¹ $G = \{G_i\} $ æ˜¯Vä¸­åƒç´ ç‚¹çš„æ•´ä½“ã€‚ $T_{\theta}(G)$ ä»£è¡¨ä¸‹é¢å›¾3ä¸­ï¼Œè¾“å…¥Uä¸Šçš„ç»¿è‰²åŒºåŸŸçš„åæ ‡ã€‚ è¿™ä¸ªå›¾ä¸Žå›¾1åšä¸ªå¯¹åº”ï¼ŒU ç›¸å½“äºŽ å›¾1 ä¸­çš„ (a) , Vç›¸å½“äºŽ å›¾1 ä¸­çš„(c)ï¼Œä¸­é—´é‚£ä¸€éƒ¨åˆ†ç›¸å½“äºŽå›¾1 ä¸­çš„(b), ä½œç”¨å°±æ˜¯ä¸ºäº†æ‰¾åˆ°é‚£ä¸ªç‰©ä½“æ‰€åœ¨çš„æ¡†ï¼Œæˆ–è€…å«åšå¼±ç›®æ ‡æ£€æµ‹ã€‚ 2.1 Localisation networkè¿™ä¸€éƒ¨åˆ†å¾ˆç®€å•ï¼Œå¯ä»¥ä½¿ç”¨å…¨è¿žæŽ¥å±‚æˆ–è€…å…¨å·ç§¯å±‚ï¼Œåªè¦ä¿è¯æœ€åŽä¸€å±‚æ˜¯ä¸€ä¸ªå›žå½’å±‚å³å¯ï¼Œæœ€åŽè¾“å‡ºçš„ä¸€ä¸ªå‘é‡æ˜¯ $\theta$ ã€‚ $\theta$ çš„ç»´åº¦ä¸‹é¢å†è¯´ã€‚ 2.2 Grid generatorå‰é¢æåˆ°ä¸­é—´é‚£ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†æ‰¾åˆ°é‚£ä¸ªç‰©ä½“æ‰€åœ¨çš„æ¡†ï¼Œå¹¶æŠŠå®ƒç»™ å˜æ¢å›ž â€œç›´ç«‹çš„çŠ¶æ€â€ã€‚å¾ˆè‡ªç„¶å°±èƒ½æƒ³åˆ°ä½¿ç”¨ä»¿å°„å˜æ¢å°±å¯ä»¥å®Œæˆï¼Œå¦‚ä¸‹å›¾ï¼š å›¾3 (a)æ’ç­‰å˜æ¢ä¸Žé‡‡æ ·ï¼› (b)ä»¿å°„å˜æ¢ä¸Žé‡‡æ · æˆ‘ä»¬æœŸæœ›çš„æ˜¯è¾“å‡º V æ˜¯ å°†Uä¸­æŸä¸€éƒ¨åˆ†ï¼ˆæ¯”å¦‚ç»¿è‰²ç‚¹è¦†ç›–çš„éƒ¨åˆ†ï¼‰åšäº†æ—‹è½¬ï¼Œæ”¾ç¼©ï¼Œå¹³ç§»ä¹‹åŽçš„feature mapã€‚ çœ‹ä¸€ä¸‹Grid generatoræ˜¯å¦‚ä½•è¿›è¡Œä»¿å°„å˜æ¢çš„ã€‚ å…ˆç®€å•çš„çœ‹ä¸€ä¸‹ä»¿å°„å˜æ¢ï¼š ä»¿å°„å˜æ¢ç”¨äºŽè¡¨ç¤ºæ—‹è½¬ï¼Œç¼©æ”¾å’Œå¹³ç§»ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸¤å‰¯å›¾ä¹‹é—´çš„å…³ç³»ï¼Œ ä»¥ä¸‹ A ä¸ºæ—‹è½¬çŸ©é˜µï¼ŒB ä¸ºå¹³ç§»çŸ©é˜µï¼ŒMç§°ä¸ºä»¿å°„å˜æ¢çŸ©é˜µã€‚ å‡è®¾è¦å¯¹äºŒç»´å‘é‡ è¿›è¡Œä»¿å°„å˜æ¢ï¼Œä»¿å°„å˜æ¢å¯ä»¥å†™æˆå¦‚ä¸‹ä¸¤å¼ï¼Œä¸¤ç§å†™æ³•ç­‰ä»·ï¼š è¾“å‡ºçš„ç»“æžœæ˜¯ï¼š å¯¹äºŽä»¿å°„å˜æ¢æ¥è¯´ï¼Œä¸€èˆ¬çš„ç”¨æ³•æœ‰ä¸¤ç§ï¼š å·²çŸ¥ M å’Œ Xï¼Œæ±‚T; è¿™ä¸ªå¾ˆç®€å•ï¼Œç›´æŽ¥çŸ©é˜µç›¸ä¹˜ã€‚ å·²çŸ¥ X å’Œ T , æ±‚M; å¯ä»¥é€‰å–ä¸‰å¯¹ç‚¹ï¼Œå¸¦å…¥ä¸Šé¢çš„å¼å­ä¸­ï¼Œåˆ—æ–¹ç¨‹ï¼Œ6ä¸ªæ–¹ç¨‹6ä¸ªæœªçŸ¥æ•°ï¼› è¿™é‡Œä½¿ç”¨çš„æ˜¯ç¬¬ä¸€ç§ç”¨æ³•ã€‚å…¶ä¸­ å›¾3 (b) U ä¸­çš„è¢«ç»¿ç‚¹è¦†ç›–çš„é‚£ä¸€éƒ¨åˆ†ç›¸å½“äºŽè¿™é‡Œçš„ Tï¼ŒVç›¸å½“äºŽè¿™é‡Œçš„ Xï¼Œé‚£ä¸æ˜¯åº”è¯¥ Mä¹Ÿæ˜¯å·²çŸ¥çš„å—ï¼ŸMå“ªåŽ»äº†ï¼Ÿè¿˜è®°å¾—ä¸Šé¢æåˆ°çš„ $\theta$ ï¼Ÿ $\theta$ å°±ç›¸å½“äºŽè¿™é‡Œçš„Mã€‚å› ä¸º Mçš„å¤§å°æ˜¯ 2Ã—3 ï¼Œæ‰€ä»¥ $\theta$ çš„ç»´åº¦ä¸º6ã€‚å¦‚æžœä½¿ç”¨äº†åˆ«çš„å˜æ¢æ–¹æ³•ï¼Œé‚£å°±æ ¹æ®å˜æ¢çŸ©é˜µçš„å¤§å°ç›¸åº”è°ƒæ•´ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™é‡Œçš„å˜æ¢çŸ©é˜µæ˜¯å­¦ä¹ å‡ºæ¥çš„ã€‚ å¯¹åº”äºŽå›¾3çš„å˜æ¢å…¬å¼å¦‚ä¸‹ï¼š $(x^t_i, y_i^t)$ are the target coordinates of the regular grid in the output feature map ï¼Œä»£è¡¨çš„æ˜¯å›¾3è¾“å‡ºVä¸­çš„åƒç´ ç‚¹ï¼Œå³ç›®æ ‡åƒç´ åæ ‡ï¼› $(x^s_i, y_i^s)$ are the source coordinates in the input feature map that define the sample points ,ä»£è¡¨çš„æ˜¯å›¾3è¾“å…¥Uä¸­è¢«ç»¿è‰²ç‚¹è¦†ç›–çš„åƒç´ ç‚¹ï¼Œå³æºåƒç´ åæ ‡ï¼› $A_{\theta}$ is the affine transformation matrix ï¼Œä»£è¡¨çš„æ˜¯ä»¿å°„å˜æ¢çŸ©é˜µã€‚å…¶ä¸­çš„æˆå‘˜ $\theta_{ij}$ ç”± localisation network å›žå½’ç”Ÿæˆã€‚å›¾3æˆ–å›¾2ä¸­çš„ $T_{\theta}$ è¿™æ—¶æŒ‡çš„ä»¿å°„å˜æ¢ $A_{\theta}$ã€‚ æ³¨æ„ä»–è¿™ä¸ªä»¿å°„å˜æ¢æ˜¯ ä»ŽåŽå‘å‰å˜æ¢çš„ï¼Œå°±æ˜¯è¯´è¿™ä¸ªæ¨¡å—çš„è¾“å‡ºæ˜¯ä»¿å°„å˜æ¢çš„è¾“å…¥ï¼Œè¿™ä¸ªæ¨¡å—çš„è¾“å…¥çš„å…¶ä¸­ä¸€éƒ¨åˆ†ï¼ˆå›¾3(b) ç»¿ç‚¹è¦†ç›–éƒ¨åˆ†ï¼‰æ˜¯ä»¿å°„å˜æ¢çš„è¾“å‡ºã€‚ æŒ‰ç…§ä¸€èˆ¬çš„åšæ³•ï¼Œåº”è¯¥æ˜¯ä»Žå‰å¾€åŽå˜æ¢ï¼Œå³ä»Ž source coordinates å¾—åˆ° target coordinates ã€‚ä½†æ˜¯è¿™æ ·åšçš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•ç¡®å®šå˜æ¢çš„è¾“å…¥ï¼Ÿå¦‚æžœæ˜¯ä»Žå‰å¾€åŽåšå˜æ¢ï¼ŒU ä¸­ç»¿è‰²éƒ¨åˆ†ç›¸å½“äºŽ Xï¼Œé‚£æ€Žä¹ˆç¡®å®šè¿™ä¸€éƒ¨åˆ†æ˜¯å¤šå¤§ï¼Œä»€ä¹ˆå½¢çŠ¶ï¼Œä½ç½®åœ¨å“ªï¼Ÿ å®žé™…ä¸Šä»ŽåŽå¾€å‰å˜æ¢ä¹Ÿå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¦æ ¹æ®è¾“å‡ºVçš„åæ ‡å¾—åˆ°è¾“å…¥Uä¸­ç›®æ ‡æ‰€åœ¨çš„åŒºåŸŸçš„åæ ‡ï¼ˆç»¿è‰²çš„åŒºåŸŸï¼‰ã€‚ ä»¿å°„å˜æ¢å˜æ¢çš„æ˜¯åæ ‡ï¼Œæ—¢æ˜¯åæ ‡ï¼Œé‚£ä¹ˆå˜æ¢çš„è¾“å…¥å’Œè¾“å‡ºçš„åæ ‡çš„å‚è€ƒç³»åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯è¯´ V ä¸­åƒç´ çš„åæ ‡ å’Œ U ä¸­åƒç´ çš„åæ ‡åº”è¯¥æ˜¯åŒä¸€ä¸ªå‚è€ƒç³»ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯é’ˆå¯¹ å®½å’Œé«˜ è¿›è¡Œçš„å½’ä¸€åŒ–åæ ‡(height and width normalised coordinates)ï¼ŒæŠŠåœ¨Uå’ŒVä¸­çš„åƒç´ åæ ‡å½’ä¸€åŒ–åˆ° [-1,1] ä¹‹é—´ã€‚Uçš„ å°ºå¯¸æ˜¯ä¸Šä¸€å±‚å†³å®šçš„ï¼ŒVçš„å°ºå¯¸æ˜¯äººä¸ºå›ºå®šçš„ï¼Œè¾“å‡º $Hâ€™,Wâ€™$ å¯ä»¥åˆ†åˆ«æ¯” è¾“å…¥$H,W$ å¤§æˆ–è€…å°ï¼Œæˆ–è€…ç›¸ç­‰ã€‚ å¯ä»¥ç»™ä»¿å°„å˜æ¢çš„å˜æ¢çŸ©é˜µæ·»åŠ æ›´å¤šçš„çº¦æŸï¼š è¿™æ—¶å€™ï¼Œç»¿è‰²åŒºåŸŸå·²ç»ç¡®å®šäº†ï¼Œç›¸å½“äºŽVä¸­å¯¹åº”åæ ‡$(x^t_i, y_i^t)$ çš„åƒç´ éƒ½å°†ä»ŽUä¸­è¿™å—ç»¿è‰²åŒºåŸŸä¸­èŽ·å–ã€‚ $Hâ€™,Wâ€™$ ä¸Ž$H,W$ ä¸ä¸€å®šç›¸ç­‰ï¼›å³ä¾¿æ˜¯ç›¸ç­‰ï¼Œç”±äºŽå˜æ¢åŽçš„æºåæ ‡ $(x^s_i, y_i^s)$ å¾ˆæœ‰å¯èƒ½ä¸æ˜¯æ•´æ•° ï¼Œå¯¹åº”Uä¸­ä¸æ˜¯æ•´æ•°åƒç´ ç‚¹ï¼Œæ‰€ä»¥æ²¡æœ‰åƒç´ å€¼ï¼Œæ²¡åŠžæ³•ç›´æŽ¥æ‹·è´ã€‚æ‰€ä»¥Vä¸­ $(x^t_i, y_i^t)$ åæ ‡çš„åƒç´ å€¼å¦‚ä½•ç¡®å®šå°±æˆäº†é—®é¢˜ã€‚è¿™æ—¶å°±æ¶‰åŠåˆ°é‡‡æ ·å’Œæ’å€¼ã€‚ 2.3 Samplerå®žé™…ä¸Š CNNä¸­çš„å·ç§¯æ ¸ æˆ–è€… æ± åŒ–æ ¸èµ·åˆ°çš„å°±æ˜¯é‡‡æ ·çš„ä½œç”¨ã€‚ $(x^s_i, y_i^s)$ æ˜¯Uä¸­ç»¿è‰²åŒºåŸŸçš„åæ ‡ï¼Œæ¥çœ‹çœ‹æ›´åŠ å…·æœ‰ä¸€èˆ¬æ€§çš„é‡‡æ ·é—®é¢˜å¦‚ä½•æè¿°ï¼š $U_{nm}^c$ æ˜¯è¾“å…¥feature mapä¸Šç¬¬ $c$ ä¸ªé€šé“ä¸Šåæ ‡ä¸º $(n, m)$ çš„åƒç´ å€¼ï¼› $V_i^c$ æ˜¯è¾“å‡º feature mapä¸Šç¬¬ $c$ ä¸ªé€šé“ä¸Šåæ ‡ä¸º $(x^t_i, y_i^t)$ çš„åƒç´ å€¼ï¼› $k()$ è¡¨ç¤ºæ’å€¼æ ¸å‡½æ•°ï¼› $Î¦x , Î¦y$ ä»£è¡¨ x å’Œ y æ–¹å‘çš„æ’å€¼æ ¸å‡½æ•°çš„å‚æ•°ï¼› $H,W$ è¾“å…¥Uçš„å°ºå¯¸; $Hâ€™,Wâ€™$ è¾“å‡º V çš„å°ºå¯¸; æ³¨æ„ä¸Šå¼åªæ˜¯é’ˆå¯¹ä¸€ä¸ªé€šé“çš„åƒç´ è¿›è¡Œé‡‡æ ·ï¼Œå®žé™…ä¸Šæ¯ä¸ªé€šé“çš„é‡‡æ ·éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ ·å¯ä»¥ä¿ç•™ ç©ºé—´ä¸€è‡´æ€§ã€‚ å·ç§¯çš„æ“ä½œä¹Ÿæ˜¯ç¬¦åˆä¸Šå¼çš„ï¼Œæ¯”å¦‚ä¸€ç»´å·ç§¯ï¼š $f(\tau)$ ç›¸å½“äºŽ $U_{nm}^c$ ï¼› $g(n-\tau)$ ç›¸å½“äºŽ $k(x_i^s-m; \Phi_x)$ æˆ– $(y_i^s-m; \Phi_y)$ å› ä¸ºè¿™é‡Œçš„å·ç§¯æ˜¯ ä¸€ç»´çš„ã€‚ ç†è®ºæ¥è¯´ ä»»æ„ å¯¹ $x^s_i, y_i^s$ å¯å¯¼æˆ–å±€éƒ¨å¯å¯¼çš„é‡‡æ ·æ ¸å‡½æ•°éƒ½æ˜¯å¯ä»¥ä½¿ç”¨çš„. æ¯”å¦‚æœ€è¿‘é‚»æ’å€¼æ ¸å‡½æ•°: å…¶ä¸­ $\lfloor x + 0.5\rfloor$ å‘ä¸‹å–æ•´ è¿™ä¸ªæ’å€¼æ ¸å‡½æ•°åšçš„å°±æ˜¯æŠŠUä¸­ ç¦» å½“å‰æºåæ ‡ $(x^s_i, y_i^s)$ ï¼ˆå°æ•°åæ ‡ï¼‰ æœ€è¿‘çš„ æ•´æ•°åæ ‡ $(n,m)$ å¤„çš„åƒç´ å€¼æ‹·è´åˆ°Vä¸­çš„ $(x^t_i, y_i^t)$ åæ ‡å¤„ï¼› ä¸è¿‡è¿™ç¯‡æ–‡ç« ä½¿ç”¨çš„æ˜¯åŒçº¿æ€§æ’å€¼ï¼ŒåŒçº¿æ€§æ’å€¼ å‚è€ƒ ç»´åŸºç™¾ç§‘ å’Œ å›¾åƒå¤„ç†ä¹‹æ’å€¼è¿ç®—ï¼Œè¿™é‡Œæ”¾ä¸€å¼ ç¤ºæ„å›¾å§ï¼š å›¾4 åŒçº¿æ€§æ’å€¼ï¼ˆæ¥æºäºŽ[å‚è€ƒèµ„æ–™ 6]ï¼‰ è¿™é‡Œçš„å…¬å¼å¦‚ä¸‹ï¼š è¿™ä¸ªæ’å€¼æ ¸å‡½æ•°åšçš„æ˜¯åˆ©ç”¨ Uä¸­ ç¦» å½“å‰æºåæ ‡ $(x^s_i, y_i^s)$ ï¼ˆå°æ•°åæ ‡ï¼‰ æœ€è¿‘çš„ 4ä¸ªæ•´æ•°åæ ‡ $(n,m)$ å¤„çš„åƒç´ å€¼åšåŒçº¿æ€§æ’å€¼ç„¶åŽæ‹·è´åˆ°Vä¸­çš„ $(x^t_i, y_i^t)$ åæ ‡å¤„ï¼› æˆ‘åœ¨æƒ³ä»–é‚£ä¸ªé€šè¿‡ä»¿å°„å˜æ¢ç¡®å®šç»¿è‰²åŒºåŸŸä¹‹åŽï¼Œç»¿è‰²åŒºåŸŸç›¸å½“äºŽROIï¼Œé‚£é‡‡æ ·èƒ½ä¸èƒ½ä½¿ç”¨ROI æ± åŒ–çš„æ–¹å¼? 2.4 å‰å‘ä¼ æ’­ç»“åˆå‰é¢çš„åˆ†æžï¼Œæ€»ç»“ä¸€ä¸‹å‰å‘ä¼ æ’­çš„è¿‡ç¨‹ï¼Œå¦‚ä¸‹å›¾ï¼š å®žé™…ä¸Šé¦–å…ˆè¿›è¡Œçš„æ˜¯ localisation network çš„å›žå½’ï¼Œäº§ç”Ÿ å˜æ¢çŸ©é˜µçš„å‚æ•° $\theta$ ï¼Œè¿›è€Œresizeä¸º å˜æ¢çŸ©é˜µ $T_{\theta}$ ; æ ¹æ® Vä¸­çš„ ç›®æ ‡åæ ‡ $(x^t_i, y_i^t)$ åšé€†å‘ä»¿å°„å˜æ¢å˜æ¢åˆ°æºåæ ‡ $(x^s_i, y_i^s)$ ï¼š $Source= T_{\theta} \cdot Target$ ï¼Œ æºåæ ‡ $(x^s_i, y_i^s)$ ä½äºŽUä¸Šï¼›å¯¹åº”å›¾ä¸­ 1,2æ­¥ï¼› åœ¨Uä¸­æ‰¾åˆ° æºåæ ‡ $(x^s_i, y_i^s)$ ï¼ˆå°æ•°åæ ‡ï¼‰é™„è¿‘çš„å››ä¸ªæ•´æ•°åæ ‡ï¼ŒåšåŒçº¿æ€§æ’å€¼ï¼Œæ’å€¼åŽçš„å€¼ä½œä¸º ç›®æ ‡åæ ‡ $(x^t_i, y_i^t)$ å¤„çš„åƒç´ å€¼ï¼›å¯¹åº”å›¾ä¸­ 3,4æ­¥ï¼› å›¾5 å‰å‘ä¼ æ’­æµç¨‹ï¼ˆæ¥æºäºŽ[å‚è€ƒèµ„æ–™ 6]ï¼‰ 2.5 æ¢¯åº¦æµåŠ¨ä¸Žåå‘ä¼ æ’­è¿™ä¸ªå‡½æ•°è™½ä¸æ˜¯ å®Œå…¨å¯å¯¼ ä½†ä¹Ÿæ˜¯å±€éƒ¨å¯å¯¼çš„ï¼Œæ±‚å¯¼å¦‚ä¸‹ï¼Œå¯¹ $y_i^s$ çš„å¯¼æ•°ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼š æ ¹æ®å…¬å¼(1)å¾ˆå®¹æ˜“æ±‚å¾—ï¼š $\dfrac{\partial x_i^s}{\partial \theta} $ å’Œ $\dfrac{\partial y_i^s}{\partial \theta} $ ã€‚ æ‰€ä»¥åå‘ä¼ æ’­è¿‡ç¨‹ï¼Œè¯¯å·®å¯ä»¥ä¼ æ’­åˆ°è¾“å…¥ feature mapï¼ˆå…¬å¼6ï¼‰ï¼Œå¯ä»¥ä¼ æ’­åˆ° é‡‡æ ·æ ¼ç‚¹åæ ‡(sampling grid coordinates )ï¼ˆå…¬å¼7ï¼‰ï¼Œè¿˜å¯ä»¥ä¼ æ’­åˆ°å˜æ¢å‚æ•° $\theta$ . ä¸‹å›¾æ˜¯æ¢¯åº¦æµåŠ¨çš„ç¤ºæ„å›¾ï¼š å›¾6 åå‘ä¼ æ’­æµç¨‹ï¼ˆæ¥æºäºŽ[å‚è€ƒèµ„æ–™ 6]ï¼‰ å…¶ä¸­localisation networkä¸­çš„ $\dfrac{\partial x_i^s}{\partial \theta} $ å’Œ $\dfrac{\partial y_i^s}{\partial \theta} $ ä¹Ÿå°±æ˜¯è¿™ä¸€è‚¡è¯¯å·®æµ $\left\{\begin{matrix}\frac{\partial V_{i}^{c}}{\partial x_{i}^{S}}\rightarrow \frac{\partial x_{i}^{S}}{\partial \theta}\ \frac{\partial V_{i}^{c}}{\partial y_{i}^{S}}\rightarrow \frac{\partial y_{i}^{S}}{\partial \theta}\end{matrix}\right.$ ï¼Œåœ¨å®šä½ç½‘ç»œå¤„å°±æ–­äº†ã€‚ å®šä½ç½‘ç»œæ˜¯ä¸€ä¸ªå›žå½’æ¨¡åž‹ï¼Œç›¸å½“äºŽä¸€ä¸ªå­ç½‘ç»œï¼Œä¸€æ—¦æ›´æ–°å®Œå‚æ•°ï¼Œæµå°±æ–­äº†ï¼Œç‹¬ç«‹äºŽä¸»ç½‘ç»œã€‚ 3 è¯•éªŒ3.1 Distorted MNISTè¿™ä¸ªè¯•éªŒçš„æ•°æ®é›† æ˜¯ MNISTï¼Œä¸è¿‡ä¸ŽåŽŸç‰ˆçš„MNIST ä¸åŒï¼Œè¿™ä¸ªæ•°æ®é›†å¯¹å›¾ç‰‡ä¸Šçš„æ•°å­—åšäº†å„ç§å½¢å˜æ“ä½œï¼Œæ¯”å¦‚å¹³ç§»ï¼Œæ‰­æ›²ï¼Œæ”¾ç¼©ï¼Œæ—‹è½¬ç­‰ã€‚ å¦‚ä¸‹ï¼Œä¸åŒå½¢å˜æ“ä½œçš„ç®€å†™è¡¨ç¤ºï¼š æ—‹è½¬ï¼šrotation (R), æ—‹è½¬+ç¼©æ”¾+å¹³ç§»ï¼šrotation, scale and translation (RTS), æŠ•å½±å˜æ¢ï¼šprojective transformation (P), å¼¹æ€§å˜å½¢ï¼šelastic warping (E) â€“ note that elastic warping is destructive and can not be inverted in some cases. æ–‡ç« å°† Spatial Transformer æ¨¡å—åµŒå…¥åˆ° ä¸¤ç§ä¸»æµçš„åˆ†ç±»ç½‘ç»œï¼ŒFCNå’ŒCNNä¸­ï¼ˆST-FCN å’Œ ST-CNN ï¼‰ã€‚Spatial Transformer æ¨¡å—åµŒå…¥ä½ç½®åœ¨å›¾ç‰‡è¾“å…¥å±‚ä¸ŽåŽç»­åˆ†ç±»å±‚ä¹‹é—´ã€‚ è¯•éªŒä¹Ÿæµ‹è¯•äº†ä¸åŒçš„å˜æ¢å‡½æ•°å¯¹ç»“æžœçš„å½±å“ï¼š ä»¿å°„å˜æ¢ï¼šaffine transformation (Aff), æŠ•å½±å˜æ¢ï¼šprojective transformation (Proj), è–„æ¿æ ·æ¡å˜æ¢ï¼š16-point thin plate spline transformation (TPS) å…¶ä¸­CNNçš„æ¨¡åž‹ä¸Ž LeNetæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«ä¸¤ä¸ªæ± åŒ–å±‚ã€‚ä¸ºäº†å…¬å¹³ï¼Œæ‰€æœ‰çš„ç½‘ç»œå˜ç§éƒ½åªåŒ…å« 3 ä¸ªå¯å­¦ä¹ å‚æ•°çš„å±‚ï¼Œæ€»ä½“ç½‘ç»œå‚æ•°åŸºæœ¬ä¸€è‡´ï¼Œè®­ç»ƒç­–ç•¥ä¹Ÿç›¸åŒã€‚ è¯•éªŒç»“æžœ å·¦ä¾§ï¼šä¸åŒçš„å½¢å˜ç­–ç•¥ä»¥åŠä¸åŒçš„ Spatial Transformerç½‘ç»œå˜ç§ä¸Ž baselineçš„å¯¹æ¯”ï¼› å³ä¾§ï¼šä¸€äº›CNNåˆ†é”™ï¼Œä½†æ˜¯ST-CNNåˆ†å¯¹çš„æ ·æœ¬ (a)ï¼šè¾“å…¥ (b)ï¼šSpatial Transformerå±‚ çš„ æºåæ ‡ï¼ˆ$T_{\theta}(G)$ ï¼‰å¯è§†åŒ–ç»“æžœ (c)ï¼šSpatial Transformerå±‚è¾“å‡º å¾ˆæ˜Žæ˜¾ï¼šST-CNNä¼˜äºŽCNN, ST-FCNä¼˜äºŽFCNï¼Œè¯´æ˜ŽSpatial Transformerç¡®å®žå¢žåŠ äº† ç©ºé—´ä¸å˜æ€§ FCNä¸­ç”±äºŽæ²¡æœ‰ æ± åŒ–å±‚ï¼Œæ‰€ä»¥FCNçš„ç©ºé—´ä¸å˜æ€§ä¸å¦‚CNNï¼Œæ‰€ä»¥FCNæ•ˆæžœä¸å¦‚CNN ST-FCNæ•ˆæžœå¯ä»¥è¾¾åˆ°CNNç¨‹åº¦ï¼Œè¯´æ˜ŽSpatial Transformerç¡®å®žå¢žåŠ äº† ç©ºé—´ä¸å˜æ€§ ST-CNNæ•ˆæžœä¼˜äºŽST-FCNï¼Œè¯´æ˜Ž æ± åŒ–å±‚ ç¡®å®žå¯¹ å¢žåŠ  ç©ºé—´ä¸å˜æ€§å¾ˆé‡è¦ åœ¨ Spatial Transformer ä¸­ä½¿ç”¨ plate spline transformation (TPS) å˜æ¢æ•ˆæžœæ˜¯æœ€å¥½çš„ Spatial Transformer å¯ä»¥å°†æ­ªçš„æ•°å­—æ‰­æ­£ Spatial Transformer åœ¨è¾“å…¥å›¾ç‰‡ä¸Šç¡®å®šçš„attentionåŒºåŸŸå¾ˆæ˜Žæ˜¾åˆ©äºŽåŽç»­åˆ†ç±»å±‚åˆ†ç±»ï¼Œå¯ä»¥æ›´åŠ æœ‰æ•ˆåœ°å‡å°‘åˆ†ç±»æŸå¤± ä½œè€…ä¹Ÿåšäº†å™ªå£°çŽ¯å¢ƒä¸‹çš„è¯•éªŒï¼šå°†æ•°å­— æ”¾ç½®åœ¨ 60Ã—60çš„å›¾ç‰‡ä¸Šï¼Œå¹¶æ·»åŠ æ–‘ç‚¹å™ªå£°ï¼ˆå›¾1ç¬¬ä¸‰è¡Œï¼‰é”™è¯¯çŽ‡åˆ†åˆ«ä¸ºï¼š FCN ï¼Œ13.2% errorï¼› CNN ï¼Œ 3.5% errorï¼› ST-FCN ï¼Œ2.0% errorï¼› ST-CNN ï¼Œ1.7% error. 3.2 Street View House NumbersStreet View House Numbersæ˜¯ä¸€ä¸ªçœŸå®žçš„ è¡—æ™¯é—¨ç‰Œå· æ•°æ®é›†ï¼Œå…±200kå¼ å›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡åŒ…å«1-5ä¸ªæ•°å­— ï¼Œæ•°å­—éƒ½æœ‰å½¢å˜ã€‚ baseline character sequence CNN model ï¼š11å±‚ï¼Œ5ä¸ªsoftmaxå±‚è¾“å‡ºå¯¹åº”ä½ç½®çš„é¢„æµ‹åºåˆ— STCNN Single ï¼šåœ¨è¾“å…¥å±‚æ·»åŠ ä¸€ä¸ªSpatial Transformer ST-CNN Multi ï¼šå‰å››å±‚ï¼Œæ¯ä¸€å±‚éƒ½æ·»åŠ ä¸€ä¸ªSpatial Transformer è§ä¸‹é¢ tabel 2 å³ä¾§ localisation networks å­ç½‘ç»œï¼šä¸¤å±‚32ç»´çš„å…¨è¿žæŽ¥å±‚ ä½¿ç”¨ä»¿å°„å˜æ¢å’ŒåŒçº¿æ€§æ’å€¼ ç»“æžœï¼š 3.3 Fine-Grained Classificationæ•°æ®é›†ï¼šCUB-200-2011 birds datasetï¼Œ 6k training images and 5.8k test images, covering 200 species of birds. baseline CNN model ï¼š an Inception architecture with batch normalisation pre-trained on ImageNet and fine-tuned on CUB â€“ which by itself achieves the state-of-the-art accuracy of 82.3% (previous best result is 81.0% [30]). ST-CNN, which contains 2 or 4 parallel spatial transformers, parameterised for attention and acting on the input image. è¿™é‡Œä½¿ç”¨äº†å¹¶è¡Œçš„Spatial Transformer ï¼Œ æ•ˆæžœæ˜¯å¯ä»¥å°†å›¾ç‰‡çš„ä¸åŒ éƒ¨åˆ†ï¼ˆpartï¼‰è¾“å…¥åˆ°ä¸åŒçš„ Spatial Transformer å±‚ï¼Œä¼šäº§ç”Ÿä¸åŒçš„ part representations ç„¶åŽç»è¿‡ inception ï¼Œæœ€åŽå†åˆå¹¶èµ·æ¥ï¼Œç»è¿‡ä¸€ä¸ªå•ç‹¬çš„softmaxå±‚åšåˆ†ç±»ã€‚ ç»“æžœï¼š ST-CNNæ•ˆæžœæœ€å¥½ å³ä¾§ä¸Šè¾¹ä½¿ç”¨äº† 2 è·¯ Spatial Transformerå¹¶è¡Œï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸­ä¸€ä¸ª spatial transformer(çº¢è‰²) æ£€æµ‹çš„æ˜¯é¸Ÿçš„å¤´éƒ¨, è€Œå¦å¤–ä¸€ä¸ª (ç»¿è‰²) æ£€æµ‹çš„é¸Ÿçš„èº«ä½“. å³ä¾§ä¸‹è¾¹ä½¿ç”¨äº† 4 è·¯ Spatial Transformerå¹¶è¡Œï¼Œæœ‰ç›¸ä¼¼çš„æ•ˆæžœ. æ­¤å¤„çš„Spatial Transformeræœ‰ç‚¹åƒç›®æ ‡æ£€æµ‹çš„å‘³é“ 3.4 MNIST Additionè¿™ä¸ªè¯•éªŒæ˜¯å°†ä»»æ„ä¸¤å¼ MNISTä¸­çš„æ•°å­—ç‹¬ç«‹çš„è¿›è¡Œä¸€ç³»åˆ—å˜å½¢ï¼Œç„¶åŽå åŠ åˆ°ä¸€å—ï¼Œç»™ç½‘ç»œè¯†åˆ«ï¼Œæ ‡ç­¾æ˜¯äºŒè€…ä¹‹å’Œã€‚ åŒæ ·çš„æµ‹è¯• FCN, CNN, ST-CNN,2Ã—ST-CNNã€‚ 2Ã—ST-CNNåœ¨è¾“å…¥å±‚ä½¿ç”¨äº†ä¸¤ä¸ªå¹¶è¡Œçš„Spatial Transformerï¼Œç»“æž„è§ä¸‹é¢table 4å³ä¾§ã€‚ ç”±äºŽæ•°æ®æ¯”è¾ƒå¤æ‚ï¼ŒFCNçš„æ•ˆæžœå¾ˆå·®ï¼Œæ·»åŠ äº† Spatial Transformerä¹‹åŽï¼Œé”™è¯¯çŽ‡æ˜¾è‘—ä¸‹é™ CNNæœ‰æ± åŒ–å±‚å­˜åœ¨æ‰€ä»¥æ•ˆæžœæ¯”FCNå¥½ 2Ã—ST-CNNæ•ˆæžœæœ€å¥½ ä»Žå³è¾¹å¯è§†åŒ–çš„å›¾ä¸­å¯ä»¥çœ‹åˆ°è™½ç„¶æ¯ä¸ªè¾“å…¥channeléƒ½è¾“å…¥åˆ°äº†ä¸¤ä¸ªSpatial Transformerä¸­ï¼Œä½†æ˜¯æ¯ä¸ªSpatial Transformeréƒ½æ˜¯å¯¹å…¶ä¸­ä¸€ä¸ªchannelä½œç”¨å¼ºï¼Œè€Œä¸”è¿™ä¸¤ä¸ªSpatial Transformeræ˜¯äº’è¡¥çš„ï¼Œæ‰€ä»¥æœ€åŽè¿žæŽ¥èµ·æ¥ä¹‹åŽ 4ä¸ªé€šé“çš„feature mapä¸­æœ‰ä¸¤ä¸ªæ˜¯å®Œæ•´çš„æ•°å­—ï¼Œæ‰€ä»¥è¯†åˆ«è¾ƒä¸ºæœ‰æ•ˆã€‚ 3.5 Co-localisationè¿™ä¸ªè¯•éªŒå°† Spatial Transformerç”¨åœ¨äº†åŠç›‘ç£çš„ä»»åŠ¡Co-localisation ã€‚ Co-localisation ï¼šç»™ä¸€äº›å›¾ç‰‡ï¼Œå‡è®¾è¿™äº›å›¾ç‰‡åŒ…å«ä¸€äº›ç›®æ ‡ï¼ˆä¹Ÿå¯èƒ½ä¸åŒ…å«ï¼‰ï¼Œåœ¨ä¸ä½¿ç”¨ç›®æ ‡ç±»åˆ«æ ‡ç­¾å’Œç›®æ ‡ä½ç½®æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œå®šä½å‡ºå¸¸è§çš„ç›®æ ‡ã€‚ æ•°æ®é›†è¿˜æ˜¯ MNIST ï¼Œå°† 28Ã—28å¤§å°çš„ æ•°å­—å›¾åƒ éšæœºçš„æ”¾åœ¨ 84Ã—84 å¤§å°çš„å«æœ‰å™ªå£°çš„èƒŒæ™¯ä¸Šï¼Œå¯¹æ¯ä¸ªæ•°å­—äº§ç”Ÿ100ä¸ªä¸åŒçš„å˜å½¢ã€‚æ•°æ®æœ‰å®šä½æ ‡ç­¾ï¼Œä½†æ˜¯åœ¨è®­ç»ƒæ—¶ä¸ç”¨ï¼Œæµ‹è¯•æ—¶ç”¨ã€‚ æ¨¡åž‹è¿˜æ˜¯ä½¿ç”¨ LeNet CNNæ¨¡åž‹ï¼Œåœ¨è¾“å…¥å±‚åµŒå…¥Spatial Transformerã€‚ æ–‡ç« ä½¿ç”¨äº†åŠç›‘ç£çš„æ–¹å¼ï¼Œç›‘ç£çš„å­¦ä¹ è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š å¯¹äºŽä¸€ä¸ª åŒ…å« N å¼ å›¾ç‰‡çš„ æ•°æ®é›† $I = \{I_n\}$ ï¼Œæ¯”å¦‚table 5 å³ä¾§çš„å›¾ã€‚ æœ€ä¸‹é¢ä¸€è¡Œä»£è¡¨åœ¨åŒç±»åˆ«çš„æ ·æœ¬ä¸­æŒ‘é€‰ä¸€å¼  $I_n$ åšä¸€ä¸ªéšæœºè£å‰ªï¼Œè£å‰ªå‡ºçš„è¿™ä¸€å— $I_n^{rand}$ ,è®¤ä¸ºæ˜¯ç›®æ ‡ä½ç½® ä¸­é—´è¿™ä¸€è¡Œä»£è¡¨å°†åŒæ ·çš„æ ·æœ¬ $I_n$è¾“å…¥ Spatial Transformerï¼Œè¾“å‡º $I_n^{T}$ ä¸Šé¢è¿™è¡Œä»£è¡¨å¦é€‰ä¸€ä¸ªæ ·æœ¬ $I_m$ è¾“å…¥Spatial Transformerï¼Œè¾“å‡º $I_m^{T}$ ä»¥ä¸Šä¸‰ä¸ªè¾“å‡ºåˆ†åˆ«ç»è¿‡ä¸€ä¸ªæ˜ å°„å‡½æ•° $e()$ ï¼Œè¿™ä¸ªå‡½æ•°ç”± LeNet CNNæ¨¡åž‹æä¾›ï¼Œä»¥ä¾¿äºŽå°†ä¸Šè¿°ä¸‰ä¸ªfeature mapæ˜ å°„æˆå‘é‡ï¼Œæ˜ å°„æˆå‘é‡åŽå¯ä»¥è®¡ç®—ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦» è®¡ç®— $L1=||e(I_m^T)-e(I_n^T)|_2$ , $L2=||e(I_n^T)-e(I_n^{rand})||_2$ , è®­ç»ƒè¿‡ç¨‹ä¸­å°±æ˜¯è¦ä¿è¯ L1 &lt; L2ï¼ŒL2æ˜¯ä¸€ä¸ªéšæœºè£å‰ªä¸Žç»è¿‡Spatial Transformerçš„è¾“å‡ºä¹‹é—´çš„è·ç¦»ï¼Œç†åº”å¤§äºŽL1. ç»è¿‡ä¸Šé¢çš„åˆ†æžï¼Œå¯ä»¥æå‡ºå¦‚ä¸‹æŸå¤±å‡½æ•°: hinge loss (triplet loss) $Î±$ is a margin ,å¯ä»¥ç§°ä¸º è£•åº¦ï¼Œç›¸å½“äºŽå‡€èµšå¤šå°‘ã€‚ åŠç›‘ç£æ˜¯å› ä¸ºè¿™é‡Œçš„æ ‡ç­¾ç›¸å½“äºŽ L2ï¼Œè€ŒL2æ˜¯äººä¸ºæž„é€ å‡ºæ¥çš„è·ç¦»æŒ‡æ ‡ã€‚ æµ‹è¯•æ—¶è®¤ä¸ºæ£€æµ‹å‡ºçš„boxä¸Žground truth bounding boxçš„IOU å¤§äºŽ0.5ä¸ºæ­£ç¡®ï¼Œtable5 å·¦ä¾§ä¸ºæµ‹è¯•ç»“æžœã€‚ åœ¨æ²¡æœ‰å™ªå£°æ—¶ï¼Œå¯ä»¥è¾¾åˆ°100%çš„å‡†ç¡®çŽ‡ï¼Œæœ‰å™ªå£°æ—¶åœ¨75-93%ä¹‹é—´ã€‚ ä¸‹å›¾æ˜¯ä¼˜åŒ–è¿‡ç¨‹çš„åŠ¨æ€å¯è§†åŒ–ç»“æžœï¼Œå¯è§éšç€è¿­ä»£æ¬¡æ•°è¶Šæ¥è¶Šå¤šï¼Œæ¨¡åž‹å¯¹ç›®æ ‡çš„å®šä½è¶Šæ¥è¶Šå‡†ç¡® è¿™ä¸ªè¯•éªŒä½¿ç”¨äº†ä¸€ç§ç®€å•çš„æŸå¤±å‡½æ•°ï¼Œåœ¨ä¸ä½¿ç”¨æ•°æ®å®šä½æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œæž„å»ºäº†ä¸€ç§è·ç¦»æ ‡ç­¾ï¼Œå®žçŽ°äº†å¯¹ç›®æ ‡çš„æ£€æµ‹ã€‚è¿™ä¸ªå¯ä»¥æŽ¨å¹¿åˆ°ç›®æ ‡æ£€æµ‹æˆ–è¿½è¸ªé—®é¢˜ä¸­åŽ»ã€‚ ä½œè€…æŠŠå‰é¢ä¸€äº›æ£€æµ‹çš„åŠ¨æ€æ•ˆæžœåšæˆäº†è§†é¢‘ï¼Œçœ‹èµ·æ¥å¾ˆæ¸…æ™°æ˜Žäº†ï¼Œçœ‹è¿™é‡Œï¼šhttps://goo.gl/qdEhUu 4 æ€»ç»“è¿™ç¯‡æ–‡ç« æå‡ºçš„ Spatial Transformer ç»“æž„èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„åµŒå…¥åˆ°çŽ°æœ‰çš„CNNæ¨¡åž‹ä¸­åŽ»ï¼Œå¹¶ä¸”å®žçŽ°ç«¯åˆ°ç«¯ï¼ˆend-to-endï¼‰çš„è®­ç»ƒï¼Œé€šè¿‡å¯¹æ•°æ®è¿›è¡Œåå‘ç©ºé—´å˜æ¢æ¥æ¶ˆé™¤å›¾ç‰‡ä¸Šç›®æ ‡çš„å˜å½¢ï¼Œä»Žè€Œä½¿å¾—åˆ†ç±»ç½‘ç»œçš„è¯†åˆ«æ›´åŠ ç®€å•é«˜æ•ˆã€‚çŽ°åœ¨çš„CNNçš„å·²ç»éžå¸¸å¼ºå¤§äº†ï¼Œä½†æ˜¯ Spatial Transformer ä»ç„¶èƒ½è¿‡é€šè¿‡å¢žå¼ºç©ºé—´ä¸å˜æ€§æ¥æé«˜æ€§èƒ½è¡¨çŽ°ã€‚Spatial Transformerå®žé™…ä¸Šæ˜¯ä¸€ç§attentionæœºåˆ¶ï¼Œå¯ä»¥ç”¨äºŽç›®æ ‡æ£€æµ‹ï¼Œç›®æ ‡è¿½è¸ªç­‰é—®é¢˜ï¼Œè¿˜å¯ä»¥æž„å»ºåŠç›‘ç£æ¨¡ã€‚ ä¸‹ä¸€ç¯‡ä»‹ç» Deformable Convolutional Networks ï¼Œè·Ÿæœ¬ç¯‡çš„TSNæ€è·¯å¾ˆåƒï¼Œä½†æ˜¯åˆæ¯”è¿™ä¸ªæ¨¡åž‹ç®€å•ã€‚ å‚è€ƒèµ„æ–™ opencvä¸­æ–‡æ•™ç¨‹â€”â€”ä»¿å°„å˜æ¢ ä»¿å°„å˜æ¢ä¸Žé½æ¬¡åæ ‡ çŸ¥ä¹Žâ€”â€”å¦‚ä½•é€šä¿—æ˜“æ‡‚çš„ç†è§£é«˜ç»´ä»¿å°„å˜æ¢ä¸Žçº¿æ€§å˜æ¢ ç»´åŸºç™¾ç§‘â€”â€”åŒçº¿æ€§æ’å€¼ å›¾åƒå¤„ç†ä¹‹æ’å€¼è¿ç®— è®²STNçš„ä¸€ç¯‡åšå®¢ï¼Œä¸è¿‡å…³äºŽä»¿å°„å˜æ¢é‚£ä¸€å—å†™çš„æ˜¯é”™çš„ï¼Œä½†æ˜¯å…¶ä¸­çš„å›¾è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œå€Ÿç”¨å‡ å¼ å›¾]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>basic dl models</tag>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>STN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-ä»ŽRCNNåˆ°Mask RCNNä¸¤æ­¥æ£€æµ‹ç®—æ³•æ€»ç»“]]></title>
    <url>%2Farticles%2F21c44637%2F</url>
    <content type="text"><![CDATA[ç›®æ ‡æ£€æµ‹ä¸­ä¸¤æ­¥æ£€æµ‹ç®—æ³•çš„æ€»ç»“å¯¹æ¯”ï¼ŒæŒç»­æ›´æ–°â€¦â€¦ R-CNN, SPPNet, Fast R-CNN, Faster R-CNN, R-FCN, Light-head R-CNN, Mask R-CNN R-CNNRbgæå‡ºçš„R-CNNçš„æ–¹æ³• ä¸€å¼ å›¾åƒå…ˆé€šè¿‡selective searchçš„æ–¹æ³•ï¼Œç”Ÿæˆ1K~2Kä¸ªå€™é€‰åŒºåŸŸï¼Œè¿™ä¸ªæ­¥éª¤ç”Ÿæˆçš„å€™é€‰åŒºåŸŸå¤§å°æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤éœ€è¦ warped regionï¼Œä¹Ÿå°±æ˜¯å°†ä¸åŒå¤§å°çš„ region ç¼©æ”¾åˆ°åŒæ ·çš„å°ºå¯¸ï¼Œå› ä¸ºCNNåŽé¢çš„å…¨è¿žæŽ¥å±‚è¦æ±‚è¾“å…¥å°ºå¯¸å›ºå®šã€‚ å¯¹æ¯ä¸ª warped åŽçš„å€™é€‰åŒºåŸŸï¼Œä½¿ç”¨CNNæå–ç‰¹å¾ ï¼Œæå–çš„ç‰¹å¾éœ€å­˜å‚¨åˆ°ç£ç›˜ï¼› è¯»å–ç‰¹å¾ï¼Œé€å…¥æ¯ä¸€ç±»çš„ SVM åˆ†ç±»å™¨ï¼Œåˆ¤åˆ«æ˜¯å¦å±žäºŽè¯¥ç±»ï¼› æœ€ç»ˆè¿˜æœ‰ä¸€ä¸ªä½ç½®å›žå½’å™¨ç”¨äºŽç²¾ç»†ä¿®æ­£ã€‚ å›žå½’æ–¹æ³•ï¼š region proposals ä¸Ž ground truthä¹‹é—´çš„é€»è¾‘å…³ç³» å¯ä»¥æŽ¨å‡ºå›žå½’ç›®æ ‡ï¼ˆä¹Ÿå°±æ˜¯æ ‡ç­¾ï¼‰ å›žå½’å‡½æ•°ï¼š æŸå¤±å‡½æ•°ï¼š è®­ç»ƒæ–¹æ³•ï¼š ä¼˜ç‚¹ï¼š ç»“æž„ç®€å•æ˜Žäº†ï¼Œå®¹æ˜“ç†è§£ï¼› CNNè‡ªåŠ¨æå–ç‰¹å¾ï¼ŒçœåŽ»æ‰‹å·¥è®¾è®¡ç‰¹å¾çš„å¤æ‚æ“ä½œï¼Œä»¥åŠå¯¹ç»éªŒå’Œè¿æ°”çš„ä¾èµ–æ€§ï¼› ä½¿ç”¨ selective searchæ–¹æ³•æ¥ç”Ÿæˆå€™é€‰åŒºåŸŸï¼Œæ˜¾è‘—å‡å°‘å€™é€‰åŒºåŸŸçš„æ•°é‡ï¼Œå¢žåŠ å€™é€‰åŒºåŸŸçš„è´¨é‡ï¼ˆåŒ…å«ç›®æ ‡çš„å¯èƒ½æ€§æ›´å¤§ï¼‰ï¼Œå› ä¸ºè¿™ç›¸å½“äºŽä¸€ä¸ªå¼±æ£€æµ‹å™¨ï¼Œç›¸æ¯”äºŽsliding windowç©·ä¸¾æœç´¢çš„æ–¹å¼è‚¯å®šè¦å¥½å¾ˆå¤šï¼› é¢„æµ‹ç²¾åº¦æé«˜äº†30%ã€‚ ç¼ºç‚¹ï¼š æå–ç‰¹å¾æ—¶ï¼ŒCNNéœ€è¦åœ¨æ¯ä¸€ä¸ªå€™é€‰åŒºåŸŸä¸Šè·‘ä¸€éï¼›å€™é€‰åŒºåŸŸä¹‹é—´çš„äº¤å ä½¿å¾—ç‰¹å¾è¢«é‡å¤æå–, é€ æˆäº†ä¸¥é‡çš„é€Ÿåº¦ç“¶é¢ˆ, é™ä½Žäº†è®¡ç®—æ•ˆçŽ‡; å°†å€™é€‰åŒºåŸŸç›´æŽ¥ç¼©æ”¾åˆ°å›ºå®šå¤§å°, ç ´åäº†ç‰©ä½“çš„é•¿å®½æ¯”, å¯èƒ½å¯¼è‡´ç‰©ä½“çš„å±€éƒ¨ç»†èŠ‚æŸå¤±; R-CNNè¿˜ä¸æ˜¯ç«¯åˆ°ç«¯çš„æ¨¡åž‹ï¼Œè®­ç»ƒæ­¥éª¤ç¹çmulti-stageï¼ˆå…ˆé¢„è®­ç»ƒã€fine tuningã€å­˜å‚¨CNNæå–çš„ç‰¹å¾ï¼›å†è®­ç»ƒSVM ï¼›å†regressionï¼‰ã€‚ä»Žfine tuning åˆ°è®­ç»ƒSVMæ—¶ï¼Œä¸èƒ½ä¸€æ­¥åˆ°ä½ï¼Œè¦åˆ†æˆä¸¤æ­¥ï¼› è®­ç»ƒSVMæ—¶éœ€è¦å°†ä¹‹å‰CNNæå–åˆ°çš„ç‰¹å¾å…¨éƒ¨å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç£ç›˜è¯»å†™è€—æ—¶ï¼Œä¸”å ç”¨ç©ºé—´å¤§ï¼Œï¼ˆPascal 200Gï¼‰ï¼› ä½¿ç”¨é¢å¤–çš„selective search ç®—æ³•ç”Ÿæˆå€™é€‰åŒºåŸŸçš„è¿‡ç¨‹ä¹Ÿå¾ˆè€—æ—¶ï¼› é¢„æµ‹æ—¶é—´å¾ˆæ…¢ï¼Œä¸€å¼ å›¾ç‰‡è¦49sã€‚ SPPNeté’ˆå¯¹R-CNNçš„ä¸¤ä¸ªç¼ºé™·ï¼š å…ˆç”Ÿæˆå€™é€‰åŒºåŸŸï¼Œå†å¯¹åŒºåŸŸè¿›è¡Œå·ç§¯ï¼Œå€™é€‰åŒºåŸŸä¹‹é—´çš„äº¤å ä½¿å¾—ç‰¹å¾è¢«é‡å¤æå–, é€ æˆäº†ä¸¥é‡çš„é€Ÿåº¦ç“¶é¢ˆ, é™ä½Žäº†è®¡ç®—æ•ˆçŽ‡; å°†å€™é€‰åŒºåŸŸç›´æŽ¥ç¼©æ”¾åˆ°å›ºå®šå¤§å°, ç ´åäº†ç‰©ä½“çš„é•¿å®½æ¯”, å¯èƒ½å¯¼è‡´ç‰©ä½“çš„å±€éƒ¨ç»†èŠ‚æŸå¤±; ä½•å‡¯æ˜Žæå‡ºçš„æ”¹è¿›æ–¹æ³•å¦‚ä¸‹ï¼š æ”¹å˜ç”Ÿæˆå€™é€‰åŒºåŸŸçš„é¡ºåº SPPæ± åŒ– æ”¹å˜ç”Ÿæˆå€™é€‰åŒºåŸŸçš„é¡ºåºã€‚ä»Žå…ˆç”Ÿæˆå€™é€‰åŒºåŸŸå†æå–ç‰¹å¾ï¼Œå˜æˆå…ˆæå–ç‰¹å¾å†ç”Ÿæˆå€™é€‰åŒºåŸŸï¼Œå®žçŽ°äº†ç‰¹å¾æå–éƒ¨åˆ†çš„è®¡ç®—å…±äº«ï¼Œæžå¤§çš„å‡å°‘è®¡ç®—é‡ã€‚ç”Ÿæˆå€™é€‰åŒºåŸŸçš„æ–¹å¼è¿˜æ˜¯ selective searchç®—æ³•ï¼Œåœ¨åŽŸå›¾ä¸Šç”Ÿæˆå€™é€‰åŒºåŸŸåŽï¼Œæ˜ å°„åˆ°ç‰¹å¾å›¾ä¸ŠåŽ»ã€‚ ä½¿ç”¨SPPæ± åŒ–ï¼ˆSpatial pyramid model, ç©ºé—´é‡‘å­—å¡”æ± åŒ–æ± åŒ–ï¼‰ï¼šä¼ ç»Ÿçš„æ± åŒ–æ–¹å¼æ˜¯ å·²çŸ¥è¾“å…¥å°ºå¯¸å’Œ å›ºå®šæ± åŒ–æ ¸å¤§å°ï¼Œç¡®å®šè¾“å‡ºå°ºå¯¸ï¼Œé‚£ä¹ˆè¿™æ—¶å€™è¾“å‡ºå°ºå¯¸è‚¯å®šæ˜¯éšè¾“å…¥å°ºå¯¸å˜åŒ–çš„ï¼Œæ‰€ä»¥è¿™æ—¶å€™å°±è¦æ±‚è¾“å…¥å›¾ç‰‡æ˜¯å›ºå®šå°ºå¯¸ã€‚è€ŒSPPæ± åŒ–æ˜¯ å·²çŸ¥è¾“å…¥å°ºå¯¸ å’Œ å›ºå®šè¾“å‡ºå°ºå¯¸ï¼Œæ¥ç¡®å®šç¡®å®šæ± åŒ–æ ¸çš„å¤§å°ã€‚SPP å±‚ç”¨ä¸åŒå¤§å°çš„æ± åŒ–çª—å£ä½œç”¨äºŽå·ç§¯å¾—åˆ°çš„ç‰¹å¾å›¾ï¼Œæ± åŒ–çª—å£çš„å¤§å°å’Œæ­¥é•¿æ ¹æ®ç‰¹å¾å›¾çš„å°ºå¯¸è¿›è¡ŒåŠ¨æ€è®¡ç®—ï¼Œæœ€ç»ˆå¯ä»¥ç»„åˆæˆä¸€ä¸ªç‰¹å®šç»´åº¦çš„ç‰¹å¾è¾“å‡ºã€‚è¿™é‡Œçš„è¾“å…¥å¯ä»¥æ˜¯ä¸€ä¸ªfeature mapï¼ˆåˆ†ç±»é—®é¢˜ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªwindowï¼ˆæ£€æµ‹é—®é¢˜ï¼‰ã€‚ è®­ç»ƒè¿‡ç¨‹ï¼š ä¼˜ç‚¹ï¼š SPP-net å¯¹äºŽä¸€å¹…å›¾åƒçš„æ‰€æœ‰å€™é€‰åŒºåŸŸ, åªéœ€è¦è¿›è¡Œä¸€æ¬¡å·ç§¯è¿‡ç¨‹, é¿å…äº†é‡å¤è®¡ç®—, æ˜¾è‘—æé«˜äº†è®¡ç®—æ•ˆçŽ‡ã€‚è¯¥æ–¹æ³•åœ¨é€Ÿåº¦ä¸Šæ¯” R-CNN æé«˜ 24 ~102 å€ . SPPæ± åŒ–å±‚ä½¿å¾—æ£€æµ‹ç½‘ç»œå¯ä»¥å¤„ç†ä»»æ„å°ºå¯¸çš„å›¾åƒ, å› æ­¤å¯ä»¥é‡‡ç”¨å¤šå°ºåº¦å›¾åƒæ¥è®­ç»ƒç½‘ç»œ, ä»Žè€Œä½¿å¾—ç½‘ç»œå¯¹ç›®æ ‡çš„å°ºåº¦æœ‰å¾ˆå¥½çš„é²æ£’æ€§. ç¼ºç‚¹ï¼š SPP-net çš„è®­ç»ƒè¿‡ç¨‹æ›´å¤æ‚äº†ï¼Œï¼ˆå…ˆé¢„è®­ç»ƒã€å­˜å‚¨SPPç‰¹å¾ã€ä½¿ç”¨SPPç‰¹å¾fine tuningå…¨è¿žæŽ¥å±‚ã€å­˜å‚¨CNNæå–çš„ç‰¹å¾ï¼›å†è®­ç»ƒSVM ï¼›å†regressionï¼‰ã€‚ CNN æå–çš„ç‰¹å¾å­˜å‚¨éœ€è¦çš„ç©ºé—´å’Œæ—¶é—´å¼€é”€å¢žå¤§; åœ¨å¾®è°ƒé˜¶æ®µ, SPP-net åªèƒ½æ›´æ–°ç©ºé—´é‡‘å­—å¡”æ± åŒ–å±‚åŽçš„å…¨è¿žæŽ¥å±‚, è€Œä¸èƒ½æ›´æ–°å·ç§¯å±‚(å¥½åƒæ˜¯æ¢¯åº¦ä¸è¿žç»­), è¿™é™åˆ¶äº†æ£€æµ‹æ€§èƒ½çš„æå‡ã€‚ Fast R-CNN ä¸ºä»€ä¹ˆ SPPnetå’Œ R-CNNè®­ç»ƒå¾ˆæ…¢ï¼Ÿ ä¸»è¦åŽŸå› æœ‰ä¸¤ç‚¹ ä½¿ç”¨SVMåšåˆ†ç±»å™¨æ—¶ï¼Œéœ€è¦å°†ç‰¹å¾äº‹å…ˆå­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼Œç£ç›˜äº¤äº’è€—æ—¶ï¼› è®­ç»ƒæ­¥éª¤ç¹çï¼Œä¸èƒ½è”åˆè®­ç»ƒã€‚ é’ˆå¯¹ R-CNN å’Œ SPPNet çš„è¿™ä¸¤ä¸ªé—®é¢˜, rbg æå‡º èƒ½å¤Ÿç«¯åˆ°ç«¯è”åˆè®­ç»ƒçš„ Fast R-CNN ç®—æ³• ï¼Œå¦‚ä¸‹ï¼š é¦–å…ˆåœ¨å›¾åƒä¸­æå–æ„Ÿå…´è¶£åŒºåŸŸ (Regions of Interest, RoI)ï¼Œè¿˜æ˜¯ä½¿ç”¨selective searchç®—æ³•ï¼Œç”Ÿæˆçš„å€™é€‰åŒºåŸŸè¿™é‡Œç§°ä¸ºROIï¼Œå°†ROIæ˜ å°„åˆ°feature mapä¸Š; ç„¶åŽé‡‡ç”¨ä¸Ž SPP-net ç›¸ä¼¼çš„å¤„ç†æ–¹å¼,å¯¹æ¯å¹…å›¾åƒåªè¿›è¡Œä¸€æ¬¡å·ç§¯, åœ¨æœ€åŽä¸€ä¸ªå·ç§¯å±‚è¾“å‡ºçš„ç‰¹å¾å›¾ä¸Šå¯¹æ¯ä¸ª RoI è¿›è¡Œæ˜ å°„, å¾—åˆ°ç›¸åº”çš„RoI çš„ç‰¹å¾å›¾, å¹¶é€å…¥ RoI æ± åŒ–å±‚ (ç›¸å½“äºŽå•å±‚çš„SPP å±‚, é€šè¿‡è¯¥å±‚æŠŠå„å°ºå¯¸çš„ç‰¹å¾å›¾ç»Ÿä¸€åˆ°ç›¸åŒçš„å¤§å°); æœ€åŽç»è¿‡å…¨è¿žæŽ¥å±‚å¾—åˆ°ä¸¤ä¸ªè¾“å‡ºå‘é‡, ä¸€ä¸ªè¿›è¡Œ Softmax åˆ†ç±», å¦ä¸€ä¸ªè¿›è¡Œè¾¹æ¡†å›žå½’. SPPæ± åŒ– ROIæ± åŒ– æ”¹è¿›çš„æ–¹æ³•ï¼š ä¸²è¡Œç»“æž„æ”¹æˆå¹¶è¡Œç»“æž„ ï¼šåŽŸæ¥çš„ R-CNN æ˜¯å…ˆå¯¹å€™é€‰æ¡†åŒºåŸŸè¿›è¡Œåˆ†ç±»ï¼Œåˆ¤æ–­æœ‰æ²¡æœ‰ç‰©ä½“ï¼Œå¦‚æžœæœ‰åˆ™å¯¹ Bounding Box è¿›è¡Œç²¾ä¿® å›žå½’ ã€‚è¿™æ˜¯ä¸€ä¸ªä¸²è”å¼çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆåŠ¿å¿…æ²¡æœ‰å¹¶è”çš„å¿«ï¼Œæ‰€ä»¥ rbg å°±å°†åŽŸæœ‰ç»“æž„æ”¹æˆå¹¶è¡Œï¼Œåœ¨åˆ†ç±»çš„åŒæ—¶ï¼Œå¯¹ Bbox è¿›è¡Œå›žå½’ï¼› ROIæ± åŒ–ï¼šåœ¨è¿™ä¸ªæ¨¡åž‹é‡Œï¼ŒROIå°±æ˜¯æ„Ÿå…´è¶£åŒºåŸŸ(Regions of Interest, RoI) ï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰æ¨¡åž‹ä¸­çš„å€™é€‰åŒºåŸŸã€‚SPPæ± åŒ–çš„æ”¹è¿›ï¼Œç›¸å½“äºŽåªç”¨äº†ä¸€ç§å°ºå¯¸çš„ SPPæ± åŒ–ï¼› ä¸ç”¨SVMåˆ†ç±»ï¼Œæ”¹ç”¨SoftMaxåˆ†ç±»ï¼Œå¯ä»¥çœåŽ»ç‰¹å¾å­˜å‚¨ï¼› ä½¿ç”¨multi-task loss å¤šä»»åŠ¡æŸå¤±å‡½æ•°ï¼ˆåˆ†ç±»+å›žå½’ï¼‰ï¼Œç«¯åˆ°ç«¯ï¼ˆend-to-endï¼‰è®­ç»ƒã€‚ è®­ç»ƒæ–¹å¼ï¼š multi-task æŸå¤±å‡½æ•°ï¼š æ–°çš„æŒ‘æˆ˜åŠè§£å†³æ–¹æ³•ï¼š ROIæ± åŒ–ï¼š ä¸€å¥è¯æ¦‚æ‹¬ä½œç”¨ï¼šå°†ä¸åŒå°ºå¯¸è¾“å…¥çš„feature mapæˆ–è€… ROIï¼Œé™é‡‡æ ·æˆå›ºå®šå°ºå¯¸çš„è¾“å‡º feature mapï¼Œå†é€å…¥å…¨è¿žæŽ¥å±‚ã€‚ åšæ³•ï¼š å°†imageä¸­çš„ROI æ˜ å°„åˆ°feature map ä¸­å¯¹åº”ä½ç½®çš„åŒºåŸŸï¼Œè¿™äº›åŒºåŸŸå¤§å°æ˜¯ä¸ç»Ÿä¸€çš„ï¼ˆå·²çŸ¥è¾“å…¥ï¼‰ï¼› å°†æ˜ å°„åŽçš„åŒºåŸŸåˆ’åˆ†ä¸ºç›¸åŒå¤§å°çš„sectionsï¼ˆsectionsæ•°é‡ä¸Žè¾“å‡ºçš„ç»´åº¦ç›¸åŒï¼Œå›ºå®šè¾“å‡ºå°ºå¯¸ï¼‰ï¼›è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªROIåˆ†å¥½çš„sectionä¸­çš„åƒç´ æ•°é‡æ˜¯ä¸ä¸€æ ·çš„ï¼ˆæ± åŒ–æ ¸çš„å¤§å°å’Œæ­¥é•¿æ ¹æ®è¾“å…¥å’Œè¾“å‡ºå°ºå¯¸è¿›è¡ŒåŠ¨æ€è®¡ç®—ï¼‰ï¼Œæœ€ç»ˆå¯ä»¥ç»„åˆæˆä¸€ä¸ªç‰¹å®šç»´åº¦çš„ç‰¹å¾è¾“å‡ºï¼› å¯¹æ¯ä¸ªsectionsè¿›è¡Œmax poolingæ“ä½œï¼› å‚è€ƒï¼šRegion of interest pooling explained ä¼˜ç‚¹ï¼š ç²¾åº¦æœ‰æé«˜ é€šè¿‡ä½¿ç”¨ multi-task loss ï¼Œå¯ä»¥å®žçŽ° end-to-endè®­ç»ƒï¼Œsingle-stageï¼Œé™¤äº†é¢„è®­ç»ƒä¹‹å¤–ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¯ä»¥ä¸€æ°”å‘µæˆçš„ã€‚ åˆ†ç±»å’Œå›žå½’ä»»åŠ¡å¯ä»¥å…±äº«å·ç§¯ç‰¹å¾,ç›¸äº’ä¿ƒè¿›. Fast R-CNN é‡‡ç”¨ Softmax åˆ†ç±»ä¸Žè¾¹æ¡†å›žå½’ä¸€èµ·è¿›è¡Œè®­ç»ƒ, çœåŽ»äº†ç‰¹å¾å­˜å‚¨, æé«˜äº†ç©ºé—´å’Œæ—¶é—´åˆ©ç”¨çŽ‡ã€‚ ä¸Ž R-CNN ç›¸æ¯”, åœ¨è®­ç»ƒ VGG ç½‘ç»œæ—¶,Fast R-CNN çš„è®­ç»ƒé˜¶æ®µå¿« 9 å€, æµ‹è¯•é˜¶æ®µå¿« 213å€; ä¸Ž SPP-net ç›¸æ¯”, Fast R-CNN çš„è®­ç»ƒé˜¶æ®µå¿« 3å€, æµ‹è¯•é˜¶æ®µå¿« 10 å€ã€‚ ç¼ºç‚¹ï¼š Fast R-CNN ä»ç„¶å­˜åœ¨é€Ÿåº¦ä¸Šçš„ç“¶é¢ˆ, å°±æ˜¯å€™é€‰åŒºåŸŸç”Ÿæˆæ­¥éª¤è€—è´¹äº†æ•´ä¸ªæ£€æµ‹è¿‡ç¨‹çš„å¤§é‡æ—¶é—´. Faster R-CNNä¸ºäº†è§£å†³å€™é€‰åŒºåŸŸç”Ÿæˆæ­¥éª¤æ¶ˆè€—å¤§é‡è®¡ç®—èµ„æº, å¯¼è‡´æ£€æµ‹é€Ÿåº¦è¿‡æ…¢çš„é—®é¢˜, ä»»å°‘å¿ï¼Œä½•å‡¯æ˜Žï¼Œrbgè”åˆæå‡ºåŒºåŸŸç”Ÿæˆç½‘ç»œ (Region proposal network, RPN), å¹¶ä¸”æŠŠRPN å’Œ Fast R-CNN èžåˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œ (ç§°ä¸º Faster R-CNN), äºŒè€…å…±äº«å·ç§¯ç‰¹å¾. å¦‚ä¸‹ï¼š RPN å°†ä¸€æ•´å¹…å›¾åƒä½œä¸ºè¾“å…¥, è¾“å‡ºä¸€ç³»åˆ—çš„çŸ©å½¢å€™é€‰åŒºåŸŸ. å®ƒæ˜¯ä¸€ä¸ªå…¨å·ç§¯ç½‘ç»œæ¨¡åž‹, é€šè¿‡åœ¨ä¸Ž Fast R-CNN å…±äº«å·ç§¯å±‚çš„æœ€åŽä¸€å±‚è¾“å‡ºçš„ç‰¹å¾å›¾ä¸Šæ»‘åŠ¨ä¸€ä¸ªå°åž‹ç½‘ç»œï¼ˆsliding windowï¼‰, è¿™ä¸ªç½‘ç»œä¸Žç‰¹å¾å›¾ä¸Šçš„å°çª—å£å…¨è¿žæŽ¥, æ¯ä¸ªæ»‘åŠ¨çª—å£æ˜ å°„åˆ°ä¸€ä¸ªä½Žç»´çš„ç‰¹å¾å‘é‡, å†è¾“å…¥ç»™ä¸¤ä¸ªå¹¶åˆ—çš„å…¨è¿žæŽ¥å±‚, å³åˆ†ç±»å±‚ (cls layer) å’Œè¾¹æ¡†å›žå½’å±‚(reg layer), ç”±äºŽç½‘ç»œæ˜¯ä»¥æ»‘åŠ¨çª—çš„å½¢å¼æ¥è¿›è¡Œæ“ä½œ, æ‰€ä»¥å…¨è¿žæŽ¥å±‚çš„å‚æ•°åœ¨æ‰€æœ‰ç©ºé—´ä½ç½®æ˜¯å…±äº«çš„. RPNçš„ç»“æž„åœ¨å®žçŽ°æ—¶å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå…¨å·ç§¯ç½‘ç»œã€‚ RPNæ˜¯ä¸€ä¸ªå¼±æ£€æµ‹å™¨ï¼ŒRPNçš„è¾“å‡ºæ˜¯ä¸€äº›å¯èƒ½åŒ…å«ç›®æ ‡çš„å€™é€‰æ¡†ï¼ˆ region proposals æˆ–è€…ç§°ä¸º region of interest ,ROIï¼‰,è¿™äº›ROI å°†ä¼šè¾“å…¥Fast R-CNNä¸­ï¼Œç”¨äºŽæœ€åŽçš„æ£€æµ‹ã€‚ è®­ç»ƒæ–¹å¼ï¼š Anchorçš„ä½œç”¨ æŒ‰ç…§ä¸¤æ­¥æ£€æµ‹çš„æƒ¯ä¾‹ï¼Œåº”è¯¥è¦å…ˆæœ‰åˆæ­¥çš„ROI ï¼Œç„¶åŽæ‰æ˜¯æœ€ç»ˆçš„åˆ†ç±»å’Œå›žå½’ï¼Œå¯¹äºŽåŽŸç‰ˆçš„Fast R-CNNæ¥è¯´ï¼Œå®ƒçš„ROIæ˜¯ç”±selective searchç®—æ³•æä¾›çš„ï¼›è€ŒFaster R-CNNä¸­çš„ Fast R-CNNçš„ ROI åˆ™æ˜¯ç”±RPNç½‘ç»œäº§ç”Ÿçš„ã€‚ é‚£ä¹ˆRPNæ—¢ç„¶æ˜¯ä¸€ä¸ªå¼±æ£€æµ‹å™¨ï¼Œé‚£ä¹ˆRPNçš„ROIæˆ–è€… region proposalsä»Žå“ªæ¥ï¼Ÿ ç­”æ¡ˆæ˜¯ä»Ž anchor ä¸­æ¥ã€‚ ç»“åˆä¸Šé¢çš„å›¾ï¼ŒRPNåœ¨CNNæå–ç‰¹å¾ä¹‹åŽä»¥sliding windowçš„æ–¹å¼åœ¨æœ€åŽä¸€ä¸ªfeature mapä¸Šæå–ç‰¹å¾ï¼Œæ¯ä¸ªæ»‘åŠ¨çª—å£ä¸­å¿ƒéƒ½å…³è”ç€ kä¸ª boxï¼Œè¿™äº›boxå°±ç§°ä¸ºanchorï¼Œæˆ–è€…å«anchor boxã€‚è¿™äº›å…³è”çš„box å¯ä»¥é€šè¿‡é€†å‘æ˜ å°„å¯¹åº”åˆ°åŽŸå›¾ä¸Šï¼Œå¯¹åº”åˆ°åŽŸå›¾ä¸Šçš„åŒºåŸŸå°±æ˜¯region proposalsï¼Œä¸è¿‡è¿™äº›region proposalséƒ½æ˜¯ä½äºŽåŒä¸€ä¸ªä¸­å¿ƒç‚¹ã€‚å°±æ˜¯è¯´sliding windowæ—¶çš„windowï¼ˆå¤§å°å›ºå®šï¼‰æ˜¯ç”±è¿™äº›åŽŸå›¾ä¸Šçš„ä¸åŒå¤§å°å’Œæ¯”ä¾‹çš„ region proposals ç”Ÿæˆçš„ï¼ˆç±»ä¼¼äºŽROIæ± åŒ–çš„åŠŸèƒ½ï¼‰ã€‚ å®žé™…ä¸Šsliding windowæ—¶æ¯ä¸ª window èµ·åˆ°äº†ä¸€éƒ¨åˆ†region proposals çš„ä½œç”¨ï¼Œä½†æ˜¯ç”±äºŽè¿™é‡Œçš„sliding windowçš„å°ºå¯¸æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥ä¸èƒ½èµ·åˆ°å¤šå°ºåº¦ï¼Œå¤šå°ºå¯¸ï¼ˆmultiple scales and sizes ï¼‰é¢„æµ‹çš„ä½œç”¨ï¼Œå› æ­¤æå‡ºå…³è”kä¸ªä¸åŒå¤§å°å’Œé•¿å®½æ¯”çš„anchor boxï¼Œè¿™æ ·äºŒè€…ç»“åˆå³å¯èµ·åˆ°å¤šå°ºåº¦ï¼Œå¤šå°ºå¯¸é¢„æµ‹çš„ä½œç”¨ã€‚å‚è€ƒä¸‹å›¾ï¼š ä½¿ç”¨anchorçš„å¥½å¤„æ˜¯ï¼ŒRPNæœ€åŽsliding window æ—¶å¯ä»¥ä½¿ç”¨ å·ç§¯çš„æ–¹å¼å®žçŽ°ï¼ˆå› ä¸º windowçš„å¤§å°æ˜¯å›ºå®šçš„ï¼‰ï¼Œä½¿ç½‘ç»œå˜å¾—å¾ˆç®€å•ã€‚ è€ŒåŽé¢çš„ 256ç»´å‘é‡çš„è¾“å…¥ ç”±äºŽç”¨å·ç§¯å±‚å®žçŽ°æ‰€ä»¥ä¹Ÿç”± ï¼ˆ1,1,256ï¼‰ï¼Œå˜æˆäº†ï¼ˆW,H,256ï¼‰. ä½†æ˜¯æˆ‘ä»¬çŸ¥é“åŽé¢çš„è¾“å…¥æ˜¯å›ºå®šå°ºå¯¸çš„ window ï¼Œé‚£ä¹ˆåœ¨åˆ†ç±»å’Œå›žå½’æ—¶æ˜¯å¦‚ä½•æ¥åæ˜ ä¸åŒå°ºå¯¸å’Œæ¯”ä¾‹çš„ region proposalså‘¢ï¼Ÿç­”æ¡ˆæ˜¯é€šè¿‡ æ ‡ç­¾å’ŒæŸå¤±å‡½æ•°ã€‚ ä»¥ä¸‹å¼•ç”¨è‡ª [å‚è€ƒèµ„æ–™ 1]ï¼Œåœ¨é‚£ä½å¤§å…„å¼Ÿçš„åšå®¢ä¸­ï¼Œä¸€å¼€å§‹ä»–çš„ç†è§£æ˜¯å¯¹çš„ï¼Œä½†æ˜¯åŽé¢çš„è¡¥å……ä»–åˆç»™æ”¹é”™äº†ï¼Œä½†æ˜¯ä¸æ˜¯ä»€ä¹ˆå¤§é”™ï¼Œå†…å®¹æ˜¯å¯¹çš„ï¼Œåªæ˜¯å› æžœå…³ç³»æžåäº†ï¼Œè¿™é‡ŒåªæŠŠå†…å®¹è´´å‡ºæ¥ï¼š ä»Žnxnæå‡ºçš„256dç‰¹å¾æ˜¯è¢«è¿™kç§åŒºåŸŸå…±äº«çš„ï¼Œåœ¨clc layerå’Œreg layerè®¡ç®—æŸå¤±çš„æ—¶å€™ï¼Œç”¨è¿™å…±äº«çš„256dç‰¹å¾ åŠ ä¸Š anchoræŽ¨ç®—å‡ºkç§åŒºåŸŸçš„åæ ‡å’Œå‰æ™¯ã€èƒŒæ™¯çš„æ ‡ç­¾ï¼Œä¾¿å¯ä»¥å¯¹è¿™kç§åŒºåŸŸåŒæ—¶è®¡ç®—lossã€‚ clc layerå’Œreg layeråŒæ—¶é¢„æµ‹kä¸ªåŒºåŸŸçš„å‰æ™¯ã€èƒŒæ™¯æ¦‚çŽ‡ï¼ˆ1ä¸ªåŒºåŸŸ2ä¸ªscoresï¼Œæ‰€ä»¥æ˜¯2kä¸ªscoresï¼‰ï¼Œä»¥åŠbounding boxï¼ˆ1ä¸ªåŒºåŸŸ4ä¸ªcoordinatesï¼Œæ‰€ä»¥æ˜¯4kä¸ªcoordinatesï¼‰ï¼Œå…·ä½“çš„è¯´ï¼š clc layerè¾“å‡ºé¢„æµ‹åŒºåŸŸçš„2ä¸ªå‚æ•°ï¼Œå³é¢„æµ‹ä¸ºå‰æ™¯çš„æ¦‚çŽ‡paå’Œpbï¼ŒæŸå¤±ç”¨softmax lossï¼ˆcross entropy lossï¼‰ï¼ˆæœ¬æ¥è¿˜ä»¥ä¸ºæ˜¯sigmoidï¼Œè¿™æ ·çš„è¯åªé¢„æµ‹paå°±å¯ä»¥äº†ï¼Ÿï¼‰ã€‚éœ€è¦çš„ç›‘ç£ä¿¡æ¯æ˜¯Y=0,1ï¼Œè¡¨ç¤ºè¿™ä¸ªåŒºåŸŸæ˜¯å¦ground truth reg layerè¾“å‡ºé¢„æµ‹åŒºåŸŸçš„4ä¸ªå‚æ•°ï¼šx,y,w,hï¼Œç”¨smooth L1 lossã€‚éœ€è¦çš„ç›‘ç£ä¿¡æ¯æ˜¯ anchorçš„åŒºåŸŸåæ ‡{xa,ya,wa,ha} å’Œ ground truthçš„åŒºåŸŸåæ ‡{x,y,w,h} æ˜¾ç„¶ï¼Œä¸Šé¢çš„ç›‘ç£ä¿¡æ¯ï¼šYï¼Œ{xa,ya,wa,ha}ï¼ˆkä¸ªï¼‰ï¼Œ{x*,y*,w*,h*}ï¼ˆ1ä¸ªï¼‰ï¼Œå°±æ˜¯é€šè¿‡anchoræœºåˆ¶äº§ç”Ÿçš„ã€‚è¿™å‡ ä¸ªå‚æ•°çš„æŒ‡å®šï¼ˆæ¯”å¦‚kä¸ªanchoråŒºåŸŸçš„Yæ˜¯æ€Žä¹ˆå¾—åˆ°çš„ï¼‰æ˜¯æ ¹æ®æ–‡ç« ä¸­çš„æ ·æœ¬äº§ç”Ÿè§„åˆ™ï¼Œå¾ˆå¤šåšå®¢ä¸­ä¹Ÿéƒ½æåˆ°äº†ã€‚ å‚è€ƒèµ„æ–™ï¼š faster-rcnnä¸­ï¼Œå¯¹RPNçš„ç†è§£ faster rcnnä¸­rpnçš„anchorï¼Œsliding windowsï¼Œproposalsï¼Ÿ R-FCNå¦‚æžœä¸è€ƒè™‘ç”ŸæˆROIçš„éƒ¨åˆ†ï¼ˆæ¯”å¦‚RPNï¼ŒRegion Proposal Networkï¼‰ï¼Œä¸¤æ­¥æ£€æµ‹æ¨¡åž‹å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†å­ç½‘ç»œï¼ˆsubnetworks ï¼‰ï¼š ç¬¬ä¸€éƒ¨åˆ†æ˜¯å…±äº«è®¡ç®—çš„å…¨å·ç§¯åŸºç¡€å­ç½‘ç»œ baseï¼Œæˆ–ç§°bodyï¼Œtrunk ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯ä¸ŽROIç‹¬ç«‹çš„ï¼Œä¸»è¦ç”¨äºŽæå–ç‰¹å¾ ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸å…±äº«è®¡ç®—çš„å­ç½‘ç»œ headï¼Œç”Ÿæˆçš„æ¯ä¸€ä¸ªROIéƒ½è¦ç»è¿‡headéƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºŽåˆ†ç±» Faster R-CNN å®žçŽ°äº†å¾ˆå¤šè®¡ç®—çš„å…±äº«ï¼šROIä¹‹é—´çš„ç‰¹å¾æå–å…±äº«è®¡ç®—ï¼ŒROI æå–ä¸Žbaseéƒ¨åˆ†å…±äº«è®¡ç®—ï¼Œä½†æ˜¯ROIé€šè¿‡headéƒ¨åˆ†æ˜¯ä¸å…±äº«è®¡ç®—ã€‚ R-FCNå°±æ˜¯åŸºäºŽFCNå°† headéƒ¨åˆ†ä¹Ÿå®žçŽ°äº†è®¡ç®—å…±äº«ã€‚ä½†æ˜¯ç”±äºŽç›´æŽ¥å°† Faster R-CNN çš„headéƒ¨åˆ†ä¹Ÿå°±æ˜¯å…¨è¿žæŽ¥å±‚æ”¹ä¸ºå…¨å·ç§¯å±‚ï¼Œç„¶åŽå†ä½¿ç”¨ R-FCNæ˜¯ä¸€ç§æ–°çš„åŸºäºŽåŒºåŸŸçš„å…¨å·ç§¯ç½‘ç»œæ£€æµ‹æ–¹æ³•. ä¸ºäº†ç»™ç½‘ç»œå¼•å…¥å¹³ç§»å˜åŒ–, æž„å»ºå¯¹ä½ç½®æ•æ„Ÿçš„æ± åŒ–æ–¹å¼ (Position sensitive pooling), ç¼–ç æ„Ÿå…´è¶£åŒºåŸŸçš„ç›¸å¯¹ç©ºé—´ä½ç½®ä¿¡æ¯. è¯¥ç½‘ç»œè§£å†³äº† Faster R-CNN ç”±äºŽé‡å¤è®¡ç®—å…¨è¿žæŽ¥å±‚è€Œå¯¼è‡´çš„è€—æ—¶é—®é¢˜, å®žçŽ°äº†è®©æ•´ä¸ªç½‘ç»œä¸­æ‰€æœ‰çš„è®¡ç®—éƒ½å¯ä»¥å…±äº« ã€‚ Position sensitive poolingï¼š ROI Pooling ä¸­çš„æ¯ä¸€ä¸ªç½‘æ ¼éƒ½æ¥è‡ªå‰é¢ position-sensitive score mapsä¸­ä¸åŒç»„é€šé“çš„ feature mapã€‚è¿™ä¸ªè·Ÿåˆ†ç»„å·ç§¯çš„æ„æ€æœ‰ç‚¹åƒï¼Œè¿™ä¸ªå¯ä»¥å«åšåˆ†ç»„ROIæ± åŒ–ã€‚æ˜¯ä¸€ç§é€‰æ‹©æ€§ROIæ± åŒ–ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¢žå¼ºå¯¹ä½ç½®çš„æ•æ„Ÿç¨‹åº¦ã€‚ Light-head RCNNä¸ç®¡æ˜¯ Faster R-CNNè¿˜æ˜¯ R-FCN åœ¨ ROI(Region of Interest) ç”Ÿæˆå‰åŽéƒ½æ˜¯è®¡ç®—é‡å¾ˆå¤§çš„ï¼Œæ¯”å¦‚ Faster R-CNN çš„headéƒ¨åˆ†åŒ…å«ä¸¤ä¸ªå…¨è¿žæŽ¥å±‚ç”¨äºŽROI åˆ†ç±»ï¼Œè€Œå…¨è¿žæŽ¥å±‚æžå¤§åœ°æ¶ˆè€—è®¡ç®—ï¼›R-FCNè™½ç„¶æ¯” Faster R-CNNå¿«è®¸å¤šï¼Œä½†æ˜¯ç”±äºŽç”Ÿæˆçš„ score mapså¤ªå¤šï¼Œæƒ³è¦è¾¾åˆ°å®žæ—¶ï¼ˆ30FPS, Frame Per Secondï¼‰è¿˜æ˜¯æœ‰ç‚¹å›°éš¾çš„ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äº›æ¨¡åž‹ä¹‹æ‰€ä»¥é€Ÿåº¦æ…¢çš„åŽŸå› åœ¨äºŽè®¡ç®—é‡è¿‡äºŽç¹é‡çš„ headéƒ¨åˆ† (heavy-head design )ï¼Œå³ä¾¿æ˜¯å°† baseéƒ¨åˆ†å‰Šå‡åŽ‹ç¼©ï¼Œè®¡ç®—æ¶ˆè€—ä¹Ÿä¸èƒ½å¾ˆå¤§ç¨‹åº¦çš„å‰Šå‡ã€‚ æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„ä¸¤æ­¥æ£€æµ‹æ¨¡åž‹ï¼Œ Light-Head RCNN ï¼Œä¸ºäº†è§£å†³çŽ°åœ¨çš„ä¸¤æ­¥æ£€æµ‹æ™®éå­˜åœ¨çš„ heavy-headçš„é—®é¢˜ã€‚åœ¨æœ¬æ–‡æ¨¡åž‹çš„è®¾è®¡ä¸­ä½¿ç”¨äº†thin feature map å’Œ cheap R-CNN subnet (pooling and single fully-connected layer)ï¼Œæ˜¯å¯¹R-FCNçš„æ”¹è¿›ã€‚ æ”¹è¿›ï¼š å¼•è¿›inception V3ä¸­å¯åˆ†ç¦»å·ç§¯çš„æ€æƒ³ï¼Œä½œè€…é‡‡ç”¨large separable convolutionç”Ÿæˆchannelæ•°æ›´å°‘çš„feature map(ä»Ž3969å‡å°‘åˆ°490)ã€‚ ç”¨FCå±‚ä»£æ›¿äº†R-FCNä¸­çš„global average poolï¼Œé¿å…ç©ºé—´ä¿¡æ¯çš„ä¸¢å¤±ã€‚ å‚è€ƒèµ„æ–™ï¼š https://zhuanlan.zhihu.com/p/33158548 Mask R-CNNåœ¨fatser rcnnçš„åŸºç¡€ä¸Šå¯¹ROIæ·»åŠ ä¸€ä¸ªåˆ†å‰²çš„åˆ†æ”¯ï¼Œé¢„æµ‹ROIå½“ä¸­å…ƒç´ æ‰€å±žåˆ†ç±»ï¼Œä½¿ç”¨FCNè¿›è¡Œé¢„æµ‹ï¼› å…·ä½“æ­¥éª¤ï¼šä½¿ç”¨fatser rcnnä¸­çš„rpnç½‘ç»œäº§ç”Ÿregion proposalï¼ˆROIï¼‰ï¼Œå°†ROIåˆ†ä¸¤ä¸ªåˆ†æ”¯ï¼šï¼ˆ1ï¼‰fatser rcnnæ“ä½œï¼Œå³ç»è¿‡ROI pooling è¾“å…¥fcè¿›è¡Œåˆ†ç±»å’Œå›žå½’ï¼›ï¼ˆ2ï¼‰maskæ“ä½œï¼Œå³é€šè¿‡ROIAlignæ ¡æ­£ç»è¿‡ROI Poolingä¹‹åŽçš„ç›¸åŒå¤§å°çš„ROIï¼Œç„¶åŽåœ¨ç”¨fcnè¿›è¡Œé¢„æµ‹ï¼ˆåˆ†å‰²ï¼‰ã€‚ ROIAlignäº§ç”Ÿçš„åŽŸå› ï¼šRoI Poolingå°±æ˜¯å°†åŽŸå›¾ROIåŒºåŸŸæ˜ å°„åˆ°feature mapä¸Šï¼Œæœ€åŽpoolingåˆ°å›ºå®šå¤§å°çš„åŠŸèƒ½ã€‚å½“æŠŠåŽŸå›¾ä¸Šçš„ROI æ˜ å°„åˆ° feature mapä¸Šæ—¶ï¼Œå­˜åœ¨å½’ä¸€åŒ–æˆ–è€…é‡åŒ–ï¼ˆå³å–æ•´ï¼‰çš„è¿‡ç¨‹ã€‚åœ¨å½’ä¸€åŒ–çš„è¿‡ç¨‹å½“ä¸­ï¼Œç”±äºŽå­˜åœ¨å¤šæ¬¡é‡åŒ–è¿‡ç¨‹ï¼ˆå·ç§¯æ­¥é•¿ï¼Œæ± åŒ–ï¼‰ï¼Œä¼šå­˜åœ¨ROIä¸Žæå–åˆ°çš„ç‰¹å¾ä¸å¯¹å‡†çš„çŽ°è±¡å‡ºçŽ° ä¹Ÿå°±æ˜¯feature mapä¸Šçš„ROIå†æ˜ å°„ä¼šåŽŸå›¾æ—¶ä¼šè·ŸåŽŸæ¥çš„ROIå¯¹ä¸å‡†ï¼Œç”±äºŽåˆ†ç±»é—®é¢˜å¯¹å¹³ç§»é—®é¢˜æ¯”è¾ƒé²æ£’ï¼Œæ‰€ä»¥å½±å“æ¯”è¾ƒå°ã€‚ä½†æ˜¯è¿™åœ¨é¢„æµ‹åƒç´ çº§ç²¾åº¦çš„æŽ©æ¨¡æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªéžå¸¸çš„å¤§çš„è´Ÿé¢å½±å“ã€‚ä½œè€…å°±æå‡ºäº†è¿™ä¸ªæ¦‚å¿µROIAlignï¼Œä½¿ç”¨ROIAlignå±‚å¯¹æå–çš„ç‰¹å¾å’Œè¾“å…¥ä¹‹é—´è¿›è¡Œæ ¡å‡†ã€‚ ROI Alignçš„æ€è·¯å¾ˆç®€å•ï¼šå–æ¶ˆé‡åŒ–æ“ä½œï¼Œä½¿ç”¨åŒçº¿æ€§æ’å€¼çš„æ–¹æ³•èŽ·å¾—åæ ‡ä¸ºæµ®ç‚¹æ•°çš„åƒç´ ç‚¹ä¸Šçš„å›¾åƒæ•°å€¼,ä»Žè€Œå°†æ•´ä¸ªç‰¹å¾èšé›†è¿‡ç¨‹è½¬åŒ–ä¸ºä¸€ä¸ªè¿žç»­çš„æ“ä½œï¼Œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å…·ä½“çš„ç®—æ³•æ“ä½œä¸Šï¼ŒROI Alignå¹¶ä¸æ˜¯ç®€å•åœ°è¡¥å……å‡ºå€™é€‰åŒºåŸŸè¾¹ç•Œä¸Šçš„åæ ‡ç‚¹ï¼Œç„¶åŽå°†è¿™äº›åæ ‡ç‚¹è¿›è¡Œæ± åŒ–ï¼Œè€Œæ˜¯é‡æ–°è®¾è®¡äº†ä¸€å¥—æ¯”è¾ƒä¼˜é›…çš„æµç¨‹ï¼Œå¦‚ å›¾ æ‰€ç¤ºï¼š éåŽ†æ¯ä¸€ä¸ªå€™é€‰åŒºåŸŸï¼Œä¿æŒæµ®ç‚¹æ•°è¾¹ç•Œä¸åšé‡åŒ–ã€‚ å°†å€™é€‰åŒºåŸŸåˆ†å‰²æˆk x kä¸ªå•å…ƒï¼Œæ¯ä¸ªå•å…ƒçš„è¾¹ç•Œä¹Ÿä¸åšé‡åŒ–ã€‚ åœ¨æ¯ä¸ªå•å…ƒä¸­è®¡ç®—å›ºå®šå››ä¸ªåæ ‡ä½ç½®ï¼Œç”¨åŒçº¿æ€§å†…æ’çš„æ–¹æ³•è®¡ç®—å‡ºè¿™å››ä¸ªä½ç½®çš„å€¼ï¼Œç„¶åŽè¿›è¡Œæœ€å¤§æ± åŒ–æ“ä½œã€‚ è¿™é‡Œå¯¹ä¸Šè¿°æ­¥éª¤çš„ç¬¬ä¸‰ç‚¹ä½œä¸€äº›è¯´æ˜Žï¼šè¿™ä¸ªå›ºå®šä½ç½®æ˜¯æŒ‡åœ¨æ¯ä¸€ä¸ªçŸ©å½¢å•å…ƒï¼ˆbinï¼‰ä¸­æŒ‰ç…§å›ºå®šè§„åˆ™ç¡®å®šçš„ä½ç½®ã€‚æ¯”å¦‚ï¼Œå¦‚æžœé‡‡æ ·ç‚¹æ•°æ˜¯1ï¼Œé‚£ä¹ˆå°±æ˜¯è¿™ä¸ªå•å…ƒçš„ä¸­å¿ƒç‚¹ã€‚å¦‚æžœé‡‡æ ·ç‚¹æ•°æ˜¯4ï¼Œé‚£ä¹ˆå°±æ˜¯æŠŠè¿™ä¸ªå•å…ƒå¹³å‡åˆ†å‰²æˆå››ä¸ªå°æ–¹å—ä»¥åŽå®ƒä»¬åˆ†åˆ«çš„ä¸­å¿ƒç‚¹ã€‚æ˜¾ç„¶è¿™äº›é‡‡æ ·ç‚¹çš„åæ ‡é€šå¸¸æ˜¯æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æ’å€¼çš„æ–¹æ³•å¾—åˆ°å®ƒçš„åƒç´ å€¼ã€‚ å‚è€ƒèµ„æ–™ï¼š è¯¦è§£ ROI Align çš„åŸºæœ¬åŽŸç†å’Œå®žçŽ°ç»†èŠ‚]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>object detection</tag>
        <tag>R-CNN</tag>
        <tag>Mask R-CNN</tag>
        <tag>å­¦ä¹ æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-R-FCN-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F7e6bc4a%2F</url>
    <content type="text"><![CDATA[è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ç§é«˜æ•ˆç®€æ´çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ R-FCN(Region-based Fully Convolutional Networks )ï¼Œä½œè€…å°†FCN(Fully Convolutional Network)åº”ç”¨äºŽ Faster R-CNNï¼Œå®žçŽ°äº†æ•´ä¸ªç½‘ç»œçš„è®¡ç®—å…±äº«ï¼Œæžå¤§çš„æé«˜äº† æ£€æµ‹é€Ÿåº¦ï¼ŒåŒæ—¶ç²¾åº¦ä¹Ÿå¯ä»¥ä¸Ž Faster R-CNNç›¸åª²ç¾Žã€‚æ–‡ç« æå‡ºä¸€ç§ position-sensitive score maps ç”¨æ¥å¹³è¡¡å¹³ç§»ä¸å˜æ€§(translation-invariance )å’Œå¹³ç§»å¯å˜æ€§(translation-variance )ä¹‹é—´çš„çŸ›ç›¾ï¼Œæ¨¡åž‹ä½¿ç”¨äº† å…¨å·ç§¯çš„ ResNet ç»“æž„ï¼Œä¿è¯é«˜æ£€æµ‹ç²¾åº¦çš„åŒæ—¶ï¼Œå°†æ£€æµ‹é€Ÿåº¦æé«˜äº† 2.5~20å€ã€‚ 1 ä»Ž Faster R-CNN åˆ° R-FCNç›®å‰çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸€èˆ¬åˆ†ä¸ºä¸¤æ­¥æ£€æµ‹æ¨¡åž‹ï¼ˆR-CNNç³»åˆ—ï¼‰å’Œä¸€æ­¥æ£€æµ‹æ¨¡åž‹ï¼ˆYOLOç³»åˆ—å’ŒSSDï¼‰ï¼Œä¸¤æ­¥æ£€æµ‹ç²¾åº¦é«˜ï¼Œä¸€æ­¥æ£€æµ‹é€Ÿåº¦å¿«ï¼Œå„æœ‰ä¼˜åŠ¿ã€‚å¯¹äºŽä¸¤æ­¥æ£€æµ‹æ¥è¯´ï¼Œæœ€æˆåŠŸçš„æ¨¡åž‹èŽ«è¿‡äºŽR-CNNç³»åˆ—äº†ã€‚ R-CNNç³»åˆ—çš„æ£€æµ‹æ€è·¯ä¸€èˆ¬æ˜¯ å…ˆç”Ÿæˆå€™é€‰åŒºåŸŸ region proposalsï¼Œæˆ–è€…ç§°ä¸ºæ„Ÿå…´è¶£åŒºåŸŸ ROI (Region of Interest)ï¼Œç„¶åŽé’ˆå¯¹è¿™äº› ROI ï¼ˆåŽé¢éƒ½ä½¿ç”¨ROIä¸€è¯ï¼‰è¿›è¡Œåˆ†ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´æœ¬è´¨ä¸Šä»–æ˜¯æŠŠç›®æ ‡æ£€æµ‹é—®é¢˜ï¼ˆObject Detectionï¼‰è½¬åŒ–æˆäº†åˆ†ç±»é—®é¢˜ï¼ˆClassificationï¼‰ï¼Œä¸è¿‡å®žé™…ä¸Šä¹Ÿæ˜¯åŒ…å«å›žå½’çš„ï¼Œä¸»è¦ç”¨äºŽä½ç½®ç²¾ä¿®ï¼Œæå‡å‡†ç¡®çŽ‡ã€‚ å¦‚æžœä¸è€ƒè™‘ç”ŸæˆROIçš„éƒ¨åˆ†ï¼ˆæ¯”å¦‚RPNï¼ŒRegion Proposal Networkï¼‰ï¼Œä¸¤æ­¥æ£€æµ‹æ¨¡åž‹å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†å­ç½‘ç»œï¼ˆsubnetworks ï¼‰ï¼š ç¬¬ä¸€éƒ¨åˆ†æ˜¯å…±äº«è®¡ç®—çš„å…¨å·ç§¯åŸºç¡€å­ç½‘ç»œ baseï¼Œæˆ–ç§°bodyï¼Œtrunk ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯ä¸ŽROIç‹¬ç«‹çš„ï¼Œä¸»è¦ç”¨äºŽæå–ç‰¹å¾ ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸å…±äº«è®¡ç®—çš„å­ç½‘ç»œ headï¼Œç”Ÿæˆçš„æ¯ä¸€ä¸ªROIéƒ½è¦ç»è¿‡headéƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºŽåˆ†ç±» è¿™ä¸ªè®¾è®¡æ‹“æ‰‘ç»“æž„å®žé™…ä¸Šæ˜¯è·Ÿç»å…¸çš„ç”¨äºŽåˆ†ç±»çš„å·ç§¯ç¥žç»ç½‘ç»œå¾ˆåƒçš„ï¼Œæ¯”å¦‚ç”¨äºŽåˆ†ç±»çš„å·ç§¯ç¥žç»ç½‘ç»œå‰é¢ä¸€éƒ¨åˆ†æ˜¯ç”¨äºŽç‰¹å¾æå–çš„åŸºç¡€ç½‘ç»œï¼ŒåŽé¢æ˜¯ç”¨äºŽåˆ†ç±»çš„å…¨è¿žæŽ¥å±‚ï¼Œä»Žå·ç§¯å±‚åˆ°å…¨è¿žæŽ¥å±‚ä¸­é—´é€šè¿‡ä¸€ä¸ªç©ºé—´æ± åŒ–å±‚è¿žæŽ¥ã€‚è€Œåœ¨ç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸­ï¼Œbaseä¸Žheadéƒ¨åˆ†ä¹‹é—´ä½¿ç”¨çš„æ˜¯ ROI æ± åŒ–ã€‚ 1.1 Faster R-CNNé¦–å…ˆå›žé¡¾ä¸€ä¸‹Faster R-CNNï¼š æœ€åˆçš„ Faster R-CNNçš„base éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯VGGçš„å·ç§¯å±‚ï¼Œheadæ˜¯ç”±å…¨è¿žæŽ¥å±‚æž„æˆçš„ï¼Œå¦‚å›¾1(a). åŽæ¥çš„ä½¿ç”¨ResNetç½‘ç»œåšbaseéƒ¨åˆ†çš„ Faster R-CNN, å®ƒçš„headæ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ ResNet ä¸­ çš„ ç¬¬5ä¸ª å·ç§¯blockï¼Œä¹Ÿå°±æ˜¯ Conv5ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…¨è¿žæŽ¥å±‚ã€‚è¿™ä¸ªè·Ÿæœ€åˆæå‡ºçš„ ä»¥VGGä¸ºç‰¹å¾æå–å±‚çš„ Faster R-CNNä¸å¤ªä¸€æ ·ã€‚å¦‚å›¾1(b)ã€‚ è¿™ä¸¤ç§ç»“æž„ï¼Œç”Ÿæˆçš„æ¯ä¸€ä¸ªROIéƒ½ä¼šç»è¿‡headéƒ¨åˆ†ï¼Œheadéƒ¨åˆ†æ˜¯ä¸èƒ½å…±äº«è®¡ç®—çš„ã€‚è¿™ä¹Ÿæ˜¯ Faster R-CNNé€Ÿåº¦æ…¢çš„åŽŸå› ä¹‹ä¸€ï¼Œå…¶ä»–çš„æ¯”å¦‚ ç”Ÿæˆçš„ROIæ•°é‡ç­‰ä¹Ÿæ˜¯å½±å“é€Ÿåº¦çš„å› ç´ ï¼Œè¿™é‡Œä¸è®¨è®ºã€‚ (a) Head of Faster R-CNN - VGG (b) Head of Faster R-CNN -ResNet 101 å›¾1 Faster R-CNNçš„ä¸¤ç§ç»“æž„ å®žé™…ä¸Š åŽæ¥çš„å¯¹äºŽå›¾ç‰‡åˆ†ç±»æ•ˆæžœæ¯”è¾ƒå¥½çš„ä¸€äº›ç½‘ç»œæ¯”å¦‚ GoogLeNetï¼ŒResNetéƒ½æ˜¯å±žäºŽå…¨å·ç§¯ç½‘ç»œçš„ï¼Œä»–ä»¬çš„ç»“æž„ä¸€èˆ¬éƒ½æ˜¯å°†ä¸€å †æŒ‰ç…§ç‰¹å®šç»“æž„æŽ’åˆ—çš„å·ç§¯å±‚å †åœ¨ä¸€èµ·ï¼Œæœ€åŽä¸€ä¸ªfeature mapç»è¿‡ä¸€ä¸ªå…¨å±€å¹³å‡å€¼æ± åŒ–ï¼Œç„¶åŽä¸ºäº†ä½¿è¾“å‡ºä¸Žç‰©ä½“ç±»åˆ«æ•°ï¼ˆimagenetï¼ŒC=1000ï¼‰ç›¸ç­‰æ‰ä¼šåŠ ä¸€ä¸ª 1000å±‚çš„å…¨è¿žæŽ¥å±‚ï¼Œæœ€åŽåŠ ä¸Šsoftmaxå±‚ã€‚ ä¹‹å‰è®²è¿‡FCNï¼ˆFully Convolution Networkï¼‰, å¯¹äºŽFaster R-CNNæ¥è¯´å®ƒçš„RPNéƒ¨åˆ†å·²ç»æ˜¯å…¨å·ç§¯äº†ï¼Œé‚£å¾ˆè‡ªç„¶çš„ä¼šæƒ³åˆ° ä»¥ ResNet 101 å®žçŽ°çš„ Faster R-CNN çš„ headéƒ¨åˆ† èƒ½ä¸èƒ½ä¹Ÿä½¿ç”¨FCNã€‚å¦‚æžœä½¿ç”¨FCNçš„è¯ï¼Œæœ€åŽä¸€ä¸ªå·ç§¯å±‚çš„è¾“å‡ºæ˜¯ä¸€ä¸ªä»£è¡¨åŽŸå›¾çš„ heatmapï¼Œåªéœ€è¦å°† ROI æ˜ å°„åˆ°heatmapä¸Šï¼Œåšä¸€ä¸ª ROI Pool ï¼Œ ç„¶åŽå¯¹æœ€åŽä¸€ä¸ªå·ç§¯å±‚ä¸Šçš„ROIåŒºåŸŸ åšä¸€ä¸ªå…¨å±€å¹³å‡å€¼æ± åŒ–ï¼Œåƒä¸‹é¢å›¾2è¿™æ ·ï¼Œchannel=Cå¯¹åº”äºŽä¸åŒçš„ç±»åˆ«ã€‚ è¿™æ ·çš„è¯åŸºæœ¬ä¸Šæ‰€æœ‰çš„è®¡ç®—é‡éƒ½èƒ½å¤Ÿå…±äº«ï¼ŒåŽé¢æ¯ä¸ªROIç»è¿‡çš„éƒ½æ˜¯æ± åŒ–å±‚ï¼Œè€Œæ± åŒ–å±‚ä¸Žå·ç§¯å±‚å’Œå…¨è¿žæŽ¥å±‚ç›¸æ¯”è®¡ç®—é‡å¤§å¤§å‡å°‘ï¼Œå‡ ä¹Žå¯ä»¥å¿½ç•¥ã€‚ å›¾2 ä¸€ç§å¯è¡Œçš„å…¨å·ç§¯æ–¹æ¡ˆ ä½†å®žé™…ä¸Šé€šè¿‡å®žéªŒéªŒè¯è¿™ä¹ˆåšçš„æ•ˆæžœå¾ˆå·®ï¼Œç»“æžœå¦‚ä¸‹ï¼š ç¬¬ä¸‰è¡Œå°±æ˜¯ ä¸Šé¢çš„ç»“æž„ï¼ŒmAPé‚£ä¸€æ å†™ç€ fail ï¼Œä¸åŠæ ¼ï¼Œåº”è¯¥æ˜¯è¿ž60 %éƒ½æ²¡åˆ°ã€‚è¿™ä¸ªè¡¨åœ¨ç¬¬2èŠ‚è¯•éªŒéƒ¨åˆ†è¯¦ç»†ä»‹ç»ã€‚ è¿™ä¸ªåŽŸå› æ–‡ç« ä¸­ä¹Ÿåˆ†æžäº†ï¼š å¹³ç§»ä¸å˜æ€§ translation invariance æ˜¯æ·±å±‚CNNçš„ç‰¹ç‚¹ï¼Œè¿™å¯¹äºŽå›¾åƒåˆ†ç±»é—®é¢˜æ¥è¯´æ˜¯å¾ˆå¥½çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå› ä¸ºå›¾åƒåˆ†ç±»ä¸ç®¡ä½ ç‰©ä½“åœ¨å“ªä¸ªä½ç½®éƒ½è¦æ±‚è¾ƒé«˜çš„å‡†ç¡®æ€§ã€‚ä½†æ˜¯å¯¹äºŽç›®æ ‡æ£€æµ‹æ¥è¯´ï¼Œä¸ä»…è¦æ£€æµ‹å‡ºå›¾ä¸Šæœ‰ä»€ä¹ˆï¼Œè¿˜éœ€è¦å®šä½å‡ºç‰©ä½“åœ¨å›¾ç‰‡ä¸Šçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ç›®æ ‡æ£€æµ‹éœ€è¦ å¹³ç§»å¯å˜æ€§ translation variance ã€‚å›¾2çš„æ–¹æ¡ˆä¸­ï¼Œ ä¸å˜æ€§ä¸Žå¯å˜æ€§æ˜¯ä¸€å¯¹ç›¸äº’çŸ›ç›¾çš„é—®é¢˜ã€‚å› ä¸ºROIæ”¾åœ¨Conv5åŽé¢çš„heatmapä¸Šï¼Œç”±äºŽç½‘ç»œå¤ªæ·±äº†ï¼ŒåŽŸå›¾çš„å˜åŒ–å·²ç»å¾ˆéš¾åæ˜ åœ¨heatmapä¸Šäº†ã€‚æ‰€ä»¥å®ƒçš„æ•ˆæžœæ‰ä¸å¥½ã€‚ è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå›¾1 (b)ä¸­çš„ ROI æ± åŒ–å±‚ä¸æ˜¯æ”¾åœ¨ Conv5 è¾“å‡ºçš„feature mapåŽé¢ï¼Œè€Œæ˜¯æ”¾åœ¨äº†Conv4å’ŒConv5ä¸¤ç»„å·ç§¯å±‚ä¹‹é—´ï¼ŒConv5å’ŒåŽé¢çš„å…¨è¿žæŽ¥å±‚æž„æˆäº†headéƒ¨åˆ†ã€‚ä¸€æ¥å¯ä»¥é¿å…ä½ç½®ä¿¡æ¯è¿›ä¸€æ­¥æŸå¤±ï¼ŒäºŒæ¥å¯ä»¥ä½¿ç”¨åŽé¢çš„Conv5å·ç§¯å±‚å­¦ä¹ ä½ç½®ä¿¡æ¯ã€‚ä½†æ˜¯ç¼ºç‚¹å°±æ˜¯ æ¯ä¸€ä¸ªROIéƒ½è¦å†ç»è¿‡Conv5è¿™ä¸€ç»„å·ç§¯ï¼Œheadéƒ¨åˆ†çš„è®¡ç®—ä¸èƒ½å®žçŽ°å…±äº«ã€‚å›¾1 (b)å¯èƒ½ä¸å¤ªæ¸…æ¥šï¼Œå¯ä»¥çœ‹ä¸‹å›¾ï¼š å›¾ï¼Ÿ åŸºäºŽResNet çš„ Faster R-CNN è€ŒR-FCNå°±æ˜¯ç€é‡äºŽè§£å†³è¿™ä¸€é—®é¢˜çš„ï¼Œå¦‚ä½•åšåˆ°headéƒ¨åˆ†ä½¿ç”¨FCNå…±äº«è®¡ç®—çš„åŒæ—¶ï¼Œå‡†ç¡®çŽ‡ä¸ä¸‹é™ç”šè‡³æ˜¯è¶…è¿‡åŽŸæ¥ï¼Ÿ åªè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå³ä¾¿å‡†ç¡®çŽ‡ä¸æ¯”åŽŸæ¥é«˜ï¼Œé€Ÿåº¦ä¹Ÿä¼šæå‡å¾ˆå¤šã€‚å®žé™…ä¸Š R-FCNä¸ä»…æé«˜äº†é€Ÿåº¦ï¼Œå‡†ç¡®çŽ‡ä¹Ÿæé«˜äº†ã€‚ä¸‹é¢è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚ 1.2 R-FCN1.2.1 R-FCNçš„æ•´ä½“ç»“æž„ å›¾3 R-FCN ç»“æž„å›¾ ç½‘ç»œä»ç„¶æ˜¯åŒ…å«ä¸¤éƒ¨åˆ†ï¼š region proposal region classification ç½‘ç»œä½¿ç”¨äº†ResNet-101ï¼ŒResNet-101åŒ…å«100ä¸ªå·ç§¯å±‚ï¼Œä¸€ä¸ªå…¨å±€å¹³å‡å€¼æ± åŒ–å±‚ï¼Œå’Œä¸€ä¸ª1000ç»´çš„å…¨è¿žæŽ¥å±‚ã€‚æœ¬æ–‡åŽ»æŽ‰äº†æœ€åŽçš„å…¨å±€å¹³å‡å€¼æ± åŒ–å±‚å’Œå…¨è¿žæŽ¥å±‚ï¼Œæœ€åŽåŠ ä¸Šäº†ä¸€ä¸ª1024ä¸ª 1Ã—1 å·ç§¯æ ¸çš„å·ç§¯å±‚ç”¨ä»¥é™ç»´ï¼ˆå°†Conv5è¾“å‡ºçš„2048ç»´é™ä¸º1024ç»´ï¼‰ã€‚ çœ‹èµ·æ¥è·Ÿ å›¾2 å¥½åƒå·®ä¸å¤šï¼Œä½†å…¶å®žæ˜¯å¾ˆä¸ä¸€æ ·çš„ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºŽ R-FCN æ”¹å˜äº† ROI Poolingçš„ä½¿ç”¨æ–¹æ³•ï¼Œç§°ä¸º Position-Sensitive ROI Poolingï¼Œä½ç½®æ•æ„Ÿçš„ROIæ± åŒ–ï¼Œç®€ç§°PS ROI Poolingï¼Œè¿™æ˜¯ä¸ºäº†å¢žåŠ å¹³ç§»å¯å˜æ€§è€Œå¼•å…¥çš„ç»“æž„ ã€‚ 1.2.2 Position-Sensitive ROI Pooling å›¾4 Position-Sensitive ROI Pooling æ–‡ç« è®¾è®¡äº†ä¸€ä¸ª position-sensitive score maps ï¼Œåšæ³•å…¶å®žå¾ˆç®€å•å°±æ˜¯é€šè¿‡è°ƒæ•´Conv5çš„å·ç§¯æ ¸æ•°é‡ï¼Œä½¿å¾—è¾“å‡ºçš„é€šé“å˜ä¸ºï¼š $k^2(C+1)$ ä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªç±»åˆ«éƒ½ç”¨ $k^2$ ä¸ªé€šé“çš„feature mapæ¥è¡¨ç¤ºï¼Œå›¾ä¸­ä¸åŒçš„é¢œè‰²å°±ä»£è¡¨ä¸€ç»„ $C+1$ é€šé“çš„ feature mapã€‚ $kÃ—k$ ä»£è¡¨ROIæ± åŒ–çš„ç½‘æ ¼å¤§å°ï¼Œä»¥ $k=3$ ä¸ºä¾‹ ã€‚å›¾ä¸­æœ€åŽé‚£ä¸ªç”±ä¸åŒé¢œè‰²ç»„æˆçš„ $C+1$ é€šé“çš„ kÃ—k çš„ feature map å°±æ˜¯ä½¿ç”¨ Position-Sensitive Poolingå¾—åˆ°çš„ã€‚æœ€åŽä¸€ä¸ªPS ROI Poolingä¹‹åŽçš„feature mapï¼ˆ9ä¸ªæ ¼ç‚¹ï¼Œæ¯ä¸ªæ ¼ç‚¹é¢œè‰²éƒ½ä¸ä¸€æ ·ï¼‰ä¸­çš„æ¯ä¸€ä¸ªç½‘æ ¼éƒ½æ¥è‡ªå‰é¢ position-sensitive score mapsä¸­ä¸åŒç»„çš„ feature mapï¼Œæ ¹æ®é¢œè‰²ä¸€ä¸€å¯¹åº”ã€‚è¿™ä¸ªè·Ÿåˆ†ç»„å·ç§¯çš„æ„æ€æœ‰ç‚¹åƒï¼Œè¿™ä¸ªå¯ä»¥å«åšåˆ†ç»„ROIæ± åŒ–ã€‚åŽŸæ–‡ç§°ä¸º é€‰æ‹©æ€§æ± åŒ–ï¼šour position-sensitive RoI layer conducts selective pooling, and each of the k Ã— k bin aggregates responses from only one score map out of the bank of k Ã— k score maps. æœ€åŽé‚£ä¸ª é¢œè‰²æ··åˆçš„ feature map ä¸­æ¯ä¸€ä¸ªç½‘æ ¼éƒ½æ˜¯å¯¹åº”ç€ä¸åŒçš„ä½ç½®ä¿¡æ¯çš„ï¼Œæ¯”å¦‚ {top-left, top-center,top-right, â€¦, bottom-right} ã€‚éšç€å­¦ä¹ è¿‡ç¨‹çš„æ·±å…¥ï¼Œå¯¹åº”çš„position-sensitive score mapsä¸­ä¸åŒç»„çš„ï¼ˆä¸åŒé¢œè‰²çš„ï¼‰feature map çš„æ¿€æ´»å€¼å°±ä¼šå¯¹ç›®æ ‡çš„ä¸åŒä½ç½®æ•æ„Ÿï¼Œä»Žè€Œäº§ç”Ÿå¯¹ä½ç½®æ•æ„Ÿçš„æ¿€æ´»ã€‚å¯¹ç›®æ ‡çš„ä½ç½®å®žçŽ°ç¼–ç ï¼ˆè§å›¾5ï¼Œå›¾6ï¼‰ã€‚åŽŸæ–‡ï¼šWith end-to-end training, this RoI layer shepherds the last convolutional layer to learn specialized position-sensitive score maps. voteæ“ä½œå…¶å®žå°±æ˜¯ä¸€ä¸ªå…¨å±€å¹³å‡å€¼æ± åŒ–ï¼Œç”Ÿæˆä¸€ä¸ª C+1 ç»´çš„å‘é‡ï¼Œè¿™ä¸ªå‘é‡å°±å¯ä»¥ç”¨äºŽåˆ¤æ–­å½“å‰ROIæ˜¯ä»€ä¹ˆç±»åˆ«ã€‚ ä¹Ÿå®žçŽ°äº†æ‰€æœ‰çš„è®¡ç®—é‡éƒ½èƒ½å¤Ÿå…±äº«ï¼ŒåŽé¢æ¯ä¸ªROIç»è¿‡çš„éƒ½æ˜¯æ± åŒ–å±‚ï¼Œè€Œæ± åŒ–å±‚ä¸Žå·ç§¯å±‚å’Œå…¨è¿žæŽ¥å±‚ç›¸æ¯”è®¡ç®—é‡å¤§å¤§å‡å°‘ï¼Œå‡ ä¹Žå¯ä»¥å¿½ç•¥ã€‚ å®žé™…è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯äººä¸ºç»™ç½‘ç»œè®¾å®šä¸€äº›æ¨¡å¼å’ŒæœŸæœ›çš„ç»“æžœï¼Œç„¶åŽè®©ç½‘ç»œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è‡ªå·±å®Œæˆã€‚å°±ç›¸å½“äºŽè€å¸ˆä¸¢ç»™ä½ ä¸€é“å¾ˆéš¾çš„ç«žèµ›é¢˜ï¼Œåªå‘Šè¯‰äº†ä½ ç­”æ¡ˆï¼Œä½†ä¸å‘Šè¯‰ä½ æ€Žä¹ˆåšï¼Œä½ è¦åšçš„å°±æ˜¯ç»žå°½è„‘æ±æ‰¾åˆ°è§£é¢˜æ–¹æ³•ã€‚è¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªå¯¹ä½ç½®æ•æ„Ÿï¼Œæ˜¯äººä¸ºåœ°å¸Œæœ›feature mapå¯¹ä½ç½®æ•æ„Ÿã€‚è‡³äºŽä¸ºä»€ä¹ˆä¼šæ•æ„Ÿï¼Œæ˜¯ç½‘ç»œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ åˆ°çš„ã€‚ æ–‡ç« ä¹Ÿç»™å‡ºäº†ä¸€äº›å¯è§†åŒ–çš„å›¾æ¥è§£é‡Šï¼Œå¦‚å›¾5ï¼Œå›¾6ï¼š å›¾5 ä¸€ä¸ªæ­£æ ·æœ¬çš„å¯è§†åŒ– å›¾6 ä¸€ä¸ªè´Ÿæ ·æœ¬çš„å¯è§†åŒ– å¯ä»¥çœ‹åˆ°ï¼Œä»¥ k=3 ä¸ºä¾‹ï¼Œè¿™9ä¸ª position-sensitive score mapsçš„æ¿€æ´»å€¼ç¡®å®žæ˜¯å¯¹ä½ç½®æ•æ„Ÿçš„ï¼Œè€Œä¸”å¦‚æžœ æŸä¸€ä¸ªROIå¦‚æžœä¸Ž ground truth çš„IOU æ¯”è¾ƒå¤§çš„è¯ï¼Œæœ€åŽçš„æŠ•ç¥¨ç»“æž„æ˜¯yesï¼ˆå›¾5ï¼‰ï¼Œå¦è€…æ˜¯noï¼ˆå›¾6ï¼‰ã€‚ è¿™ä¸ªä¸Žå›¾2 çš„ç»“æž„çš„ä¸åŒä¹‹å¤„åœ¨å“ªå‘¢? å›¾2 ä¸­é‚£ä¸ª channe=C+1 çš„feature mapç›¸å½“äºŽ å›¾4 ä¸­ $k^2$ ç»„feature mapä¸­çš„ä¸€ç»„ï¼Œä¹Ÿå°±æ˜¯å…¶ä¸­ä¸€ä¸ªé¢œè‰²ã€‚å›¾2ä¸­æœ€åŽROIæ± åŒ–åŽçš„feature mapä¸­çš„æ¯ä¸ªåƒç´ éƒ½æ˜¯æ¥è‡ªä¸Šä¸€å±‚çš„åŒä¸€ç»„feature mapï¼Œè€Œå›¾4æ˜¯æ¥è‡ªä¸åŒç»„ã€‚ å°±è¿™ä¹ˆä¸€ç‚¹å·®åˆ«ï¼Œå…¶ä»–åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å°±è¿™ä¹ˆä¸€ç‚¹å·®åˆ«ï¼Œå¯¼è‡´ R-FCNå¯ä»¥åšåˆ° ç²¾åº¦ï¼Œé€Ÿåº¦éƒ½æœ‰æé«˜ã€‚ æ± åŒ–æ—¶çš„å…¬å¼è¡¨è¾¾ï¼š ä¸Šå¼æ¯”è¾ƒæŠ½è±¡ï¼Œå®žé™…ä¸Šè¡¨è¾¾çš„å°±æ˜¯ ROIæ± åŒ–ï¼Œå¦‚ä¸‹å›¾ï¼Œè¡¨ç¤ºæŸä¸€ç»„ score map ä¸­çš„ç¬¬cä¸ªç±»åˆ«çš„æ± åŒ–ï¼š å›¾7 æŸä¸€ç»„ score map ä¸­çš„ç¬¬cä¸ªç±»åˆ«çš„æ± åŒ– å›¾8 ROI æ± åŒ– å°†æ¯ä¸ªROIéƒ½åˆ†ä¸º $kÃ—k$ å¤§å°çš„ç½‘æ ¼ï¼Œå¯¹äºŽæŸä¸ª $wÃ—h$ å¤§å°çš„ ROIï¼Œæ¯ä¸€ä¸ªæ ¼ç‚¹çš„å¤§å°çº¦ä¸º $\dfrac{w}{k} Ã— \dfrac{h}{k}$ ï¼Œå¯¹äºŽæœ€åŽä¸€ä¸ªå·ç§¯å±‚çš„ $k^2$ ç»„score feature mapï¼ŒPS ROI Pooling ä¹‹åŽçš„feature mapä¸Šçš„ $(i, j)$ $(0 â‰¤ i, j â‰¤ k - 1)$ä½ç½®å¤„çš„æ ¼ç‚¹çš„åƒç´ å€¼ä¹Ÿæ˜¯ç”±ä¸Šä¸€å±‚çš„position-sensitive score feature mapçš„å¯¹åº”é€šé“ä¸­çš„ $(i, j)$ æ ¼ç‚¹ä¸­çš„å¤šä¸ªåƒç´ å€¼æ± åŒ–å¾—åˆ°çš„ï¼ˆå›¾4ä¸­ä¸€ä¸€å¯¹åº”çš„é¢œè‰²å—ï¼‰ã€‚ ä¸Šå¼ï¼š $r_c(iï¼Œ j)$ æ˜¯ $(i, j)$ æ ¼ç‚¹å¤„ç¬¬cä¸ªç±»åˆ«çš„å“åº”å€¼æˆ–è€…æ˜¯æ± åŒ–è¾“å‡ºå€¼ï¼› $z_{i,j,c}$ æ˜¯ score map ä¸­å¯¹åº”ç»„çš„ $(i, j)$ æ ¼ç‚¹ä¸­çš„ï¼Œç¬¬cä¸ªç±»åˆ«çš„ï¼Œå¤šä¸ªåƒç´ å€¼ä¹‹ä¸€ï¼› $(x_0, y_0)$ æ˜¯ROIçš„å·¦ä¸Šè§’åœ¨å›¾ç‰‡ä¸­çš„åæ ‡ï¼› n æ˜¯ score map ä¸­å¯¹åº”ç»„çš„ $(i, j)$ æ ¼ç‚¹ä¸­çš„åƒç´ æ€»æ•° $Î˜$ æ˜¯ç½‘ç»œçš„å­¦ä¹ å‚æ•°ï¼› score map ä¸­ $(i, j)$ ä½ç½®å¤„çš„æ ¼ç‚¹ä¸­çš„åæ ‡è·¨åº¦ä¸ºï¼š $\lfloor i {w \over k}\rfloor \le x \le \lceil (i+1){w \over k}\rceil$ å’Œ $\lfloor j {h \over k}\rfloor \le y \le \lceil (j+1){h \over k}\rceil$ ,$\lfloor \cdot \rfloor$ å’Œ $\lceil \cdot \rceil $ åˆ†åˆ«ä»£è¡¨ä¸‹ç•Œå’Œä¸Šç•Œã€‚ æœ¬æ–‡ä¸­ä¸Šå¼ä½¿ç”¨çš„æ˜¯å¹³å‡å€¼æ± åŒ–ï¼Œä½†æ˜¯æœ€å¤§å€¼æ± åŒ–ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ PS ROI Poolingä¹‹åŽçš„feature mapå†åšä¸€ä¸ªå¹³å‡å€¼æ± åŒ–ï¼Œäº§ç”Ÿä¸€ä¸ª C+1 ç»´çš„å‘é‡ï¼Œç„¶åŽè®¡ç®— softmax å›žå½’å€¼ï¼š çœ‹ä¸Šé¢çš„å…¬å¼å¥½åƒå¹¶æ²¡æœ‰åšå¹³å‡å€¼å¤„ç†ï¼Œåªæ˜¯å°†ä¸åŒç½‘æ ¼çš„åƒç´ å€¼æ±‚å’Œã€‚ åŒæ ·çš„ç½‘ç»œä¸­ä¹Ÿä½¿ç”¨äº†å›žå½’å±‚ç”¨äºŽä½ç½®ç²¾ä¿®ï¼Œä¸Ž $k^2(C+1)$ ä¸ªé€šé“çš„score mapå¹¶åˆ—ï¼Œå¦å¤–å†ä½¿ç”¨ $4k^2$ ä¸ªé€šé“çš„score mapï¼ŒåŒæ ·æ˜¯ $k^2$ ç»„ï¼Œåªä¸è¿‡æ¯ä¸€ç»„çŽ°åœ¨å˜æˆäº†4ä¸ªé€šé“ï¼Œä»£è¡¨ç€åæ ‡çš„å››ä¸ªå€¼ã€‚æœ€åŽPS ROI Poolingä¹‹åŽçš„feature mapæ˜¯ 4Ã—3Ã—3çš„ï¼Œå¹³å‡å€¼æ± åŒ–ä¹‹åŽç”Ÿæˆä¸€ä¸ª 4ç»´çš„å‘é‡ï¼Œä»£è¡¨ç€ bounding boxä½ç½®çš„å››ä¸ªå€¼ $t = (t_x,t_y,t_w,t_h)$ ,åˆ†åˆ«ä¸ºä¸­å¿ƒåæ ‡ï¼Œå’Œå®½é«˜ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ç±»åˆ«ä¸æ˜Žç¡®çš„å›žå½’(class-agnostic bounding box regression) ï¼Œä¹Ÿå°±æ˜¯å¯¹äºŽä¸€ä¸ªROIåªè¾“å‡º ä¸€ä¸ª $t$ å‘é‡ï¼Œç„¶åŽä¸Žåˆ†ç±»çš„ç»“æžœç»“åˆã€‚å®žé™…ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨ç±»åˆ«æ˜Žç¡®çš„å›žå½’(class-specific ) ï¼Œè¿™ç§å›žå½’æ–¹å¼å¯¹ä¸€ä¸ª ROI è¾“å‡º Cä¸ª $t$ å‘é‡ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ç±»åˆ«éƒ½è¾“å‡ºä¸€ä¸ªä½ç½®å‘é‡ï¼Œè¿™è·Ÿåˆ†ç±»æ—¶æ¯ä¸€ä¸ªç±»åˆ«éƒ½è¾“å‡ºä¸€ä¸ªæ¦‚çŽ‡æ˜¯ç›¸å¯¹çš„ã€‚ 1.2.3 è®­ç»ƒ(Training )æŸå¤±å‡½æ•°åŸºæœ¬ä¸ŽFaster R-CNNæ˜¯ä¸€æ ·çš„ï¼š $c^âˆ—$ æ˜¯RoIçš„ ground-truth label ($c^âˆ— = 0$ æ„å‘³ç€æ˜¯èƒŒæ™¯). $L_{cls}(s_{c^âˆ—}) = -log(s_{c^âˆ—})$ æ˜¯ç”¨äºŽåˆ†ç±»çš„äº¤å‰ç†µæŸå¤±ï¼› $L_{reg}$ ï¼šæ˜¯bounding box å›žå½’æŸå¤± , $t^âˆ—$ ä»£è¡¨ground truth box. $[c^âˆ— &gt; 0]$ æ˜¯æŒ‡ç¤ºå‡½æ•°ï¼Œæ‹¬å·ä¸­è¡¨è¾¾å¼ä¸ºçœŸåˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ï¼› è®¾ç½® $Î» = 1$ ï¼› å®šä¹‰ æ­£æ ·æœ¬ä¸º ROIä¸Žground-truth boxçš„IOU (intersection-over-union) è‡³å°‘ä¸º0.5ï¼Œå¦åˆ™ä¸ºè´Ÿæ ·æœ¬ã€‚ è®­ç»ƒæ–¹æ³•ä¸Žå‚æ•°è®¾ç½® It is easy for our method to adopt online hard example mining (OHEM) during training. Ournegligible per-RoI computation enables nearly cost-free example mining. We use a weight decay of 0.0005 and a momentum of 0.9. By default we use single-scale training: images are resized such that the scale (shorter side of image) is 600 pixels [6, 18]. Each GPU holds 1 image and selects B = 128 RoIs for backprop. We train the model with 8 GPUs (so the effective mini-batch size is 8Ã—). We fine-tune R-FCN using a learning rate of 0.001 for 20k mini-batches and 0.0001 for 10k mini-batches on VOC. To have R-FCN share features with RPN (Figure 2), we adopt the 4-step alternating training, alternating between training RPN and training R-FCN. 1.2.4 æŽ¨ç†(Inference ) an image with a single scale of 600. During inference we evaluate 300 RoIs. The results are post-processed by non-maximum suppression (NMS) using a threshold of 0.3 IoU ï¼Œ as standard practice. 1.2.5 å¸¦å­”å·ç§¯(Ã€trous algorithme )å¸¦å­”å·ç§¯ï¼šä¸ŽFCNä¸€æ ·ï¼Œæœ¬æ–‡ä¹Ÿå°†ç½‘ç»œçš„æ•´ä½“é™é‡‡æ ·æ­¥é•¿æ”¹ä¸ºäº†16ã€‚åŽŸå…ˆResNetçš„Conv1-Conv5æ¯ä¸€ç»„éƒ½æ˜¯2å€çš„é™é‡‡æ ·ï¼Œæ€»å…±æ˜¯32å€é™é‡‡æ ·ã€‚æœ¬æ–‡ä¸­å°†Conv5çš„é™é‡‡æ ·å€æ•°æ”¹ä¸ºäº†1ï¼Œæé«˜äº†åˆ†è¾¨çŽ‡ï¼Œè¿™æ ·æ•´ä¸ªç»“æž„æ˜¯16å€çš„é™é‡‡æ ·ï¼Œä¸ºäº†å¼¥è¡¥ç”±äºŽé™é‡‡æ ·å€æ•°æ”¹åŠ¨å¯¼è‡´ç½‘ç»œåŽé¢çš„å·ç§¯å±‚çš„æ„Ÿå—é‡Žå‘ç”Ÿå˜åŒ–ï¼Œæ–‡ç« ä½¿ç”¨äº† Ã€ trous æŠ€å·§ï¼Œä¹Ÿå°±æ˜¯å¸¦å­”å·ç§¯ï¼Œä¸è¿‡å¸¦å­”å·ç§¯åªåœ¨Conv5ä¸­ä½¿ç”¨ï¼ŒConv1-Conv4ä¿æŒåŽŸæ¥çš„ä¸å˜ï¼Œå› æ­¤RPNä¸å—å½±å“ã€‚ å¸¦å­”å·ç§¯çš„è¯¦ç»†è¯´æ˜Žå‚è€ƒ 1 2 . å¸¦å­”å·ç§¯å¯¹æ•´ä¸ªæ£€æµ‹ç»“æžœçš„å½±å“è¿˜æ˜¯è›®å¤§çš„ï¼Œå¦‚ä¸‹æ˜¯ R-FCN (k Ã— k = 7 Ã— 7, no hard example mining)çš„ç»“æžœå¯¹æ¯”ï¼Œå¸¦å­”å·ç§¯æé«˜äº†2.6ä¸ªç™¾åˆ†ç‚¹ã€‚ è¡¨ï¼Ÿ å¸¦å­”å·ç§¯å¯¹æ£€æµ‹ç»“æžœçš„å½±å“ 2 è¯•éªŒ2.1 Pascal VOCè¯•éªŒæ¡ä»¶ï¼š ç±»åˆ«C=20 è®­ç»ƒé›†ï¼šVOC 2007 trainval and VOC 2012 trainval (â€œ07+12â€) æµ‹è¯•é›†ï¼šVOC 2007 test set æ€§èƒ½è¡¡é‡æŒ‡æ ‡ï¼šmean Average Precision (mAP) é¦–å…ˆå¯¹æ¯”ä¸€äº›ç”¨äºŽç›®æ ‡æ£€æµ‹çš„ ä¸åŒå…¨å·ç§¯ç½‘ç»œè®¾è®¡ç­–ç•¥ çš„ç»“æžœï¼Œä»¥ä¸‹æ˜¯ä¸€äº› ä¸åŒçš„å…¨å·ç§¯è®¾è®¡ç­–ç•¥ï¼š NaÃ¯ve Faster R-CNN. ä½¿ç”¨äº†Conv1-Conv5ä½œä¸ºbaseéƒ¨åˆ†ï¼Œç”¨äºŽç‰¹å¾æå–ï¼ŒROIç›´æŽ¥æ˜ å°„åœ¨Conv5æœ€åŽè¾“å‡ºçš„feature mapä¸Šï¼Œä¸Žå›¾2ç±»ä¼¼ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºŽï¼šROIæ± åŒ–ä¹‹åŽåŠ äº†ä¸€ä¸ª 21ç»´çš„å…¨è¿žæŽ¥å±‚ã€‚ä½¿ç”¨äº† The Ã trous æŠ€å·§ã€‚æ˜¯ä¸€ä¸ªè¿‘ä¼¼çš„å…¨å·ç§¯ç½‘ç»œã€‚ Class-specific RPN. ä¸Žæ ‡å‡†çš„Faster R-CNNä¸­ä½¿ç”¨çš„RPNç±»ä¼¼ï¼ŒRPNè®­ç»ƒæ–¹æ³•ä¹Ÿä¸€æ ·ï¼Œä¸ä¸€æ ·çš„åœ¨äºŽï¼šRPNéƒ¨åˆ†ä¸æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»åˆ«ä¸º21çš„å¤šåˆ†ç±»ã€‚ ä¸ºäº†å¯¹æ¯”å…¬å¹³ï¼ŒRPNçš„headä½¿ç”¨çš„æ˜¯ ResNet-101çš„ Conv5 å±‚ï¼Œä¹Ÿä½¿ç”¨äº†Ã trous æŠ€å·§ã€‚æ³¨æ„è¿™ä¸ªåªæ˜¯Faster R-CNNä¸­çš„RPNï¼Œæ˜¯ä¸€ä¸ªå…¨å·ç§¯ç½‘ç»œã€‚ R-FCN without position-sensitivity. åœ¨å›¾4çš„ç»“æž„ä¸­è®¾ç½®k = 1ï¼Œå°±è·Ÿå›¾2æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ROIæ± åŒ–çš„å°ºå¯¸å˜æˆäº† 1Ã—1 ï¼Œç›¸å½“äºŽå…¨å±€æ± åŒ–ã€‚ä½¿ç”¨äº†Ã trous æŠ€å·§ã€‚è¿™æ˜¯ä¸€ä¸ªå…¨å·ç§¯ç½‘ç»œã€‚ å…ˆå±•ç¤ºä¸€ä¸ª baselineçš„ç»“æžœï¼Œå¦‚è¡¨1ã€‚è¿™æ˜¯ä½¿ç”¨ ResNet101 çš„æ ‡å‡† Faster R-CNNçš„æµ‹è¯•ç»“æžœã€‚ æˆ‘ä»¬åªå…³æ³¨ä¸Žæœ¬æ–‡æœ¬èŠ‚å®žéªŒæ¡ä»¶ç›¸åŒçš„é¡¹ï¼Œä¹Ÿå°±æ˜¯çº¢è‰²æ–¹æ¡†æ¡†èµ·æ¥çš„é‚£ä¸€è¡Œã€‚å¯ä»¥çœ‹åˆ°mAPæ˜¯ 76.4%ã€‚æ ‡å‡†çš„ Faster R-CNN ç»“æž„æˆ‘ä»¬ä¸Šé¢è¯´è¿‡ï¼Œé¦–å…ˆè¿™ä¸æ˜¯ä¸€ä¸ªå…¨å·ç§¯ç½‘ç»œï¼Œå…¶æ¬¡ ROI poolingä½äºŽConv4 å’Œ Conv5ä¹‹é—´ï¼Œ head éƒ¨åˆ†æ²¡æœ‰å…±äº«è®¡ç®—ã€‚ è¡¨1 baselineï¼šä½¿ç”¨ ResNet101 çš„æ ‡å‡† Faster R-CNN ä»¥ä¸Šæåˆ°çš„ä¸‰ç§å…¨å·ç§¯è®¾è®¡ç­–ç•¥çš„ç»“æžœå¯¹æ¯”å¦‚è¡¨2ï¼š è¡¨2 ä¸åŒå…¨å·ç§¯ç½‘ç»œè®¾è®¡ç­–ç•¥ç»“æžœå¯¹æ¯” NaÃ¯ve Faster R-CNNçš„ç»“æžœæœ€é«˜åªæœ‰ 68.9%ï¼Œä¸Žæ ‡å‡† Faster R-CNNç›¸æ¯”ï¼Œè¯´æ˜Ž å°†ROI poolingæ”¾ç½®åœ¨Conv4 å’Œ Conv5ä¹‹é—´ï¼Œæ˜¯æœ‰æ•ˆä¿è¯ä½ç½®ä¿¡æ¯çš„å…³é”®ã€‚è€Œæ·±å±‚çš„å…¨å·ç§¯ç½‘ç»œæŸå¤±äº†ä½ç½®ä¿¡æ¯ï¼Œå¯¹ä½ç½®ä¸æ•æ„Ÿã€‚ Class-specific RPNçš„ç»“æžœæ˜¯67.6%ï¼Œè¿™å®žé™…ä¸Šç›¸å½“äºŽç‰¹æ®Šç‰ˆæœ¬çš„ Fast R-CNNï¼Œç›¸å½“äºŽåœ¨headéƒ¨åˆ†ä½¿ç”¨äº†sliding windowçš„ç¨ å¯†æ£€æµ‹æ–¹æ³•ã€‚ R-FCN without position-sensitivityç›´æŽ¥failï¼Œä¸åŠæ ¼ï¼Œåº”è¯¥æ˜¯è¿ž50%éƒ½ä¸åˆ°ï¼Œå› ä¸ºæ–‡ä¸­æåˆ°è¿™ç§æƒ…å†µä¸‹ç½‘ç»œä¸èƒ½æ”¶æ•›ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ç§æƒ…å†µä¸‹ï¼Œä»ŽROIä¸­æå–ä¸åˆ°ä½ç½®ä¿¡æ¯ã€‚è¿™ä¸ªè·Ÿ NaÃ¯ve Faster R-CNN çš„1Ã—1 ROIè¾“å‡ºçš„ç‰ˆæœ¬æŒºåƒçš„ï¼Œä¸ä¸€æ ·çš„æ˜¯ NaÃ¯ve Faster R-CNNä¸­åŠ äº†å…¨è¿žæŽ¥å±‚ï¼Œè€Œä¸”NaÃ¯ve Faster R-CNNæ˜¯å¯ä»¥æ”¶æ•›çš„ï¼Œåªæ˜¯ç²¾åº¦æ¯”æ ‡å‡†çš„ä½Žå¾ˆå¤šã€‚ R-FCNçš„mAPåˆ†åˆ«ä¸º 75.5å’Œ76.6ï¼Œä½¿ç”¨ 7Ã—7 ROIè¾“å‡ºæ—¶ï¼Œè¶…è¿‡äº†æ ‡å‡†çš„ Faster R-CNNã€‚ä¸ŽR-FCN without position-sensitivityç›¸æ¯” ï¼Œè¯´æ˜ŽPosition-sensitive RoI pooling èµ·ä½œç”¨äº†ï¼Œå®ƒå¯ä»¥å¯¹ä½ç½®ä¿¡æ¯è¿›è¡Œç¼–ç ã€‚ ç»è¿‡ä»¥ä¸Šçš„è¯•éªŒåˆ†æžï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šäº† R-FCN with RoI output size 7 Ã—7 çš„æ•ˆæžœæ˜¯æœ€å¥½çš„ã€‚ ä»¥ä¸‹çš„è¯•éªŒä¸­æ¶‰åŠåˆ° R-FCNçš„éƒ½é‡‡ç”¨è¿™æ ·çš„è®¾ç½®ã€‚ è¡¨3 æ˜¯ Faster F-CNN ä¸Ž R-FCN çš„ æµ‹è¯•ç»“æžœå¯¹æ¯”ï¼š è¡¨3 Faster R-CNNä¸ŽR-FCNçš„å¯¹æ¯” depth of per-RoI subnetwork æŒ‡çš„æ˜¯ headéƒ¨åˆ†çš„æ·±åº¦ï¼Œè¿™é‡ŒFaster F-CNNä½¿ç”¨çš„æ˜¯ ResNet101 ç‰ˆæœ¬çš„ï¼ŒConv5æœ‰9ä¸ªå·ç§¯å±‚ï¼Œå†åŠ ä¸€ä¸ªå…¨è¿žæŽ¥å±‚ï¼Œå…±10å±‚ã€‚è€ŒR-FCNçš„headå°±æ˜¯PS ROI Poolingå’Œå…¨å±€å¹³å‡å€¼æ± åŒ–ï¼Œæ‰€ä»¥æ·±åº¦ä¸º0ï¼› online hard example mining æ˜¯å¦ä½¿ç”¨äº†OHEMç­–ç•¥è¿›è¡Œè®­ç»ƒï¼Œè¿™ä¸ªç­–ç•¥å¹¶ä¸ä¼šé¢å¤–å¢žåŠ è®­ç»ƒæ—¶é—´ï¼Œè¿™ä¸ªè®­ç»ƒæ–¹å¼æœ‰å¾…ç ”ç©¶ã€‚ å¯ä»¥çœ‹åˆ° R-FCNä¸ç®¡æ˜¯è®­ç»ƒè¿˜æ˜¯æµ‹è¯•éƒ½è¦æ¯” Faster R-CNNå¿«å¾ˆå¤šï¼Œå¹³å‡ç²¾åº¦ä¹Ÿéƒ¨è½ä¸‹é£Žã€‚ å¾ˆæ˜Žæ˜¾çš„çœ‹åˆ°ï¼Œå½“ ROI æ•°é‡æ˜¯300æ—¶ï¼ŒFaster R-CNNè®­ç»ƒå¹³å‡ä¸€å¼ å›¾ç‰‡éœ€è¦1.5sï¼ŒR-FCNéœ€è¦0.45sï¼›è€Œå½“ROI æ•°é‡ä¸º300æ—¶ï¼ŒFaster R-CNNè®­ç»ƒå¹³å‡ä¸€å¼ å›¾ç‰‡éœ€è¦2.9sï¼ŒR-FCNéœ€è¦0.46sã€‚Faster R-CNNçš„è®­ç»ƒæ—¶é—´å— ROIæ˜¯æ•°é‡å½±å“å¾ˆå¤§ï¼Œè€ŒR-FCNå‡ ä¹Žæ²¡æœ‰å½±å“ï¼Œåªå¢žåŠ äº†0.01sã€‚è¿™ä¹Ÿæ˜¯ä½¿ç”¨å…¨å·ç§¯ï¼Œå’Œ PS ROI Pooling å¸¦æ¥çš„å¥½å¤„ã€‚ç„¶è€Œå¢žåŠ  ROI æ•°é‡å¹¶æ²¡æœ‰è‰¯å¥½çš„ç²¾åº¦æ”¶ç›Šã€‚æ‰€ä»¥åŽé¢çš„è¯•éªŒä¸­åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨çš„æ˜¯ 300ä¸ªROIã€‚ æ›´å¤šçš„æµ‹è¯•ç»“æžœï¼Œè§è¡¨4ï¼Œè¡¨5. è¡¨4 PASCAL VOC 2007æµ‹è¯•ç»“æžœå¯¹æ¯” è¡¨5 PASCAL VOC 2012æµ‹è¯•ç»“æžœå¯¹æ¯” multi-scale training ï¼šresize the image in each training iteration such that the scale is randomly sampled from {400,500,600,700,800} pixels. And still test a single scale of 600 pixels, so add no test-time cost. ä½¿ç”¨è¿™ä¸ªç­–ç•¥åŽ mAP80.5ã€‚ å¦‚æžœå…ˆåœ¨COCO æ•°æ®é›†ï¼ˆtrainval set ï¼‰ä¸Šè®­ç»ƒï¼Œç„¶åŽå† PASCAL VOCæ•°æ®é›†ä¸Š fine-tuneï¼Œå¯ä»¥èŽ·å¾— 83.6%çš„mAPã€‚ä½†æ˜¯ç²¾åº¦ä¸æ•Œä½¿ç”¨äº†å„ç§æŠ€å·§çš„ Faster R-CNN+++ã€‚ä½†ä¹Ÿä¸å·®ã€‚Faster R-CNN+++æ˜¯ResNetè®ºæ–‡ä¸­æå‡ºçš„ã€‚æ³¨æ„R-FCNå¹¶æ²¡æœ‰ä½¿ç”¨ç›¸åº”çš„æŠ€å·§ï¼Œæ¯”å¦‚ iterative box regression, context, multi-scale testing. Faster R-CNN+++è™½ç„¶ç²¾åº¦é«˜ï¼Œä½†æ˜¯é€Ÿåº¦æ…¢ï¼Œç®€ç›´è¢«R-FCN åŠæ‰“ï¼ŒR-FCNçš„0.17sæ¯”Faster R-CNN+++å¿«20å€ã€‚ è¡¨5å±•ç¤ºäº† PASCAL VOC 2012çš„æµ‹è¯•ç»“æžœï¼Œç»“è®ºåŸºæœ¬å·®ä¸å¤šï¼ŒR-FCNç²¾åº¦ç¨é€ŠFaster R-CNN+++ï¼Œé€Ÿåº¦åŠæ‰“Faster R-CNN+++ã€‚ä¸è¿‡ä¸Ž Faster R-CNNç›¸æ¯”ï¼Œç²¾åº¦è¿˜æ˜¯é«˜å‡ºå¾ˆå¤šçš„ã€‚ ResNetæ·±åº¦å¯¹æ£€æµ‹ç»“æžœçš„å½±å“è§è¡¨6ï¼š è¡¨6 ResNetæ·±åº¦å¯¹æ£€æµ‹ç»“æžœçš„å½±å“ ä»Ž50åˆ°101ï¼Œç²¾åº¦æ˜¯ä¸Šå‡çš„ï¼Œä½†æ˜¯åˆ°152å°±è¶‹äºŽé¥±å’Œäº†ã€‚ ä¸åŒçš„ region proposal æ–¹æ³•å¯¹æ£€æµ‹ç²¾åº¦çš„å½±å“ï¼Œè§è¡¨7ï¼š è¡¨7 ä¸åŒçš„ region proposal æ–¹æ³•å¯¹æ£€æµ‹ç²¾åº¦çš„å½±å“ SS: Selective Search , EB: Edge Boxes , RPNæœ€ç‰›ã€‚ 2.2 MS COCOè¿™ä¸€éƒ¨åˆ†æ˜¯ MS COCOæ•°æ®é›†ä¸Šçš„æµ‹è¯•ç»“æžœã€‚ è¯•éªŒæ¡ä»¶ï¼š æ€»ç±»åˆ«æ•° C=80; 80k train set, 40k val set, and 20k test-dev setï¼› è¯„ä»·æŒ‡æ ‡ï¼šAP@[0.5; 0.95]ï¼ŒæŒ‡çš„æ˜¯é˜ˆå€¼åœ¨0.5åˆ°0.95ä¹‹é—´çš„å¹³å‡ç²¾åº¦ï¼ˆaverage preciseï¼‰ï¼›AP@0.5ï¼ŒæŒ‡çš„æ˜¯é˜ˆå€¼ä¸º0.5çš„å¹³å‡ç²¾åº¦ï¼ˆaverage preciseï¼‰ã€‚ è®­ç»ƒæ–¹æ³•ï¼Œç›´æŽ¥æŠŠåŽŸæ–‡çš„æ¬è¿‡æ¥ï¼š We set the learning rate as 0.001 for 90k iterations and 0.0001 for next 30k iterations, with an effective mini-batch size of 8. We extend the alternating training [18] from 4-step to 5-step (i.e., stopping after one more RPN training step), which slightly improves accuracy on this dataset when the features are shared; we also report that 2-step training is sufficient to achieve comparably good accuracy but the features are not shared. è¡¨8 COCO æ•°æ®é›†ä¸Šçš„æµ‹è¯•ç»“æžœ multi-scale testing variant following ResNetâ€™s Faster R-CNN, and use testing scales of {200,400,600,800,1000} ç»“æžœä¹Ÿæ˜¯ç±»ä¼¼çš„ ç²¾åº¦ä¸æ•Œ Faster R-CNN+++ï¼Œé€Ÿåº¦åŠæ‰“Faster R-CNN+++ã€‚æ³¨æ„R-FCNå¹¶æ²¡æœ‰ä½¿ç”¨ iterative box regression, contextç­‰æŠ€å·§ã€‚ 3 æ€»ç»“æ–‡ç« ç»“åˆFaster R-CNNå’ŒFCNï¼Œæå‡ºäº†ä¸€ä¸ªç®€å•é«˜æ•ˆçš„ç½‘ç»œ R-FCNï¼Œå¯ä»¥è¾¾åˆ°ä¸Ž Faster R-CNNå‡ ä¹ŽåŒç­‰çš„ç²¾åº¦ï¼Œè€Œé€Ÿåº¦æ¯”Faster R-CNNå¿«2.5-20å€ã€‚ ä»Ž R-CNNï¼Œ Fast/er R-CNN åˆ° R-FCNï¼Œæ”¹è¿›çš„è·¯çº¿ä¸»è¦å°±æ˜¯ä¸ºäº†å®žçŽ°å…±äº«è®¡ç®—ï¼š R-CNN ï¼šROIï¼ˆRegion of Interestï¼‰ç›´æŽ¥åœ¨åŽŸå›¾ä¸Šæå–ï¼ˆä½¿ç”¨ seletive searchç®—æ³•ï¼‰ï¼Œæ¯ä¸ªROIéƒ½é€šè¿‡ baseå’Œheadè¿›è¡Œè®¡ç®—ã€‚æ¯ä¸ªROIçš„ç‰¹å¾æå–å’Œæœ€ç»ˆåˆ†ç±»éƒ½ä¸å…±äº«è®¡ç®—ã€‚ Fast R-CNN ï¼šROIç›´æŽ¥åœ¨åŽŸå›¾ä¸Šæå–ï¼ˆä½¿ç”¨ seletive searchç®—æ³•ï¼‰ï¼Œå°†ROIæ˜ å°„åˆ°baseéƒ¨åˆ†æœ€åŽä¸€ä¸ªå·ç§¯å±‚ï¼Œç„¶åŽæ¯ä¸ªROIå°±åªé€šè¿‡ head éƒ¨åˆ†ï¼Œheadç”±å‡ ä¸ªå…¨è¿žæŽ¥å±‚æž„æˆã€‚ROIä¹‹é—´çš„ç‰¹å¾æå–å…±äº«è®¡ç®—ï¼ŒROIç”Ÿæˆä¸Žbaseéƒ¨åˆ†ä¸å…±äº«è®¡ç®—ï¼ŒROIé€šè¿‡headéƒ¨åˆ†ä¹Ÿä¸å…±äº«è®¡ç®—ã€‚ Faster R-CNN ï¼šROI é€šè¿‡RPNï¼ˆRegion Proposal Networkï¼‰æå–ï¼ŒRPNä¸Žbaseå…±äº«ç‰¹å¾æå–å±‚ï¼Œå°†ROIæ˜ å°„åˆ°baseæœ€åŽä¸€ä¸ªå·ç§¯å±‚ï¼Œç„¶åŽæ¯ä¸ª ROI åªé€šè¿‡ headéƒ¨åˆ†ï¼Œheadç”±å·ç§¯å±‚ å’Œ\æˆ– å…¨è¿žæŽ¥å±‚æž„æˆã€‚ROIä¹‹é—´çš„ç‰¹å¾æå–å…±äº«è®¡ç®—ï¼ŒROI æå–ä¸Žbaseéƒ¨åˆ†å…±äº«è®¡ç®—ï¼ŒROIé€šè¿‡headéƒ¨åˆ†ä¸å…±äº«è®¡ç®—ã€‚ R-FCNï¼šROIé€šè¿‡RPNæå–ï¼Œæå–ä¹‹åŽçš„ROIä»ç„¶åªé€šè¿‡ä¸€ä¸ªç½‘ç»œï¼ˆFCNï¼‰ï¼Œå®žçŽ°è®¡ç®—å…±äº«ï¼Œåˆ†ç±»å±‚å’Œå›žå½’å±‚ç›´æŽ¥ä½œç”¨äºŽæœ€åŽä¸€ä¸ªå·ç§¯å±‚ã€‚ROIä¹‹é—´çš„ç‰¹å¾æå–å…±äº«è®¡ç®—ï¼ŒROI æå–ä¸Žbaseéƒ¨åˆ†å…±äº«è®¡ç®—ï¼ŒROIé€šè¿‡headéƒ¨åˆ†å…±äº«è®¡ç®—ã€‚æ‰€æœ‰å±‚è®¡ç®—å…±äº«ã€‚ å‚è€ƒ æ–‡ç« é“¾æŽ¥ï¼šhttps://arxiv.org/abs/1605.06409 å¸¦å­”å·ç§¯ï¼šhttp://blog.csdn.net/u012759136/article/details/52434826#t9 å¸¦å­”å·ç§¯ï¼šhttps://www.zhihu.com/question/49630217]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>R-FCN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹-SSD-Single Shot MultiBox Detector-è®ºæ–‡ç¬”è®°]]></title>
    <url>%2Farticles%2F786f1ca3%2F</url>
    <content type="text"><![CDATA[è®ºæ–‡åœ°å€ï¼šhttps://arxiv.org/abs/1512.02325æºç ï¼šhttps://github.com/weiliu89/caffe/tree/ssd è¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ä¸ªæ–°çš„ç›®æ ‡æ£€æµ‹æ¨¡åž‹SSDï¼Œè¿™æ˜¯ä¸€ç§ single stage çš„æ£€æµ‹æ¨¡åž‹ï¼Œç›¸æ¯”äºŽR-CNNç³»åˆ—æ¨¡åž‹ä¸Šè¦ç®€å•è®¸å¤šã€‚ å…¶ç²¾åº¦å¯ä»¥ä¸ŽFaster R-CNNç›¸åŒ¹æ•Œï¼Œè€Œé€Ÿåº¦è¾¾åˆ°äº†æƒŠäººçš„59FPSï¼Œé€Ÿåº¦ä¸Šå®Œçˆ† Fster R-CNNã€‚ é€Ÿåº¦å¿«çš„æ ¹æœ¬åŽŸå› åœ¨äºŽç§»é™¤äº† region proposals æ­¥éª¤ä»¥åŠåŽç»­çš„åƒç´ é‡‡æ ·æˆ–è€…ç‰¹å¾é‡‡æ ·æ­¥éª¤ã€‚ï¼ˆThe fundamental improvement in speed comes from eliminating bounding box proposals and the subsequent pixel or feature resampling stage.ï¼‰ å½“ç„¶ä½œè€…è¿˜æ˜¯ä½¿ç”¨äº†æ¯”è¾ƒå¤šçš„trickçš„ã€‚ 1 Model ç½‘ç»œæ¨¡åž‹å¦‚ä¸Šå›¾ï¼Œå‰é¢æ˜¯ä¸€ä¸ªVGGå±‚ç”¨äºŽç‰¹å¾æå–ï¼Œä¸ŽVGGçš„åŒºåˆ«æ˜¯æŠŠFC6å’ŒFC7æ¢æˆäº†å·ç§¯å±‚ï¼ŒSSDåœ¨åŽé¢åˆåŠ äº†8ä¸ªå·ç§¯å±‚ã€‚ æœ€ç»ˆç”¨äºŽé¢„æµ‹çš„æ˜¯ä»Žè¿™äº›å…·æœ‰é‡‘å­—å¡”ç»“æž„çš„å±‚ä¸­é€‰å‡ºçš„ç‰¹å®šå±‚ï¼Œè¿™äº›å±‚åˆ†åˆ«å¯¹ä¸åŒscaleï¼ˆscaleçš„å¹³æ–¹æ˜¯é¢ç§¯ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å‡è®¾ä¸è€ƒè™‘çºµæ¨ªæ¯”çš„æ—¶å€™ï¼Œboxçš„è¾¹é•¿ï¼‰å’Œä¸åŒaspect ratiosï¼ˆä¹Ÿå°±æ˜¯çºµæ¨ªæ¯”ï¼‰çš„ bounding boxè¿›è¡Œé¢„æµ‹ã€‚ bounding boxæ˜¯ detector/classifier å¯¹ default box è¿›è¡Œå›žå½’ç”Ÿæˆçš„ï¼Œè€Œ default box æ˜¯ç”±ä¸€å®šè§„åˆ™ç”Ÿæˆçš„ï¼Œè¿™é‡Œå¯ä»¥è®¤ä¸º default box æ¯”è¾ƒåƒ Faster R-CNN ä¸­çš„RPNç”Ÿæˆçš„region proposal ï¼Œä¹Ÿå°±æ˜¯ä¸¤æ­¥æ£€æµ‹æ–¹æ¡ˆä¸­å€™é€‰æ¡†çš„ä½œç”¨ã€‚ å®žé™…ä¸Šæ›´ç²¾ç¡®çš„è¯´ default box æ˜¯ä¸Ž RPN ä¸­çš„ anchor æœºåˆ¶ç±»ä¼¼çš„ï¼Œè€Œ anchor å®žé™…ä¸Šåœ¨ RPN ä¸­ ä¹Ÿå°±æ˜¯èµ·åˆ°äº†ä¸€ç§region proposals çš„ä½œç”¨ã€‚ detector/classifier ï¼ˆå›¾ä¸­æ²¡æœ‰æ˜¾ç¤ºï¼‰å¯¹è¿™äº› default box è¿›è¡Œå…³äºŽ ç±»åˆ« å’Œ ä½ç½®çš„ å›žå½’ï¼Œç„¶åŽå¾—å‡ºä¸€ä¸ªç±»åˆ«å¾—åˆ†å’Œä½ç½®åæ ‡åç§»é‡ã€‚æ ¹æ®åæ ‡åç§»é‡å¯ä»¥è®¡ç®—å‡ºbounding boxçš„ä½ç½®ï¼Œæ ¹æ®å¾—åˆ†ç¡®å®šæ­¤bounding boxé‡Œçš„ç‰©ä½“ç±»åˆ«ï¼ˆæ¯ä¸ªç±»åˆ«éƒ½åŒ…å« 8732ä¸ª bounding boxï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯èƒŒæ™¯ æˆ–è€…è¯´å…±æœ‰ 8732ä¸ªbounding boxï¼Œæ¯ä¸ªbounding box éƒ½å¯¹ä¸€ä¸ª C ç»´çš„å¾—åˆ†ï¼ŒCä¸ºç±»åˆ«æ€»æ•°ï¼‰ã€‚ æœ€åŽé€šè¿‡NMSï¼ˆéžæœ€å¤§å€¼æŠ‘åˆ¶ï¼‰è¿‡æ»¤æŽ‰èƒŒæ™¯å’Œå¾—åˆ†ä¸æ˜¯å¾ˆé«˜çš„æ¡†ï¼ˆè¿™ä¸ªæ˜¯ä¸ºäº†é¿å…é‡å¤é¢„æµ‹ï¼‰ï¼Œå¾—åˆ°æœ€ç»ˆçš„é¢„æµ‹ã€‚ ä¸Šå›¾ä¸‹åŠéƒ¨åˆ†ä¹Ÿå±•ç¤ºäº†SSDä¸ŽYOLOä¸¤ç§æ–¹æ¡ˆçš„ä¸åŒï¼Œä¸»è¦æœ‰ä¸¤ç‚¹ï¼š SSDæ˜¯åœ¨å¤šä¸ªfeature mapä¸Šè¿›è¡Œçš„å¤šå°ºåº¦ï¼ˆmulti-scaleï¼‰é¢„æµ‹ï¼ˆæ¯ä¸ªfeature mapé¢„æµ‹ä¸€ç§ scaleï¼‰ã€‚è€ŒYOLOæ˜¯åªåœ¨ä¸€ä¸ªfeature mapä¸Šè¿›è¡Œ å¤šå°ºåº¦é¢„æµ‹ã€‚ ä¸¤ç§æ–¹æ¡ˆçš„å¯¹æ¯”è¿˜å¯ä»¥ä»Žä¸‹é¢ä¸¤å¼ å›¾ä¸­å¯¹æ¯”ï¼Œè¿™å›¾æ˜¯ä»ŽFPNçš„è®ºæ–‡é‡Œæ‰¾çš„ã€‚ SSDä¸­ç”¨äºŽé¢„æµ‹çš„å±‚ä¹Ÿå°±æ˜¯ detector/classifier æ˜¯å…¨å·ç§¯çš„ï¼ˆä¸Šå›¾ä¸­æ²¡æœ‰æ˜¾ç¤ºdetectorï¼ŒåŽé¢æœ‰å›¾ç¤ºï¼‰ï¼Œè€ŒYOLOä¸­æ˜¯å…¨è¿žæŽ¥çš„ã€‚ YOLO SSD ä¸Šé¢çš„æ¨¡åž‹ç»“æž„å›¾å¯èƒ½çœ‹ç€ä¸æ¸…æ¥šï¼Œçœ‹ä¸‹é¢è¿™ä¸ªå›¾[å‚è€ƒèµ„æ–™2]ï¼Œè¿™ä¸ªæ˜¯ inference æ—¶ æ¨¡åž‹ä»Žä¸€å¼ å›¾ç‰‡ä¸­æå–ç›®æ ‡çš„è¿‡ç¨‹ã€‚ å†æ€»ç»“ä¸€ä¸‹ï¼Œç½‘ç»œæ¨¡åž‹çš„ä¸»è¦ç‰¹å¾ï¼š Multi-scale feature maps for detection VGGä¸­çš„ conv5_3 ä»¥åŠVGGåŽé¢åˆæ·»åŠ çš„ä¸€äº›å±‚ä¸­çš„æŸäº›å±‚ï¼Œè¢«ç”¨æ¥æ£€æµ‹å’Œåˆ†ç±»ã€‚ä¸åŒçš„feature layer é¢„æµ‹çš„bounding boxçš„scaleæ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤ä¸åŒfeature layerä¸Šçš„å·ç§¯æ¨¡åž‹ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼ˆä½“çŽ°åœ¨å‚æ•°å’Œå›žå½’æ•ˆæžœä¸Šï¼‰ã€‚ Convolutional predictors for detection æ¯ä¸€ä¸ªè¢«é€‰ä¸­ç”¨äºŽé¢„æµ‹çš„feature layerï¼Œæ˜¯ç”¨ä¸€ä¸ª 3Ã—3 çš„å·ç§¯å±‚ç”¨äºŽé¢„æµ‹çš„ï¼Œæ¯”å¦‚è¯´æŸä¸ªfeature layerçš„æ˜¯ mÃ—nÃ—p å¤§å°çš„ï¼Œé‚£ä¹ˆå·ç§¯æ ¸å°±æ˜¯ 3Ã—3Ã—pï¼Œè¿™ä¹Ÿæ˜¯æŸä¸€ä¸ª detector/classifierçš„å‚æ•°é‡ï¼Œå®ƒçš„è¾“å‡ºæ˜¯å¯¹åº” bounding boxä¸­ç±»åˆ«çš„å¾—åˆ†æˆ–è€…ç›¸å¯¹äºŽdefault boxçš„åæ ‡åç§»é‡ã€‚å¯¹åº”äºŽ feature map ä¸Šæ¯ä¸ªä½ç½®ï¼ˆcellï¼‰ï¼Œéƒ½ä¼šæœ‰ k ä¸ª default boxï¼ˆä¸‹é¢å†è¯´æ€Žä¹ˆç”Ÿæˆï¼‰ï¼Œé‚£ä¹ˆæ— ç–‘é¢„æµ‹çš„æ—¶å€™è¦å¯¹æ¯ä¸ªä½ç½®ä¸Šçš„æ¯ä¸ªdefault boxéƒ½è¾“å‡ºç±»åˆ«å¾—åˆ†å’Œåæ ‡åç§»ã€‚ Default boxes and aspect ratios æ¯ä¸€ä¸ªè¢«é€‰ä¸­é¢„æµ‹çš„feature layer ï¼Œå…¶æ¯ä¸ªä½ç½®ï¼ˆcellï¼‰éƒ½å…³è”kä¸ªdefault boxï¼Œå¯¹æ¯ä¸ªdefault boxéƒ½è¦è¾“å‡ºCä¸ªç±»åˆ«å¾—åˆ†å’Œ4ä¸ªåæ ‡åç§»ï¼Œå› æ­¤æ¯ä¸ªdefault boxæœ‰ï¼ˆC+4ï¼‰ä¸ªè¾“å‡ºï¼Œæ¯ä¸ªä½ç½®æœ‰ (C+4)k ä¸ªè¾“å‡ºï¼Œå¯¹äºŽmÃ—n å¤§å°çš„feature mapè¾“å‡ºä¸º (C+4)kmn ä¸ªè¾“å‡ºï¼Œè¿™ä¸ªæœºåˆ¶è·Ÿanchoréžå¸¸ç›¸ä¼¼ï¼Œå…·ä½“å¯ä»¥çœ‹åŽé¢é‚£ä¸ªå›¾ã€‚ 2 Trainingä»¥ä¸Šæ˜¯inference æ—¶æ¨¡åž‹çš„ç»“æž„ã€‚æŽ¥ä¸‹æ¥ä»‹ç»æ¨¡åž‹åœ¨è®­ç»ƒæ—¶éœ€è¦åšçš„å·¥ä½œã€‚ 2.1 Matching strategyåŒ¹é…ç­–ç•¥ã€‚åˆ†ç±»é—®é¢˜ä¸­æ˜¯ä¸éœ€è¦åŒ¹é…ç­–ç•¥çš„ï¼Œè¿™é‡Œä¹‹æ‰€ä»¥è¦ä½¿ç”¨åŒ¹é…ç­–ç•¥æ˜¯ç”±äºŽå®šä½é—®é¢˜å¼•å…¥çš„ã€‚å¯ä»¥ç®€å•çš„è®¤ä¸º æ£€æµ‹=åˆ†ç±»ï¼‹å®šä½ï¼Œè¿™é‡Œçš„å®šä½ä½¿ç”¨çš„æ˜¯å›žå½’æ–¹æ³•ã€‚é‚£ä¹ˆè¿™é‡ŒSSDä¸­çš„å›žå½’æ˜¯æ€Žä¹ˆå¼„çš„ï¼Ÿ æˆ‘ä»¬çŸ¥é“å¹³é¢ä¸Šä»»æ„ä¸¤ä¸ªä¸é‡åˆçš„æ¡†éƒ½æ˜¯å¯ä»¥é€šè¿‡å¯¹å…¶ä¸­ä¸€ä¸ªæ¡†è¿›è¡Œä¸€å®šçš„å˜æ¢ï¼ˆæ¯”å¦‚çº¿æ€§å˜æ¢+å¯¹æ•°å˜æ¢ï¼‰ä½¿äºŒè€…é‡åˆçš„ã€‚ åœ¨SSDä¸­ï¼Œé€šä¿—çš„è¯´å°±æ˜¯å…ˆäº§ç”Ÿä¸€äº›é¢„é€‰çš„default boxï¼ˆç±»ä¼¼äºŽanchor boxï¼‰ï¼Œç„¶åŽæ ‡ç­¾æ˜¯ ground truth boxï¼Œé¢„æµ‹çš„æ˜¯bounding boxï¼ŒçŽ°åœ¨æœ‰ä¸‰ç§æ¡†ï¼Œä»Ždefault boxåˆ°ground truthæœ‰ä¸ªå˜æ¢å…³ç³»ï¼Œä»Ždefault boxåˆ°prediction bounding boxæœ‰ä¸€ä¸ªå˜æ¢å…³ç³»ï¼Œå¦‚æžœè¿™ä¸¤ä¸ªå˜æ¢å…³ç³»æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´ prediction bounding box ä¸Ž ground truthé‡åˆï¼Œå¦‚ä¸‹å›¾ï¼š æ‰€ä»¥å›žå½’çš„å°±æ˜¯è¿™ä¸¤ä¸ª å˜æ¢å…³ç³»ï¼š $l_{*}$ ä¸Ž $g_{*}$ ï¼Œåªè¦äºŒè€…æŽ¥è¿‘ï¼Œå°±å¯ä»¥ä½¿prediction bounding boxæŽ¥è¿‘ ground truth box ã€‚ä¸Šé¢çš„ $g_{*}$ æ˜¯åªåœ¨è®­ç»ƒçš„æ—¶å€™æ‰æœ‰çš„ï¼Œinference æ—¶ï¼Œå°±åªæœ‰ $l_{*}$ äº†ï¼Œä½†æ˜¯è¿™æ—¶å€™çš„ $l_{*}$ å·²ç»ç›¸å½“ç²¾ç¡®äº†ï¼Œæ‰€ä»¥å°±å¯ä»¥äº§ç”Ÿæ¯”è¾ƒå‡†ç¡®çš„å®šä½æ•ˆæžœã€‚ çŽ°åœ¨çš„é—®é¢˜æ˜¯ç”Ÿæˆçš„ default box ï¼ˆä¸‹é¢è®²æ€Žä¹ˆç”Ÿæˆï¼‰æ˜¯æœ‰å¾ˆå¤šçš„ï¼Œé‚£ä¹ˆåŠ¿å¿…ä¼šå¯¼è‡´åªæœ‰å°‘éƒ¨åˆ†æ˜¯åŒ…å«ç›®æ ‡æˆ–è€…æ˜¯ä¸Žç›®æ ‡é‡å å…³ç³»æ¯”è¾ƒå¤§çš„ï¼Œé‚£å½“ç„¶åªæœ‰è¿™ä»¥å°‘éƒ¨åˆ†æ‰æ˜¯æˆ‘ä»¬çš„é‡ç‚¹è§‚å¯Ÿå¯¹è±¡ï¼Œæˆ‘ä»¬æ‰èƒ½æŠŠä»–ç”¨åˆ°ä¸Šè¿°æåˆ°çš„å›žå½’è¿‡ç¨‹ä¸­åŽ»ã€‚å› ä¸ºè¶Šé è¿‘æ ‡ç­¾çš„default boxå›žå½’çš„æ—¶å€™è¶Šå®¹æ˜“ï¼Œå¦‚æžœäºŒè€…ä¸€ä¸ªåœ¨æœ€ä¸Šè¾¹ï¼Œä¸€ä¸ªåœ¨æœ€ä¸‹è¾¹ï¼Œé‚£ä¹ˆå›žå½’çš„æ—¶å€™éš¾åº¦ä¼šç›¸å½“å¤§ï¼Œè€Œä¸”ä¹Ÿä¼šæ›´è€—æ—¶é—´ã€‚ ç¡®å®šè¿™å°‘éƒ¨åˆ†é‡ç‚¹è§‚å¯Ÿå¯¹è±¡çš„è¿‡ç¨‹å°±æ˜¯åŒ¹é…ç­–ç•¥ã€‚åŽŸæ–‡æ˜¯è¿™ä¹ˆæ‰€çš„ï¼šground truth information needs to be assigned to specific outputs in the fixed set of detector outputs ï¼Œå®žé™…ä¸Šå°±æ˜¯ç¡®å®šæ­£æ ·æœ¬çš„è¿‡ç¨‹ï¼Œè¿™åœ¨YOLOï¼ŒFaster R-CNN ,Multi-boxä¸­ä¹Ÿéƒ½ç”¨åˆ°äº†ã€‚ åšæ³•æ˜¯è®¡ç®—default boxä¸Žä»»æ„çš„ground truth boxä¹‹é—´çš„ æ°å¡å¾·ç³»æ•°ï¼ˆjaccard overlap ï¼‰ï¼Œå…¶å®žå°±æ˜¯IOUï¼Œåªè¦äºŒè€…ä¹‹é—´çš„é˜ˆå€¼å¤§äºŽ0.5ï¼Œå°±è®¤ä¸ºè¿™æ˜¯ä¸ªæ­£æ ·æœ¬ã€‚ 2.2 Training objectiveæŸå¤±å‡½æ•°ï¼ŒåŒæ ·çš„æ˜¯multi-task lossï¼Œå³åŒ…å«äº†å®šä½å’Œåˆ†ç±»ã€‚ Næ˜¯åŒ¹é…æˆåŠŸçš„æ­£æ ·æœ¬æ•°é‡ï¼Œå¦‚æžœN=0ï¼Œåˆ™ä»¤ loss=0. $\alpha$ æ˜¯å®šä½æŸå¤±ä¸Žåˆ†ç±»æŸå¤±ä¹‹é—´çš„æ¯”é‡ï¼Œè¿™ä¸ªå€¼è®ºæ–‡ä¸­æåˆ°æ˜¯é€šè¿‡äº¤å‰éªŒè¯çš„æ–¹å¼è®¾ç½®ä¸º 1 çš„ã€‚ å®šä½æŸå¤±ï¼Œè¿™ä¸ŽFaster R-CNNæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç”¨çš„smooth L1 lossï¼š $l$ ä»£è¡¨é¢„æµ‹bounding boxä¸Ždefault boxä¹‹é—´çš„å˜æ¢å…³ç³»ï¼Œ $g$ ä»£è¡¨çš„æ˜¯ground truth boxä¸Ždefault boxä¹‹é—´çš„å˜æ¢å…³ç³»ã€‚ $x_{ij}^p=\{0,1\}$ ä»£è¡¨ ç¬¬ i ä¸ªdefault box ä¸Žç±»åˆ« p çš„ ç¬¬ j ä¸ªground truth box æ˜¯å¦åŒ¹é…ï¼ŒåŒ¹é…ä¸º1ï¼Œå¦åˆ™ä¸º0ï¼› åˆ†ç±»æŸå¤±ï¼Œsoftmax lossï¼Œäº¤å‰ç†µæŸå¤±ï¼š æ³¨æ„ä¸€ç‚¹ï¼šå®šä½æŸå¤±ä¸­æ˜¯åªæœ‰æ­£æ ·æœ¬çš„æŸå¤±çš„ï¼Œè€Œåˆ†ç±»æŸå¤±ä¸­æ˜¯åŒ…å«äº†æ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬çš„ã€‚å› ä¸ºå¯¹äºŽå®šä½é—®é¢˜æ¥è¯´ï¼Œåªè¦å›žå½’å‡ºç²¾ç¡®çš„å˜æ¢å…³ç³»ï¼Œåœ¨é¢„æµ‹çš„æ—¶å€™æ˜¯ä¸éœ€è¦åŒºåˆ†æ­£è´Ÿæ ·æœ¬çš„ï¼ˆæˆ–è€…è¯´æ˜¯ä¾é åˆ†ç±»æ¥åŒºåˆ†çš„ï¼‰ï¼Œåªéœ€è¦å°†è¿™ä¸ªå˜æ¢å…³ç³»åº”ç”¨åˆ°æ‰€æœ‰çš„default boxï¼Œæœ€åŽä½¿ç”¨NMSè¿‡æ»¤æŽ‰å¾—åˆ†å°‘çš„æ ·æœ¬æ¡†å³å¯ã€‚ä½†æ˜¯åˆ†ç±»å°±ä¸ä¸€æ ·äº†ï¼Œåˆ†ç±»æ˜¯éœ€è¦åŒºåˆ†å‡ºæ­£è´Ÿæ ·æœ¬çš„ã€‚ 2.3 Choosing scales and aspect ratios for default boxesé¦–å…ˆæ˜¯ default box çš„ç”Ÿæˆè§„åˆ™ã€‚ default box æ˜¯ bounding box çš„åˆå§‹å‚è€ƒï¼Œä¹Ÿå°±ç›¸å½“äºŽregion proposalsï¼Œé‚£ä¹ˆä¸ºäº†ä¿è¯é¢„æµ‹æ—¶å¯¹ä¸åŒé¢ç§¯å¤§å°ï¼ˆç­‰åŒäºŽscaleï¼‰å’Œä¸åŒçºµæ¨ªæ¯”ï¼ˆaspect ratioï¼‰çš„ç›®æ ‡è¿›è¡Œé¢„æµ‹ï¼Œå¾ˆæ˜Žæ˜¾default boxä¹Ÿåº”è¯¥æ˜¯å…·æœ‰ä¸åŒscale å’Œ aspect ratioçš„ã€‚RPNä¸­ï¼Œæ¯ä¸ªfeature map cellæ‰€å…³è”çš„ 9 ç§ anchor box ä¹Ÿæ˜¯å…·æœ‰ä¸åŒscale å’Œaspect ratioçš„ï¼Œä»–ä»¬çš„ä½œç”¨æ˜¯ç±»ä¼¼çš„ã€‚ åœ¨å…¶ä»–ä¸€äº›ç›®æ ‡æ£€æµ‹æ¨¡åž‹ä¸­æ¯”å¦‚ overfeat å’Œ SPPNetä¸­ï¼Œä¸ºäº†è¾¾åˆ°å¯¹ä¸åŒ scale å’Œ aspect ratioçš„ç›®æ ‡çš„é¢„æµ‹æ•ˆæžœï¼Œé‡‡ç”¨çš„æ–¹æ³•æ˜¯å¯¹åŽŸå§‹å›¾ç‰‡è¿›è¡Œä¸åŒç¨‹åº¦çš„ç¼©æ”¾ï¼Œä»¥è¾¾åˆ°æ•°æ®æ‰©å¢žã€‚è¿™ç§æ–¹å¼å¯ä»¥ç§°ä¸º Featurized image pyramids ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼Œå®žé™…ä¸Šæ¯ä¸ªå°ºåº¦éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç½‘ç»œå’Œé¢„æµ‹ç»“æžœã€‚ è¿™ç§æ–¹å¼è¾“å…¥å°ºå¯¸åœ¨å˜åŒ–ï¼Œç„¶è€Œç½‘ç»œä¸­çš„å…¨è¿žæŽ¥å±‚è¦æ±‚å›ºå®šçš„è¾“å…¥ï¼Œæ‰€ä»¥ overfeat å’Œ SPPNet ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ†åˆ«ä½¿ç”¨äº† offset poolingå’ŒSPP poolingçš„ç»“æž„ï¼Œä½¿å¾—ä»Žå·ç§¯å±‚è¾“å…¥åˆ°å…¨è¿žæŽ¥å±‚çš„ç‰¹å¾ç»´åº¦å›ºå®šã€‚ SSDçš„è§£å†³æ–¹æ³•æ¯”è¾ƒæ–°é¢–ï¼š è¿˜æ˜¯çœ‹å›¾è¯´è¯ï¼Œå¦‚ä¸Šå›¾ï¼Œæ¯ä¸ªfeature layeré¢„æµ‹ä¸€ç§scaleï¼Œfeature layer ä¸Šæ¯ä¸ªä½ç½®ï¼ˆcell ï¼‰çš„kä¸ªdefault box çš„çºµæ¨ªæ¯”ï¼ˆaspect ratioï¼‰æ˜¯ä¸åŒçš„ï¼Œè¿™å°±å®žçŽ°äº† multi-scale é¢„æµ‹çš„æ–¹å¼ã€‚ ä¸‹é¢è¿™ä¸ªå›¾å°±å¾ˆå¥½çš„è¯´æ˜Žäº†è¿™ç§æ–¹å¼ï¼Œ(b)å’Œ(c)ä»£è¡¨ä¸åŒçš„é¢„æµ‹feature layerï¼Œå…¶ä¸­çš„ default boxçš„ scale æ˜¯ä¸ä¸€æ ·çš„ï¼ŒåŒä¸€ä¸ª feature layer ä¸­çš„åŒä¸€ä¸ªcellä½ç½®å¤„çš„ default boxçš„ aspect ratioä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ ä¸€èˆ¬å¯¹äºŽä¸åŒçš„feature mapå¯¹åŽŸå›¾çš„ æ„Ÿå—é‡Žï¼ˆreceptive field sizes ï¼‰å¤§å°æ˜¯ä¸ä¸€æ ·çš„ï¼Œç„¶è€Œä¸åŒ feature layerä¸Šçš„ default box ä¸Žå…¶å¯¹åº”çš„æ„Ÿå—é‡Žæ˜¯ä¸éœ€è¦å¯¹åº”çš„ï¼Œè¿™ä¸ªä¸å¤ªç†è§£æ˜¯ä»€ä¹ˆæ„æ€ã€‚éš¾é“æ˜¯default boxçš„å¤§å°ä¸Žæ„Ÿå—é‡Žçš„å¤§å°ä¸éœ€è¦æˆå›ºå®šæ¯”ä¾‹ï¼Ÿ ï¼ˆFeature maps from different levels within a network are known to have different (empirical) receptive field sizes [13]. Fortunately, within the SSD framework, the default boxes do not necessary need to correspond to the actual receptive fields of each layer. We design the tiling of default boxes so that specific feature maps learn to be responsive to particular scales of the objects. ï¼‰ ä¸è¿‡æ–‡ä¸­è¿˜æåˆ°ï¼š An alternative way of improving SSD is to design a better tiling of default boxes so that its position and scale are better aligned with the receptive field of each position on a feature map. We leave this for future work. æ‰€ä»¥åº”è¯¥è¯´çš„æ˜¯ default boxä¸Žæ„Ÿå—é‡Žçš„å¯¹åº”å…³ç³»ã€‚ å‡è®¾æ¨¡åž‹åœ¨kä¸ªfeature layerä¸Šè¿›è¡Œé¢„æµ‹ï¼Œé‚£ä¹ˆæ¯ä¸ªfeature layerä¸Šçš„default boxçš„scaleæ€Žä¹ˆé€‰å‘¢ï¼Ÿå¦‚ä¸‹å¼ï¼š $s_{min}=0.2, s_{max}=0.9$ ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€åº•å±‚çš„scaleæ˜¯0.2ï¼Œæœ€é«˜å±‚çš„feature layerçš„scaleæ˜¯0.9. ä¸­é—´å…¶å®ƒå±‚çš„scaleæŒ‰ç…§å…¬å¼ä¾æ¬¡é€’å¢žã€‚ æ¯ä¸ªfeature layeréƒ½è´Ÿè´£å¯¹ä¸åŒé¢ç§¯å¤§å°çš„ç›®æ ‡è¿›è¡Œé¢„æµ‹ã€‚ ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ç›®æ ‡ä¸ä»…æœ‰å¤§å°ä¹‹åˆ†ï¼Œé•¿å®½æ¯”ä¹Ÿæ˜¯æœ‰å˜åŒ–çš„ï¼Œå³ä¾¿ä¸¤ä¸ªç›®æ ‡å¤§å°æ˜¯æŽ¥è¿‘çš„ï¼Œä»–ä»¬çš„é•¿å®½æ¯”ï¼ˆaspect ratioï¼‰ä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸åŒçš„ï¼Œä¹Ÿå³ä¸å¯èƒ½ä¹Ÿä¸åº”è¯¥æŠŠæ‰€æœ‰çš„ç›®æ ‡éƒ½å½“æˆæ­£æ–¹å½¢çš„å½¢çŠ¶ã€‚é‚£aspect ratioæ€Žä¹ˆç¡®å®šå‘¢ï¼Ÿ è¿™é‡Œä¸ŽFaster R-CNNä¸­çš„è§£å†³æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼šä¹Ÿæ˜¯äººä¸ºè®¾å®šå‡ ç§ aspect ratioï¼ŒSSDä¸­è®¾å®šçš„å‡ ç§aspect ratioåˆ†åˆ«æ˜¯ $\{1,2,3ï¼Œ{1\over2},{1\over3}\}$ ï¼Œç„¶åŽæ ¹æ®scaleå’Œaspect ratio å°±å¯ä»¥è®¡ç®—å‡ºdefault boxçœŸå®žçš„å®½å’Œé«˜äº†ï¼Œå¦‚ä¸‹ä¸¤å¼ï¼š$$w^a_k=s_k \sqrt{a_r} \\h^a_k=s_k/\sqrt{a_r}$$è¿™æ ·å¯¹äºŽfeature layerä¸Šçš„æ¯ä¸ªcelléƒ½æœ‰5ä¸ªä¸åŒæ¯”ä¾‹çš„default boxï¼Œç„¶åŽä½œè€…åœ¨ aspect ratio=1 æ—¶ï¼Œåˆæ·»åŠ äº†ä¸€ç§scaleï¼Œ å³ $s^{\prime}_{k}=\sqrt{s_k s_{k+1}}$ ,è¿™æ ·ä¸€æ¥æ¯ä¸ªcellå°±æœ‰6ä¸ªä¸åŒçš„default boxã€‚ é‚£ä¹ˆdefault boxçš„ä¸­å¿ƒåæ ‡æ€Žä¹ˆç¡®å®šå‘¢ï¼Ÿå¦‚ä¸‹ï¼š$$\left( \frac{i+0.5}{\vert f_k \vert}, \frac{j+0.5}{\vert f_k \vert} \right)$$ $|f_k|$ æ˜¯ç¬¬kä¸ªsquare feature map çš„å¤§å° $iï¼Œj\in [0,|f_k|]$ï¼Œè¿™ä¸ªå…¬å¼æ˜¯ä¸€ä¸ªå½’ä¸€åŒ–åæ ‡ï¼Œæœ€ç»ˆä¼šæ˜ å°„åˆ°åŽŸå›¾ä¸Šï¼Œä»¥ç¡®å®šåŽŸå›¾ä¸Šå¯¹åº”çš„åŒºåŸŸã€‚ä¹‹æ‰€ä»¥åŠ 0.5æ˜¯ä¸ºäº†æŠŠdefault boxçš„ä¸­å¿ƒè®¾åœ¨ä¸Žä¹‹å…³è”çš„cellçš„ä¸­å¿ƒï¼Œå¦‚ä¸‹å›¾ è¿™æ ·ç”Ÿæˆä¸€ç³»åˆ—default boxä¹‹åŽï¼Œå°±æœ‰äº†é¢„æµ‹bounding boxçš„åˆå§‹å‚è€ƒï¼Œæœ€ç»ˆçš„bounding boxä¼šåœ¨default boxçš„åŸºç¡€ä¸Šäº§ç”Ÿåç§»ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±äºŽä¸åŒ scale å’Œ aspect ratio çš„default boxçš„å­˜åœ¨ ä¼šä½¿ç½‘ç»œäº§ç”Ÿå¾ˆå¤šçš„é¢„æµ‹bounding boxï¼Œè¿™äº›é¢„æµ‹åŒ…å«äº†ä¸åŒå°ºå¯¸å’Œå½¢çŠ¶çš„ç›®æ ‡ç‰©ä½“ï¼Œå¦‚ä¸Šå›¾ï¼Œåœ¨ 4Ã—4 çš„feature mapä¸­åªæœ‰ç‹—ï¼ˆçº¢è‰²æ¡†ï¼‰æ˜¯æ­£æ ·æœ¬ï¼Œè¿™æ˜¯å› ä¸º ä¸åŒçš„feature map è´Ÿè´£é¢„æµ‹çš„ scaleå’Œaspect ratioæ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥åœ¨ 8Ã—8 çš„feature mapä¸­ç”±äºŽçŒ«çš„scaleä¸åŒ¹é…ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯è´Ÿæ ·æœ¬ã€‚åŒç†ï¼Œåœ¨ 8Ã—8 çš„feature mapä¸­åªæœ‰çŒ«ï¼ˆè“è‰²æ¡†ï¼‰æ˜¯æ­£æ ·æœ¬ã€‚ å…³äºŽdefault boxçš„è®¾è®¡æ–¹å¼ï¼Œæ–‡ç« æåˆ°è¿™æ˜¯ä¸€ä¸ªå¼€æ”¾æ€§çš„ç ”ç©¶å†…å®¹ï¼š An alternative way of improving SSD is to design a better tiling of default boxes so that its position and scale are better aligned with the receptive field of each position on a feature map. We leave this for future work. è¿™åº”è¯¥è·Ÿä¸Šé¢æåˆ°çš„å…³äºŽdefault boxä¸Žæ„Ÿå—é‡Žçš„å¯¹é½æ˜¯åŒæ ·çš„é—®é¢˜ã€‚ 2.4 Hard negative miningç”±äºŽå­˜åœ¨å¤§é‡çš„è´Ÿæ ·æœ¬ï¼Œæ‰€ä»¥å¯¼è‡´ä¸¥é‡çš„ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼Œè®­ç»ƒæ—¶éš¾ä»¥æ”¶æ•›ã€‚ è§£å†³æ–¹æ³•æ˜¯ï¼šå¯¹è´Ÿæ ·æœ¬æ ¹æ® confidence lossï¼ˆä¹Ÿå°±æ˜¯åˆ†ç±»æŸå¤±ï¼‰æŽ’åºï¼Œé€‰å–æŸå¤±æœ€é«˜çš„ä¸€éƒ¨åˆ†ä¿ç•™ï¼ˆä¹Ÿå°±æ˜¯æœ€ä¸åƒç›®æ ‡çš„é‚£äº›ï¼‰ï¼Œä½¿å¾—è´Ÿæ ·æœ¬å’Œæ­£æ ·æœ¬çš„æ¯”ä¾‹ä¿æŒåœ¨ 3:1ï¼Œæ–‡ç« ä½¿ç”¨è¿™ä¸ªæ¯”ä¾‹èŽ·å¾—äº†ç¨³å®šçš„è®­ç»ƒæ€§èƒ½åŠ å¿«äº†ä¼˜åŒ–é€Ÿåº¦ã€‚ 2.5 Data augmentationä¸ºäº†ä½¿æ¨¡åž‹å¯¹äºŽä¸åŒå°ºå¯¸å’Œçºµæ¨ªæ¯”çš„ç›®æ ‡æ›´åŠ é²æ£’æ€§ï¼Œä½¿ç”¨äº†æ•°æ®æ‰©å¢žã€‚ æ¯å¼ è®­ç»ƒå›¾åƒéšæœºè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š ä½¿ç”¨åŽŸå›¾ åœ¨åŽŸå›¾ä¸Šé‡‡æ ·ä¸€ä¸ªpatchï¼Œè¿™äº›patchä¸Žç›®æ ‡çš„æ°å¡å¾·ç³»æ•°ä¸º 0.1, 0.3, 0.5, 0.7, æˆ–è€… 0.9 éšæœºé‡‡æ ·ä¸€ä¸ªpatch é‡‡æ ·çš„patchä¸ŽåŽŸå›¾çš„æ¯”ä¾‹åœ¨[0.1-0.9]ä¹‹é—´ï¼Œaspect ratioåœ¨ 1/2 åˆ° 2ä¹‹é—´ã€‚ç»è¿‡ä»¥ä¸Šé‡‡æ ·ä¹‹åŽï¼Œé‡‡æ ·çš„patchä¼šè¢«resizeåˆ°å›ºå®šå¤§å°å¹¶ä»¥0.5çš„æ¦‚çŽ‡è¿›è¡Œæ°´å¹³ç¿»è½¬ã€‚ è¿™ç§æ‰©å……æ•°æ®é›†çš„æ–¹å¼å¢žå¼ºäº†æ¨¡åž‹å¯¹ç›®æ ‡å¹³ç§»çš„æ•æ„Ÿç¨‹åº¦ã€‚ 2.6 è®­ç»ƒæµç¨‹ä¸‹å›¾æ˜¯æ ¹æ®SSDçš„æºç ç»˜åˆ¶çš„è¯¦ç»†æ¨¡åž‹ç»“æž„ï¼Œcaffeè‡ªå¸¦çš„ draw_net.py ç”»å›¾å·¥å…·ç”Ÿæˆçš„å›¾ç‰‡çœ‹èµ·æ¥å°±è·Ÿèœ˜è››ç½‘ä¸€æ ·ã€‚å»ºè®®çœ‹å›¾è·Ÿçœ‹prototxtæ–‡ä»¶ç›¸ç»“åˆï¼Œæ›´å®¹æ˜“ç†è§£ã€‚ [å‚è€ƒèµ„æ–™1] ä¸­è¿˜æœ‰ä¸ªç®€åŒ–ç‰ˆçš„å›¾ï¼Œè¿™é‡Œå€Ÿé‰´ä¸€ä¸‹ï¼š 3 Inferenceä¸‹é¢è¯´ä¸€ä¸‹inferenceçš„æµç¨‹ï¼Œä¸»è¦å‚è€ƒ [å‚è€ƒèµ„æ–™2]ï¼Œæœ‰äº›æµç¨‹åœ¨è®­ç»ƒæ—¶ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚ æ•´ä½“é¢„æµ‹æµç¨‹å¦‚ä¸‹å›¾ï¼Œä¸€ç›®äº†ç„¶ï¼š ä¸Šé¢å›¾ä¸­è¢«çº¢æ¡†æ¡†èµ·æ¥çš„ detectorå’Œclassifierçš„è¯¦ç»†ç»“æž„å¦‚ä¸‹å›¾ï¼š è¿™æ˜¯å…¶ä¸­ä¸€ä¸ªscaleçš„é¢„æµ‹æµç¨‹ å¯ä»¥çœ‹å‡ºåˆ†ç±»å’Œå®šä½éƒ½æ˜¯é€šè¿‡å·ç§¯å±‚é¢„æµ‹çš„ï¼Œå‡è®¾æŸä¸ªç”¨äºŽé¢„æµ‹çš„feature mapæ˜¯5Ã—5Ã—256çš„ï¼Œ default box=3ï¼Œé‚£ä¹ˆç”¨äºŽå®šä½çš„å·ç§¯å±‚è¾“å‡ºæ˜¯ 5Ã—5Ã—12 çš„ï¼ˆ4Ã—3=12ï¼Œæ¯ä¸ªé€šé“ä»£è¡¨ä¸€ä¸ªä½ç½®å› ç´ ï¼ˆx,y,w,hï¼‰ï¼‰ï¼Œç”¨äºŽåˆ†ç±»çš„å·ç§¯å±‚è¾“å‡ºæ˜¯ 5Ã—5Ã—63çš„ï¼ˆ21Ã—3=63ï¼Œæ¯ä¸ªé€šé“ä»£è¡¨ä¸€ä¸ªç±»åˆ«ï¼‰ æ¯ä¸ªç”¨äºŽé¢„æµ‹çš„feature mapåŽé¢å¯ä»¥è®¤ä¸ºæŽ¥äº†ä¸‰ä¸ªå¹¶è¡Œçš„å±‚ï¼Œä¸€ä¸ªdefault box generatorï¼Œä¸€ä¸ªdetectorï¼Œä¸€ä¸ªclassifierã€‚ ä¸Šé¢å›¾ä¸­çš„default box generatorå¦‚ä¸‹å›¾ï¼š detector å’Œ classifierå¯¹æŸä¸ª bounding boxçš„å›žå½’ï¼š æ‰€æœ‰çš„bounding boxå›žå½’ä¹‹åŽï¼Œæ˜¯å¾ˆä¹±çš„ï¼Œç„¶åŽå†é€šè¿‡NMSè¿‡æ»¤æŽ‰ä¸€å¤§éƒ¨åˆ†ï¼š è¿™åªæ˜¯å…¶ä¸­æŸä¸€ä¸ªfeature mapçš„é¢„æµ‹ç»“æžœ å½“æŠŠæ‰€æœ‰ç”¨äºŽé¢„æµ‹çš„feature mapè¿›è¡Œé¢„æµ‹ä¹‹åŽï¼ˆmulti-scaleï¼‰ï¼Œå†é€šè¿‡ä¸€ä¸ªNMSï¼Œåˆè¿‡æ»¤æŽ‰ä¸€éƒ¨åˆ†ï¼Œä¿ç•™ä¸‹æ¥çš„å³æ˜¯æœ€ç»ˆçš„ç»“æžœ 4 Experimental Resultsè¿™éƒ¨åˆ†ä¸åŒçš„æ•°æ®é›†ä¸Šè®­ç»ƒç­–ç•¥å¯èƒ½æœ‰äº›ä¸åŒï¼Œå…·ä½“çš„è®­ç»ƒå‚æ•°ä¸è¯¦ç»†è¯´äº†ã€‚ 4.1 PASCAL VOC 4.2 Model analysiså¯¹ç…§è¯•éªŒï¼š Data augmentation is crucial ï¼šFast R-CNNå’ŒFaster R-CNNä½¿ç”¨çš„æ•°æ®æ‰©å¢žæ–¹å¼æ˜¯åŽŸå›¾åŠå…¶æ°´å¹³ç¿»è½¬ã€‚æœ¬æ–‡ä½¿ç”¨çš„æ•°æ®æ‰©å¢žçš„æ–¹å¼å¯¹é¢„æµ‹ç²¾åº¦çš„æå‡ç‰¹åˆ«æ˜Žæ˜¾ï¼Œä½¿ç”¨æ¯”ä¸ä½¿ç”¨æé«˜äº†8.8%ã€‚ä½œè€…ä¼°è®¡æœ¬æ–‡çš„æ•°æ®æ‰©å¢žæ–¹å¼å¯¹ Fast R-CNNå’ŒFaster R-CNNçš„é¢„æµ‹æ•ˆæžœæå‡ä¸ä¼šå¤ªå¤šï¼Œå› ä¸ºFast R-CNNå’ŒFaster R-CNNä¸­ä½¿ç”¨çš„ ROIæ± åŒ–æœ¬æ¥å°±å¯¹ç›®æ ‡çš„å¹³ç§»å¾ˆæ•æ„Ÿï¼Œè¿™æ¯”äººä¸ºæ‰©å……æ•°æ®é›†é²æ£’æ€§æ›´å¼ºã€‚ More default box shapes is better ï¼šæ›´å¤šæ ·æ€§åŒ–çš„default box æ˜¾ç„¶ä¼šäº§ç”Ÿæ›´å¥½çš„ç»“æžœã€‚ Atrous is faster ï¼šè®ºæ–‡ä½¿ç”¨äº† atrous algorithm ï¼Œè¿™æ˜¯ä¸€ç§ç§°ä¸º å¸¦å­”å·ç§¯çš„ å·ç§¯æ–¹å¼[å‚è€ƒèµ„æ–™4]ã€‚ Multiple output layers at different resolutions is better ï¼šåšè¿™ä¸ªå¯¹ç…§å®žéªŒçš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯å…¬å¹³ï¼Œåˆ æŽ‰æŸä¸€å±‚çš„æ—¶å€™ï¼Œä¼šæŠŠè¿™ä¸€å±‚çš„default boxæŒ‚è½½åœ¨å‰©ä¸‹çš„å±‚ä¸Šé¢å¹¶è°ƒæ•´scaleï¼Œä»¥ä¿è¯æ€»çš„default boxæ•°é‡ä¸å˜ï¼ˆ8732ï¼‰ï¼Œå †å default boxæ—¶ä¼šæœ‰å¾ˆå¤šboxæ˜¯åœ¨å›¾åƒçš„è¾¹ç¼˜ä½ç½®ï¼Œå¯¹è¿™ç§boxçš„å¤„ç†æ–¹å¼è·ŸFaster R-CNNçš„ä¸€æ ·ï¼Œå°±æ˜¯ç›´æŽ¥å¿½ç•¥ã€‚ ç»“åˆé«˜å±‚çš„ç²—ç²’åº¦çš„feature mapï¼Œæ¯”å¦‚ conv11_2(1Ã—1)ï¼Œè¿›è¡Œé¢„æµ‹æ—¶ï¼Œæ•ˆæžœä¼šä¸‹é™ï¼Œè¿™æ˜¯æ˜¾ç„¶çš„ï¼Œç½‘ç»œè¶Šæ·±ï¼Œæ„Ÿå—é‡Žè¶Šå¤§ï¼Œç›®æ ‡å¦‚æžœæ²¡æœ‰é‚£ä¹ˆå¤§çš„è¯ï¼Œè¶Šåˆ°åŽé¢ç›®æ ‡çš„ä¿¡æ¯è¶Šå°‘ï¼Œç”šè‡³å°±ç¼ºå¤±äº†ã€‚ 4.3 MS COCO è¿™ç¯‡è®ºæ–‡å¯¹æ¯”çš„è¿˜æ˜¯æœ€åˆç‰ˆæœ¬çš„Faster RCNNï¼Œå³VGG16ç‰ˆçš„ï¼ŒSSDçš„æ•ˆæžœè¿˜æ˜¯è¦å¥½äºŽFaster RCNNçš„ï¼Œä¸è¿‡åŽæ¥ Faster RCNNç”¨ä¸Šäº† ResNetåŽï¼ŒSSDçš„ç²¾åº¦å°±æ¯”ä¸ä¸ŠFaster RCNNäº†ã€‚å¯èƒ½çš„åŽŸå› æ˜¯Faster R-CNN ç¬¬ä¸€æ­¥å…³æ³¨proposalçš„æ•ˆæžœï¼Œç¬¬äºŒæ­¥å…³æ³¨refineçš„æ•ˆæžœ, æå–çš„ROIåŒºåŸŸä¼šæœ‰ä¸€ä¸ªzoom inçš„æ•ˆæžœï¼Œå› è€Œä¼šæ¯”SSDæ··æ‚åœ¨ä¸€èµ·å•æ­¥å­¦ä¹ ç²¾åº¦æ›´é«˜ã€‚è€Œä¸”Faster R-CNNå¯¹äºŽå°ç›®æ ‡çš„é¢„æµ‹æ›´æœ‰ä¼˜åŠ¿ã€‚ 4.4 Data Augmentation for Small Object Accuracæ²¡æœ‰ä½¿ç”¨ç‰¹å¾é‡é‡‡æ ·ä¹Ÿå°±æ˜¯åœ¨feature layer åŽé¢å†è¿›è¡Œç‰¹å¾æå–ï¼Œè¿™ä½¿å¾—SSDå¯¹äºŽå°ç›®æ ‡çš„é¢„æµ‹å¾ˆå›°éš¾ã€‚å‰é¢æåˆ°çš„æ•°æ®æ‰©å¢žçš„æ–¹å¼å°ç›®æ ‡çš„é¢„æµ‹æ•ˆæžœæœ‰å¾ˆå¤§çš„æå‡ä½œç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºŽPASCALè¿™ç§å°æ•°æ®é›†æ¥è¯´ã€‚éšæœºå‰ªè£ç›¸å½“äºŽå¯¹å›¾ç‰‡ä¸ŠæŸä¸€éƒ¨åˆ†è¿›è¡Œäº†zoom inï¼ˆæ”¾å¤§ï¼‰æ“ä½œï¼Œè¿™ä½¿å¾—ç›®æ ‡å¯ä»¥å˜å¾—æ¯”è¾ƒå¤§ï¼Œä¹Ÿä¼šäº§ç”Ÿè¾ƒå¤šçš„å¤§ç›®æ ‡æ ·ä¾‹ã€‚ä½†æ˜¯ä¸èƒ½å®Œå…¨æ²¡æœ‰å°ç›®æ ‡ï¼Œä¸ºäº†äº§ç”Ÿä¸€ç§ zoom outï¼ˆç¼©å°ï¼‰çš„æ•ˆæžœï¼Œæ–‡ç« è¿˜å°†åŽŸå§‹å›¾ç‰‡æ”¾ç½®äºŽ 16 å€åŽŸå›¾å¤§å°çš„ç”»å¸ƒä¸Šï¼Œå‘¨å›´ç©ºé—´å¡«å……å›¾ç‰‡å‡å€¼ï¼Œç„¶åŽå†è¿›è¡Œéšæœºè£å‰ªã€‚ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¹‹åŽå°±æœ‰äº†æ›´å¤šçš„è®­ç»ƒæ•°æ®ã€‚æ•ˆæžœå¦‚ä¸‹ï¼š è¿™è¯´æ˜Žè¿™ç§æ•°æ®æ‰©å¢žæ–¹å¼å¯¹äºŽæå‡é¢„æµ‹æ•ˆæžœä»¥åŠå°ç›®æ ‡é¢„æµ‹æ•ˆæžœéƒ½æ˜¯å¾ˆé‡è¦çš„æŠ€å·§ã€‚ 4.5 Inference time We measure the speed with batch size 8 using Titan X and cuDNN v4 with Intel Xeon E5-2667v3@3.20GHz Note that about 80% of the forward time is spent on the base network (VGG16 in our case). Therefore, using a faster base network could even further improve the speed, which can possibly make the SSD512 model real-time as well ã€‚ 5 å¯èƒ½çš„æ”¹è¿›æ–¹å‘ An alternative way of improving SSD is to design a better tiling of default boxes sothat its position and scale are better aligned with the receptive field of each position on a feature map. We leave this for future work. æ²¡çœ‹åˆ°æœ‰é’ˆå¯¹è¿™ä¸ªåšæ”¹è¿›çš„ã€‚ Note that about 80% of the forward time is spent on the base network (VGG16 in our case). Therefore, using a faster base network could even further improve the speed, which can possibly make the SSD512 model real-time as well ã€‚ æ¯”å¦‚Mobilenet-SSDï¼Œè¿˜æœ‰ä¸€äº›åŸºäºŽå…¶ä»–æ¡†æž¶çš„è½»é‡çº§æ£€æµ‹æ¨¡åž‹ï¼šSqueezeDetï¼ŒPVANetï¼ŒTiny YOLOï¼ŒTiny SSDç­‰ã€‚ ç‰¹å¾èžåˆæ–¹å¼ï¼ŒçŽ°åœ¨å·²ç»å¾ˆå¤šäººåœ¨åšäº†ï¼ŒDSSD, HyperNetï¼ŒRON, FPNç­‰ã€‚ å‚è€ƒèµ„æ–™ SSD: Single Shot MultiBox Detector æ¨¡åž‹fine-tuneå’Œç½‘ç»œæž¶æž„ ä¸€ä¸ªå¾ˆæ£’çš„è®²è§£SSDçš„PPT ä¸€ä¸ªæ±‡é›†äº†å¾ˆå¤šç›®æ ‡æ£€æµ‹æ¨¡åž‹çš„åšå®¢ çŸ¥ä¹Žï¼šatrous convolutionæ˜¯ä»€ä¹ˆï¼Ÿ]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡ç¬”è®°</tag>
        <tag>object detection</tag>
        <tag>SSD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹è¯„ä»·æ ‡å‡†-AP mAP]]></title>
    <url>%2Farticles%2Fc521a01c%2F</url>
    <content type="text"><![CDATA[1 mAPç®€ä»‹ç›®æ ‡æ£€æµ‹é‡Œé¢ç»å¸¸ç”¨åˆ°çš„è¯„ä¼°æ ‡å‡†æ˜¯ï¼šmAPï¼ˆmean average precisionï¼‰ï¼Œè®¡ç®—mAPéœ€è¦æ¶‰åŠåˆ°precision å’Œ recallçš„è®¡ç®—ï¼ŒmAPï¼Œprecisionï¼Œrecallçš„å®šä¹‰å«ä¹‰ä»¥åŠè®¡ç®—æ–¹å¼ï¼Œç½‘ä¸Šå¾ˆå¤šåšå®¢éƒ½æœ‰è¯´æ˜Žï¼Œæœ¬æ–‡ä¸æ‰“ç®—é‡è¿°ã€‚ é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œè¯·å…ˆä»”ç»†é˜…è¯»å¦‚ä¸‹èµ„æ–™ï¼š å‘¨å¿—åŽè€å¸ˆ ã€Šæœºå™¨å­¦ä¹ ã€‹ æ¨¡åž‹è¯„ä¼°æ ‡å‡†ä¸€èŠ‚ï¼Œä¸»è¦æ˜¯precisionï¼Œrecallçš„è®¡ç®—æ–¹å¼ï¼Œæˆ–è€…è‡ªå·±ç½‘ä¸Šæœåšå®¢ å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP é€šè¿‡ä¸€ä¸ªç®€å•çš„äºŒåˆ†ç±»é˜è¿° mAPçš„å«ä¹‰ä¸Žè®¡ç®— average precision å‡ ç§ä¸åŒå½¢å¼ AP çš„è®¡ç®—æ–¹å¼ä¸Žå¼‚åŒ ä»¥åšå®¢ å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP ä¸­çš„æ•°æ®ä¸ºä¾‹ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªäºŒåˆ†ç±»é—®é¢˜çš„P-Ræ›²çº¿ï¼ˆprecision-recall curveï¼‰ï¼ŒP-Ræ›²çº¿ä¸‹é¢ä¸Žxè½´å›´æˆçš„é¢ç§¯ç§°ä¸º average precisionã€‚ é‚£ä¹ˆé—®é¢˜å°±åœ¨äºŽå¦‚ä½•è®¡ç®—APï¼Œè¿™é‡Œå¾ˆæ˜¾ç„¶å¯ä»¥é€šè¿‡ç§¯åˆ†æ¥è®¡ç®—$$AP=\int_0^1 P(r) dr$$ä½†é€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯ä½¿ç”¨ä¼°ç®—æˆ–è€…æ’å€¼çš„æ–¹å¼è®¡ç®—ï¼š approximated average precision$$AP=\sum_{k=1}^N P(k) \Delta r(k)$$ è¿™ä¸ªè®¡ç®—æ–¹å¼ç§°ä¸º approximated å½¢å¼çš„ï¼Œæ’å€¼è®¡ç®—çš„æ–¹å¼é‡Œé¢è¿™ä¸ªæ˜¯æœ€ç²¾ç¡®çš„ï¼Œæ¯ä¸ªæ ·æœ¬ç‚¹éƒ½å‚ä¸Žäº†è®¡ç®— å¾ˆæ˜¾ç„¶ä½äºŽä¸€æ¡ç«–ç›´çº¿ä¸Šçš„ç‚¹å¯¹è®¡ç®—APæ²¡æœ‰è´¡çŒ® è¿™é‡ŒNä¸ºæ•°æ®æ€»é‡ï¼Œkä¸ºæ¯ä¸ªæ ·æœ¬ç‚¹çš„ç´¢å¼•ï¼Œ $\Delta r(k)=r(k)-r(k-1)$ Interpolated average precision è¿™æ˜¯ä¸€ç§æ’å€¼è®¡ç®—æ–¹å¼ï¼š$$P_{interp}(k)=max_{\hat k \ge k} P(\hat k)$$ $$\sum_{k=1}^N P_{interp(k)} \Delta r(k)$$ k ä¸ºæ¯ä¸€ä¸ªæ ·æœ¬ç‚¹çš„ç´¢å¼•ï¼Œå‚ä¸Žè®¡ç®—çš„æ˜¯æ‰€æœ‰æ ·æœ¬ç‚¹ $P_{interp}(k)$ å–ç¬¬ k ä¸ªæ ·æœ¬ç‚¹ä¹‹åŽçš„æ ·æœ¬ä¸­çš„æœ€å¤§å€¼ è¿™ç§æ–¹å¼ä¸å¸¸ç”¨ï¼Œæ‰€ä»¥ä¸ç”»å›¾äº† æ’å€¼æ–¹å¼è¿›ä¸€æ­¥æ¼”å˜ï¼š$$P_{interp}(k)=max_{\hat k \ge k} P(\hat k)$$ $$\sum_{k=1}^K P_{interp}(k) \Delta r(k)$$ è¿™æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„ Interpolated å½¢å¼çš„ APï¼Œè¿™ç§å½¢å¼ä½¿ç”¨çš„æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå› ä¸ºè¿™ä¸ªå¼å­è·Ÿä¸Šé¢æåˆ°çš„è®¡ç®—æ–¹å¼åœ¨æœ€ç»ˆçš„è®¡ç®—ç»“æžœä¸Šæ¥è¯´æ˜¯ä¸€æ ·çš„ï¼Œä¸Šé¢é‚£ä¸ªå¼å­çš„æ›²çº¿è·Ÿè¿™é‡Œå›¾ä¸­é˜´å½±éƒ¨åˆ†çš„å¤–éƒ¨è½®å»“æ˜¯ä¸€æ ·çš„ å½“ä¸€ç»„æ•°æ®ä¸­çš„æ­£æ ·æœ¬æœ‰Kä¸ªæ—¶ï¼Œé‚£ä¹ˆrecallçš„é˜ˆå€¼ä¹Ÿæœ‰Kä¸ªï¼Œkä»£è¡¨é˜ˆå€¼ç´¢å¼•ï¼Œå‚ä¸Žè®¡ç®—çš„åªæœ‰Kä¸ªé˜ˆå€¼æ‰€å¯¹åº”çš„æ ·æœ¬ç‚¹ $P_{interp}(k)$ å–ç¬¬ k ä¸ªé˜ˆå€¼æ‰€å¯¹åº”çš„æ ·æœ¬ç‚¹ä¹‹åŽçš„æ ·æœ¬ä¸­çš„æœ€å¤§å€¼ å†è¿›ä¸€æ­¥æ¼”å˜ï¼š$$P_{interp}(k)=max_{r(\hat k) \ge R(k)} P(\hat k) \quad R \in \{0,0.1,0.2,â€¦,1.0\}$$ $$\sum_{k=1}^K P_{interp}(k) \Delta r(k)$$ è¿™æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„ 11points_Interpolated å½¢å¼çš„ APï¼Œé€‰å–å›ºå®šçš„ $\{0,0.1,0.2,â€¦,1.0\}$ 11ä¸ªé˜ˆå€¼ï¼Œè¿™ä¸ªåœ¨PASCAL2007ä¸­æœ‰ä½¿ç”¨ è¿™é‡Œå› ä¸ºå‚ä¸Žè®¡ç®—çš„åªæœ‰11ä¸ªç‚¹ï¼Œæ‰€ä»¥ K=11ï¼Œç§°ä¸º11points_Interpolatedï¼Œkä¸ºé˜ˆå€¼ç´¢å¼• $P_{interp}(k)$ å–ç¬¬ k ä¸ªé˜ˆå€¼æ‰€å¯¹åº”çš„æ ·æœ¬ç‚¹ä¹‹åŽçš„æ ·æœ¬ä¸­çš„æœ€å¤§å€¼ï¼Œåªä¸è¿‡è¿™é‡Œçš„é˜ˆå€¼è¢«é™å®šåœ¨äº† $\{0,0.1,0.2,â€¦,1.0\}$ èŒƒå›´å†…ã€‚ ä»Žæ›²çº¿ä¸Šçœ‹ï¼ŒçœŸå®ž AP&lt; approximated AP &lt; Interpolated AP 11-points Interpolated AP å¯èƒ½å¤§ä¹Ÿå¯èƒ½å°ï¼Œå½“æ•°æ®é‡å¾ˆå¤šçš„æ—¶å€™ä¼šæŽ¥è¿‘äºŽ Interpolated AP å‰é¢çš„å…¬å¼ä¸­è®¡ç®—APæ—¶éƒ½æ˜¯å¯¹PRæ›²çº¿çš„é¢ç§¯ä¼°è®¡ï¼Œç„¶åŽæˆ‘çœ‹åˆ°PASCALçš„è®ºæ–‡é‡Œç»™å‡ºçš„å…¬å¼å°±æ›´åŠ ç®€å•ç²—æš´äº†ï¼Œå¦‚ä¸‹ï¼š$$AP=\frac{1}{11} \sum_{r \in \{ 0,0.1,0.2,â€¦,1.0 \}} P_{intep} (r)$$ $$P_{interp}(r)=MAX_{\hat r: \hat r\ge r} P(\hat r)$$ ç›´æŽ¥è®¡ç®—11ä¸ªé˜ˆå€¼å¤„çš„precisionçš„å¹³å‡å€¼ã€‚ ä¸è¿‡æˆ‘çœ‹ Itroduction to Modern Informationï¼ˆä¸­è¯‘æœ¬ï¼šçŽ‹æ–Œã€Šä¿¡æ¯æ£€ç´¢å¯¼è®ºã€‹ï¼‰ä¸€ä¹¦ä¸­ä¹Ÿæ˜¯ç›´æŽ¥è®¡ç®—å¹³å‡å€¼çš„ã€‚ å¯¹äºŽInterpolated å½¢å¼çš„ APï¼Œå› ä¸ºrecallçš„é˜ˆå€¼å˜åŒ–æ˜¯ç­‰å·®çš„ï¼ˆæˆ–è€…recallè½´æ˜¯ç­‰åˆ†çš„ï¼‰ï¼Œæ‰€ä»¥è®¡ç®—é¢ç§¯å’Œç›´æŽ¥è®¡ç®—å¹³å‡å€¼ç»“æžœæ˜¯ä¸€æ ·çš„ï¼Œ å¯¹äºŽ11points_Interpolated æ¥è¯´ï¼Œè™½ç„¶recallçš„é˜ˆå€¼ä¹Ÿæ˜¯ç­‰å·®çš„ï¼Œä½†æ˜¯11pointsè®¡ç®—å¹³å‡å€¼æ—¶ä¼šæŠŠrecall=0é‚£ä¸€ç‚¹çš„precisionç®—è¿›åŽ»ï¼Œä½†å®žé™…ä¸Šé‚£ä¸€ç‚¹æ˜¯äººä¸ºæ·»åŠ çš„ï¼Œæ‰€ä»¥è®¡ç®—é¢ç§¯å’Œç›´æŽ¥è®¡ç®—å¹³å‡å€¼ä¼šæœ‰ç•¥å¾®å·®å¼‚ã€‚ å®žé™…ä¸Šè¿™æ˜¯ä¸€ä¸ªæžé™é—®é¢˜ï¼Œå¦‚æžœrecallè½´ç­‰åˆ†ä¸”ä¸è€ƒè™‘åˆå§‹ç‚¹ï¼Œé‚£ä¹ˆè®¡ç®—é¢ç§¯å’Œå‡å€¼çš„ç»“æžœæ˜¯ä¸€æ ·çš„ï¼›å¦‚æžœä¸ç­‰åˆ†ï¼Œåªæœ‰å½“åˆ†å‰²recallæ— é™å¤šçš„æ—¶å€™ï¼ŒäºŒè€…æ— é™è¶‹è¿‘ï¼Œè¿™æ˜¯ä¸€ä¸ªæ•°å­¦é—®é¢˜ã€‚ ç¬¬ 4 èŠ‚çš„ä»£ç åŒ…å«è¿™ä¸¤ç§è®¡ç®—æ–¹å¼ï¼Œå¯ä»¥ç”¨æ¥éªŒè¯ã€‚ ä»¥ä¸Šå‡ ç§ä¸åŒå½¢å¼çš„ AP åœ¨ç¬¬4èŠ‚ä¼šæœ‰ç®€å•çš„ä»£ç å®žçŽ°ã€‚ 2 PASCALæ•°æ®é›†mAPè®¡ç®—æ–¹å¼ ä¸€å®šè¦å…ˆçœ‹è¿™ä¸ªåšå®¢ å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP ã€‚ PASCAL VOCæœ€ç»ˆçš„æ£€æµ‹ç»“æž„æ˜¯å¦‚ä¸‹è¿™ç§æ ¼å¼çš„ï¼š æ¯”å¦‚comp3_det_test_car.txt: 12345000004 0.702732 89 112 516 466000006 0.870849 373 168 488 229000006 0.852346 407 157 500 213000006 0.914587 2 161 55 221000008 0.532489 175 184 232 201 æ¯ä¸€è¡Œä¾æ¬¡ä¸º ï¼š 1&lt;image identifier&gt; &lt;confidence&gt; &lt;left&gt; &lt;top&gt; &lt;right&gt; &lt;bottom&gt; æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªbounding boxï¼ŒåŽé¢å››ä¸ªæ•°å®šä¹‰äº†æ£€æµ‹å‡ºçš„bounding boxçš„å·¦ä¸Šè§’ç‚¹å’Œå³ä¸‹è§’ç‚¹çš„åæ ‡ã€‚ åœ¨è®¡ç®—mAPæ—¶ï¼Œå¦‚æžœæŒ‰ç…§äºŒåˆ†ç±»é—®é¢˜ç†è§£ï¼Œé‚£ä¹ˆæ¯ä¸€è¡Œéƒ½åº”è¯¥å¯¹åº”ä¸€ä¸ªæ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾å¯ä»¥é€šè¿‡ground truthè®¡ç®—å‡ºæ¥ã€‚ ä½†æ˜¯å¦‚æžœä¸¥æ ¼æŒ‰ç…§ ground truth çš„åæ ‡æ¥åˆ¤æ–­è¿™ä¸ªbounding boxæ˜¯å¦æ­£ç¡®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ‡å‡†å°±å¤ªä¸¥æ ¼äº†ï¼Œå› ä¸ºè¿™æ˜¯å±žäºŽåƒç´ çº§åˆ«çš„æ£€æµ‹ï¼Œæ‰€ä»¥PASCALä¸­è§„å®šå½“ä¸€ä¸ªbounding boxä¸Žground truthçš„ IOU&gt;0.5 æ—¶å°±è®¤ä¸ºè¿™ä¸ªæ¡†æ˜¯æ­£æ ·æœ¬ï¼Œæ ‡è®°ä¸º1ï¼›å¦åˆ™æ ‡è®°ä¸º0ã€‚è¿™æ ·ä¸€æ¥æ¯ä¸ªbounding boxéƒ½æœ‰ä¸ªå¾—åˆ†ï¼Œä¹Ÿæœ‰ä¸€ä¸ªæ ‡ç­¾ï¼Œè¿™æ—¶ä½ å¯ä»¥è®¤ä¸ºå‰é¢çš„æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼ŒåŽé¢å¤šäº†ä¸€ä¸ªæ ‡ç­¾é¡¹ï¼š 12345000004 0.702732 89 112 516 466 1000006 0.870849 373 168 488 229 0000006 0.852346 407 157 500 213 1000006 0.914587 2 161 55 221 0000008 0.532489 175 184 232 201 1 è¿›è€Œä½ å¯ä»¥è®¤ä¸ºæ˜¯è¿™æ ·çš„ï¼ŒåŽé¢çš„æ ‡ç­¾å®žé™…ä¸Šæ˜¯é€šè¿‡åæ ‡è®¡ç®—å‡ºæ¥çš„ 12345000004 0.702732 1000006 0.870849 0000006 0.852346 1000006 0.914587 0000008 0.532489 1 è¿™æ ·ä¸€æ¥å°±å¯ä»¥æ ¹æ®å‰é¢åšå®¢ä¸­çš„äºŒåˆ†ç±»æ–¹æ³•è®¡ç®—APäº†ã€‚ä½†è¿™æ˜¯æŸä¸€ä¸ªç±»åˆ«çš„ï¼Œå°†æ‰€æœ‰ç±»åˆ«çš„éƒ½è®¡ç®—å‡ºæ¥ï¼Œå†åšå¹³å‡å³å¯å¾—åˆ°mAP. 3 COCOæ•°æ®é›†APè®¡ç®—æ–¹å¼COCOæ•°æ®é›†é‡Œçš„è¯„ä¼°æ ‡å‡†æ¯”PASCAL ä¸¥æ ¼è®¸å¤š COCOæ£€æµ‹å‡ºçš„ç»“æžœæ˜¯jsonæ–‡ä»¶æ ¼å¼ï¼Œæ¯”å¦‚ä¸‹é¢çš„ï¼š 123456789101112131415[ &#123; "image_id": 139, "category_id": 1, "bbox": [ 431.23001, 164.85001, 42.580002, 124.79 ], "score": 0.16355941 &#125;, â€¦â€¦ â€¦â€¦] æˆ‘ä»¬è¿˜æ˜¯æŒ‰ç…§å‰é¢çš„å½¢å¼æ¥ä¾¿äºŽç†è§£ï¼š 12345000004 0.702732 89 112 516 466000006 0.870849 373 168 488 229000006 0.852346 407 157 500 213000006 0.914587 2 161 55 221000008 0.532489 175 184 232 201 å‰é¢æåˆ°å¯ä»¥ä½¿ç”¨IOUæ¥è®¡ç®—å‡ºä¸€ä¸ªæ ‡ç­¾ï¼ŒPASCALç”¨çš„æ˜¯ IOU&gt;0.5å³è®¤ä¸ºæ˜¯æ­£æ ·æœ¬ï¼Œä½†æ˜¯COCOè¦æ±‚IOUé˜ˆå€¼åœ¨[0.5, 0.95]åŒºé—´å†…æ¯éš”0.05å–ä¸€æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥è®¡ç®—å‡º10ä¸ªç±»ä¼¼äºŽPASCALçš„mAPï¼Œç„¶åŽè¿™10ä¸ªè¿˜è¦å†åšå¹³å‡ï¼Œå³ä¸ºæœ€åŽçš„APï¼ŒCOCOä¸­å¹¶ä¸å°†APä¸ŽmAPåšåŒºåˆ†ï¼Œè®¸å¤šè®ºæ–‡ä¸­çš„å†™æ³•æ˜¯ AP@[0.5:0.95]ã€‚è€ŒCOCOä¸­çš„ AP@0.5 ä¸ŽPASCAL ä¸­çš„mAPæ˜¯ä¸€æ ·çš„ã€‚ 4 ä»£ç ç®€å•å®žçŽ° ä¸€å®šè¦å…ˆçœ‹è¿™ä¸ªåšå®¢ å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP ã€‚ è®¡ç®—APçš„ä»£ç ä¸Šï¼Œæˆ‘è§‰å¾—å¯ä»¥çœ‹çœ‹sklearnå…³äºŽAPè®¡ç®—çš„æºç ï¼Œå¿…è¦æ—¶å¯ä»¥é€æ­¥è°ƒè¯•ä»¥åŠ æ·±ç†è§£ã€‚ sklearnçš„average_precision_score APIï¼Œaverage_precision_score æºç  sklearnä¸Šçš„ä¸€ä¸ªè®¡ç®—APçš„ä¾‹å­ Precision-Recall and average precision compute å¦å¤–PASCALå’ŒCOCOéƒ½æœ‰å…¬å¼€çš„ä»£ç ç”¨äºŽè¯„ä¼°æ ‡å‡†çš„è®¡ç®— PASCAL development kit code and documentation COCO github ä¸‹é¢æ˜¯ä»¿ç…§sklearnä¸Šçš„è®¡ç®—APçš„ä¾‹å­å†™çš„ä¸€ä¸ªç®€å•çš„ä»£ç ï¼Œä¸Žsklearnç•¥æœ‰å·®å¼‚å¹¶åšäº†ä¸€äº›æ‰©å±•ï¼Œè¿™ä¸ªä»£ç å¯ä»¥è®¡ç®— approximatedï¼Œinterpolatedï¼Œ11point_interpolatedå½¢å¼çš„APï¼Œsklearnçš„APIåªèƒ½è®¡ç®—approximatedå½¢å¼çš„APã€‚è¿™å‡ ä¸ªå½¢å¼çš„APçš„å·®å¼‚ï¼Œå‚è€ƒ average precision è¿™ä¸ªåšå®¢ã€‚PASCAL2007çš„æµ‹é‡æ ‡å‡†ç”¨çš„ 11point_interpolatedå½¢å¼ï¼Œè€Œ PASCAL2010å¾€åŽä½¿ç”¨çš„æ˜¯ interpolated å½¢å¼çš„ã€‚ ä»Žè®¡ç®—çš„ç²¾ç¡®åº¦ä¸Š approximated &gt; interpolated &gt; 11point_interpolatedï¼Œå½“ç„¶æœ€ç²¾ç¡®çš„æ˜¯ç§¯åˆ†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248# coding=utf-8from sklearn import svm, datasetsfrom sklearn.model_selection import train_test_splitimport matplotlib.pyplot as pltimport numpy as npdef preprocess_iris_data(): iris = datasets.load_iris() X = iris.data y = iris.target # Add noisy features random_state = np.random.RandomState(0) n_samples, n_features = X.shape X = np.c_[X, random_state.randn(n_samples, 200 * n_features)] # é¸¢å°¾èŠ±æ•°æ®é›†æœ‰ä¸‰ç±»ï¼Œå–å…¶ä¸­ä¸¤ç±» # Limit to the two first classes, and split into training and test X_train, X_test, y_train, y_test = train_test_split(X[y &lt; 2], y[y &lt; 2], test_size=.5, random_state=random_state) # Create a simple classifier classifier = svm.LinearSVC(random_state=random_state) classifier.fit(X_train, y_train) y_score = classifier.decision_function(X_test) return y_test, y_scoredef precision_recall_curve(y_true, y_score, pos_label=None): if pos_label is None: pos_label = 1 # ä¸åŒçš„æŽ’åºæ–¹å¼ï¼Œå…¶ç»“æžœä¹Ÿä¼šæœ‰ç•¥å¾®å·®åˆ«ï¼Œ # æ¯”å¦‚ kind="mergesort" çš„ç»“æžœè·Ÿkind="quicksort"çš„ç»“æžœæ˜¯ä¸åŒçš„ï¼Œ # è¿™æ˜¯å› ä¸ºå½’å¹¶æŽ’åºæ˜¯ç¨³å®šçš„ï¼Œå¿«é€ŸæŽ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œsklearnä¸­ä½¿ç”¨çš„æ˜¯ kind="mergesort" desc_score_indices = np.argsort(y_score, kind="quicksort")[::-1] y_score = y_score[desc_score_indices] y_true = y_true[desc_score_indices] # ç¡®å®šé˜ˆå€¼ä¸‹æ ‡ç´¢å¼•ï¼Œscoreä¸­å¯èƒ½ä¼šæœ‰é‡å¤çš„åˆ†æ•°ï¼Œåœ¨sklearnä¸­ï¼Œé‡å¤çš„å…ƒç´ è¢«åŽ»æŽ‰äº† # æœ¬æ¥ä»¥ä¸ºåŽ»é™¤é‡å¤åˆ†æ•°ä¼šå½±å“ç»“æžœå‘¢ï¼Œå› ä¸ºå¦‚æžœä¸¤ä¸ªæ ·æœ¬æœ‰é‡å¤çš„åˆ†æ•°ï¼Œä¸€ä¸ªæ ‡ç­¾æ˜¯1ï¼Œä¸€ä¸ªæ˜¯0ï¼Œ # æ„Ÿè§‰åŽ»æŽ‰å“ªä¸ªéƒ½ä¼šå½±å“ç»“æžœå•Šï¼Œä½†æ˜¯å®žéªŒå‘çŽ°ç«Ÿç„¶ä¸å½±å“ç»“æžœï¼Œæœ‰ç‚¹çº³é—·ï¼Œä»¥åŽæœ‰æ—¶é—´å†åˆ†æžå§ # distinct_value_indices = np.where(np.diff(y_score))[0] # threshold_idxs = np.r_[distinct_value_indices, y_true.size - 1] # è¿™é‡Œæ²¡æœ‰åŽ»é™¤é‡å¤åˆ†æ•° threshold_idxs = np.arange(y_score.size) # æŒ‰ç…§é˜ˆå€¼ä¾æ¬¡é™ä½Žçš„é¡ºåºï¼Œç¡®å®šå½“å‰é˜ˆå€¼ä¸‹çš„true positives ä¸ªæ•°ï¼Œtps[-1]å¯¹åº”äºŽæ‰€æœ‰çš„æ­£ä¾‹æ•°é‡ tps = np.cumsum(y_true * 1.)[threshold_idxs] # è®¡ç®—å½“å‰é˜ˆå€¼ä¸‹çš„ false positives ä¸ªæ•°ï¼Œ # å®ƒä¸Ž tpsçš„å…³ç³»ä¸ºfps=1+threshold_idxs-tpsï¼Œè¿™ä¸ªå…³ç³»æ˜¯æ¯”è¾ƒæ˜Žæ˜¾çš„ fps = 1 + threshold_idxs - tps # y_score[threshold_idxs]æŠŠå¯¹åº”ä¸‹æ ‡çš„é˜ˆå€¼å–å‡º thresholds = y_score[threshold_idxs] precision = tps / (tps + fps) recall = tps / tps[-1] # è¿™é‡Œä¸Žsklearnæœ‰ç•¥å¾®ä¸åŒï¼Œå³æ ·æœ¬ç‚¹å…¨éƒ¨è¾“å‡ºï¼Œä»¤last_ind = tps.sizeï¼Œå³å¯ last_ind = tps.size sl = slice(0, last_ind) return np.r_[1, precision[sl]], np.r_[0, recall[sl]], thresholds[sl]def average_precision_approximated(y_true, y_predict): """ è®¡ç®—approximatedå½¢å¼çš„apï¼Œæ¯ä¸ªæ ·æœ¬ç‚¹çš„åˆ†æ•°éƒ½æ˜¯recallçš„ä¸€ä¸ªcutoff :param y_true: æ ‡ç­¾ :param y_predict: å®žé™…é¢„æµ‹å¾—åˆ† :return: precisionï¼Œrecallï¼Œthresholdï¼Œaverage precision """ precision, recall, thresholds = precision_recall_curve( y_true, y_predict, pos_label=1) average_precision = np.sum(np.diff(recall) * np.array(precision)[1:]) return precision, recall, thresholds, average_precisiondef average_precision_interpolated(y_true, y_predict): """ è®¡ç®—interpolatedå½¢å¼çš„apï¼Œæ¯ä¸ªæ­£æ ·æœ¬å¯¹åº”çš„åˆ†æ•°éƒ½æ˜¯recalllçš„ä¸€ä¸ªcutoff :param y_true: æ ‡ç­¾ :param y_predict: å®žé™…é¢„æµ‹å¾—åˆ† :return: precisionï¼Œrecallï¼Œthresholdï¼Œaverage precision """ precision, recall, thresholds = precision_recall_curve( y_true, y_predict, pos_label=1) # èŽ·å–recallè½´ä¸Šçš„åˆ†å‰²ï¼Œnp.insert(recall, 0 , -1, axis=0)æ˜¯ä¸ºäº†ä¿è¯èŽ·å–åˆ°é‡å¤recallçš„ç¬¬ä¸€ä¸ªç´¢å¼•å€¼ # å› ä¸ºé‡å¤çš„recallä¸­åªæœ‰å¯¹åº”çš„ç¬¬ä¸€ä¸ªprecisionæ˜¯æœ€å¤§çš„ï¼Œæˆ‘ä»¬åªéœ€è¦èŽ·å–è¿™ä¸ªæœ€å¤§çš„precision # æˆ–è€…è¯´æ¯é‡åˆ°ä¸€ä¸ªæ­£æ ·æœ¬ï¼Œéœ€è¦å°†å…¶å¯¹åº”çš„recallå€¼ä½œä¸ºæ¨ªè½´çš„åˆ‡åˆ† recall_cutoff_index = np.where( np.diff(np.insert(recall, 0, -1, axis=0)))[0] # ä»Žrecallçš„cutoff ç´¢å¼•å€¼å¼€å§‹å¾€åŽèŽ·å–precisionæœ€å¤§å€¼ï¼Œç›¸åŒçš„precisionåªå–ç´¢å¼•å€¼æœ€å¤§çš„é‚£ä¸ª # P(r) = max&#123;P(r')&#125; | r'&gt;=r precision_cutoff_index = [] for index in recall_cutoff_index: precision_cutoff_index.append( max([x for x in np.where(precision == np.max(precision[index:]))[0] if x &gt;= index])) # interpolated_idx=np.unique(interpolated_cutoff) # ä»ŽåŽŸå§‹çš„precisionå’Œrecallä¸­æˆªå–å¯¹åº”ç´¢å¼•çš„ç‰‡æ®µï¼Œå³å¯å¾—åˆ° interpolated æ–¹å¼ä¸‹çš„precisionï¼Œrecallä»¥åŠAP precision_interpolated = precision[precision_cutoff_index] recall_interpolated = recall[recall_cutoff_index] # ä»¥ä¸ŠèŽ·å¾—çš„ recall_cutoff_index å’Œ precision_cutoff_index åˆ‡ç‰‡åŒ…å«äººä¸ºæ·»åŠ çš„0 å’Œ 1ï¼ˆä¸ºäº†ç”»å›¾æ—¶ä¸Žåæ ‡è½´å°é—­ï¼‰ # è€Œè®¡ç®—thresholds_interpolatedæ—¶è¦åŽ»æŽ‰ç›¸åº”ç´¢å¼•å€¼çš„å½±å“ # é˜ˆå€¼ä¸åŒ…æ‹¬recall=0 thresholds_interpolated = thresholds[ [x - 1 for x in recall_cutoff_index if 0 &lt;= x - 1 &lt; thresholds.size]] # æŒ‰è¯´apè®¡ç®—åº”è¯¥æŒ‰ç…§é¢ç§¯çš„æ–¹å¼è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¢«æ³¨é‡Šçš„éƒ¨åˆ†ï¼Œä½†è®ºæ–‡é‡Œé¢æ˜¯ç›´æŽ¥è®¡ç®—å‡å€¼ï¼Œ # è¿™é‡Œä¹Ÿç›´æŽ¥è®¡ç®—å‡å€¼ï¼Œå› ä¸ºé˜ˆå€¼ä¸åŒ…æ‹¬recall=0ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹äºŒè€…ç»“æžœæ˜¯ä¸€æ ·çš„ average_precision = np.mean(precision_interpolated[1:]) # average_precision = np.sum( # np.diff(recall_interpolated) * np.array(precision_interpolated)[1:]) return precision_interpolated, recall_interpolated, thresholds_interpolated, average_precisiondef average_precision_11point_interpolated(y_true, y_predict): """ è®¡ç®— 11pointå½¢å¼çš„ ap :param y_true: æ ‡ç­¾ :param y_predict: å®žé™…é¢„æµ‹å¾—åˆ† :return: precisionï¼Œrecallï¼Œthresholdï¼Œaverage precision """ precision, recall, thresholds = precision_recall_curve( y_true, y_predict, pos_label=1) recall_11point_cutoff = np.array( [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]) # è®¡ç®—ç¦»11ä¸ªcutoffæœ€è¿‘çš„æ ·æœ¬ç‚¹ recall_cutoff_index = [] for cutoff in recall_11point_cutoff: recall_cutoff_index.append(np.where(recall &gt;= cutoff)[0][0]) precision_cutoff_index = [] for index in recall_cutoff_index: precision_cutoff_index.append( max([x for x in np.where(precision == np.max(precision[index:]))[0] if x &gt;= index])) precision_11point = precision[precision_cutoff_index] recall_11point = recall[recall_cutoff_index] # æ­¤å¤„é˜ˆå€¼åŒ…æ‹¬recall=0ï¼Œå› ä¸ºæ˜¯11points thresholds_11point = thresholds[ [x - 1 for x in recall_cutoff_index if -1 &lt;= x - 1 &lt; thresholds.size]] # æ­¤å¤„é˜ˆå€¼åŒ…æ‹¬recall=0ï¼Œå› ä¸ºæ˜¯11pointsï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ä¸¤ç§è®¡ç®—APçš„æ–¹å¼ç»“æžœä¸åŒï¼Œæœ‰ç•¥å¾®å·®åˆ« average_precision = np.mean(precision_11point) # average_precision = np.sum( # 0.1 * np.array(precision_11point)[1:]) # æ­¤å¤„ç›´æŽ¥è¿”å›ž recall_11point_cutoffï¼Œå®žé™…ä¸Šè¿”å›ž recall_11point ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œ # å·®åˆ«å°±æ˜¯å›¾çº¿çš„è½¬æŠ˜ç‚¹ä¸åœ¨[0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]è¿™11ä¸ªåˆ»åº¦å¤„ # return precision_11point, recall_11point, thresholds_11point, average_precision return precision_11point, recall_11point_cutoff, thresholds_11point, average_precisiondef main(data=None): y_test = [] y_score = [] if data is None: # ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œè¿™ä¸ªç¤ºä¾‹ç›´æŽ¥ç»™å®šäº†y_testå’Œy_score y_test = np.array([0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1]) y_score = np.array([0.23, 0.76, 0.01, 0.91, 0.13, 0.45, 0.12, 0.03, 0.38, 0.11, 0.03, 0.09, 0.65, 0.07, 0.12, 0.24, 0.1, 0.23, 0.46, 0.08]) if data == 'iris': # è¿˜å¯ä»¥å¯¼å…¥é¸¢å°¾èŠ±æ•°æ®é›†å¹¶æž„å»ºä¸€ä¸ªç®€å•çš„SVMåˆ†ç±»å™¨ï¼Œé€šè¿‡ä¸€ä¸ªå®Œæ•´çš„æ¨¡åž‹æ¥ç†è§£ PRæ›²çº¿çš„ç»˜åˆ¶ # ä½¿ç”¨é¸¢å°¾èŠ±æ•°æ®é›† y_test, y_score = preprocess_iris_data() # è®¡ç®—APï¼Œå¹¶ç”»å›¾ precision_approximated, recall_approximated, _, ap_approximated = \ average_precision_approximated(y_test, y_score) precision_interpolated, recall_interpolated, _, ap_interpolated = \ average_precision_interpolated(y_test, y_score) precision_11point, recall_11point, _, ap_11point = \ average_precision_11point_interpolated(y_test, y_score) print('Approximated average precision-recall score: &#123;0:0.5f&#125;'.format( ap_approximated)) print('Interpolated average precision-recall score: &#123;0:0.5f&#125;'.format( ap_interpolated)) print('Interpolated at fixed 11 points average precision-recall score: &#123;0:0.5f&#125;'.format( ap_11point)) # print the AP plot fig1 = plt.figure('fig1') # plt.subplot(311) plt.plot(recall_approximated, precision_approximated, color='r', marker='o', mec='m', ms=3) plt.step(recall_approximated, precision_approximated, color='c', where='pre') plt.fill_between(recall_approximated, precision_approximated, step='pre', alpha=0.2, color='b') plt.xlabel('Recall') plt.ylabel('Precision') plt.ylim([0.0, 1.05]) plt.xlim([0.0, 1]) plt.title('2-class Precision-Recall curve(Approximated): AP=&#123;0:0.5f&#125;'.format( ap_approximated)) plt.xticks(np.arange(0, 1, 0.1)) plt.yticks(np.arange(0, 1, 0.1)) plt.grid(True) plt.legend(('PR-curve', 'Approximated-PR-curve', 'Approximated-AP'), loc='upper right') fig2 = plt.figure('fig2') # plt.subplot(312) plt.plot(recall_approximated, precision_approximated, color='r', marker='o', mec='m', ms=3) plt.plot(recall_interpolated, precision_interpolated, color='c', marker='o', mec='g', ms=3, alpha=0.5) plt.fill_between(recall_interpolated, precision_interpolated, step='pre', alpha=0.2, color='b') plt.xlabel('Recall') plt.ylabel('Precision') plt.ylim([0.0, 1.05]) plt.xlim([0.0, 1]) plt.title('2-class Precision-Recall curve(Interpolated): AP=&#123;0:0.5f&#125;'.format( ap_interpolated)) plt.xticks(np.arange(0, 1, 0.1)) plt.yticks(np.arange(0, 1, 0.1)) plt.grid(True) plt.legend(('PR-curve', 'Interpolated-PR-curve', 'Interpolated-AP'), loc='upper right') fig3 = plt.figure('fig3') # plt.subplot(313) plt.plot(recall_approximated, precision_approximated, color='r', marker='o', mec='m', ms=3) plt.plot(recall_11point, precision_11point, color='c', marker='o', mec='g', ms=3) plt.fill_between(recall_11point, precision_11point, step='pre', alpha=0.2, color='b') plt.xlabel('Recall') plt.ylabel('Precision') plt.ylim([0.0, 1.05]) plt.xlim([0.0, 1]) plt.title('2-class Precision-Recall curve(Interpolated_11point): AP=&#123;0:0.5f&#125;'.format( ap_11point)) plt.xticks(np.arange(0, 1, 0.1)) plt.yticks(np.arange(0, 1, 0.1)) plt.grid(True) plt.legend(('PR-curve', '11point-PR-curve', '11point-AP'), loc='upper right') # plt.subplots_adjust(top=0.92, bottom=0.08, left=0.10, right=0.95, hspace=0.5, # wspace=0.35) plt.show()if __name__ == '__main__': # main() # ç”¨è¿™ä¸ªæµ‹è¯•åšå®¢ â€œå¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAPâ€ ä¸­çš„ç®€å•ä¾‹ç¨‹ main('iris') è¿™ä¸ªä¾‹å­ä½¿ç”¨äº† é¸¢å°¾èŠ±æ•°æ®é›†ä¸­çš„ä¸¤ç±»æž„å»ºäº†ä¸€ä¸ªSVMåˆ†ç±»å™¨ï¼Œç„¶åŽå¯¹åˆ†ç±»ç»“æžœè®¡ç®—AP. æœ€ç»ˆçš„ç»“æžœå¦‚ä¸‹æ‰€ç¤ºï¼š å‚è€ƒèµ„æ–™ å‘¨å¿—åŽè€å¸ˆ ã€Šæœºå™¨å­¦ä¹ ã€‹ å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP average precision çŽ‹æ–Œè¯‘ ã€Šä¿¡æ¯æ£€ç´¢å¯¼è®ºã€‹ è®ºæ–‡ï¼š The PASCAL Visual Object Classes (VOC) Challenge 2007 å’Œ 2012 http://cocodataset.org/#detection-eval http://host.robots.ox.ac.uk/pascal/VOC/ http://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>object detection</tag>
        <tag>è¯„ä»·æ ‡å‡†</tag>
        <tag>mAP</tag>
        <tag>wheel making</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹æ•°æ®é›†MSCOCOç®€ä»‹]]></title>
    <url>%2Farticles%2Fe5b86f16%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ä»‹ç»ä¸€ä¸‹ç›®æ ‡æ£€æµ‹é¢†åŸŸå¦å¤–ä¸€ä¸ªæ¯”è¾ƒæœ‰åçš„æ•°æ®é›† MS COCO (Microsoft COCO: Common Objects in Context) . MSCOCO æ•°æ®é›†æ˜¯å¾®è½¯æž„å»ºçš„ä¸€ä¸ªæ•°æ®é›†ï¼Œå…¶åŒ…å« detection, segmentation, keypointsç­‰ä»»åŠ¡ã€‚ MSCOCOä¸»è¦æ˜¯ä¸ºäº†è§£å†³detecting non-iconic views of objectsï¼ˆå¯¹åº”å¸¸è¯´çš„detectionï¼‰, contextual reasoning between objects and the precise 2D localization of objectsï¼ˆå¯¹åº”å¸¸è¯´çš„åˆ†å‰²é—®é¢˜ï¼‰ è¿™ä¸‰ç§åœºæ™¯ä¸‹çš„é—®é¢˜ã€‚ ä¸‹é¢æ˜¯iconic å›¾ç‰‡å’Œ non-iconic å›¾ç‰‡ä¹‹é—´çš„å¯¹æ¯”ã€‚ ä¸ŽPASCAL COCOæ•°æ®é›†ç›¸æ¯”ï¼ŒCOCOä¸­çš„å›¾ç‰‡åŒ…å«äº†è‡ªç„¶å›¾ç‰‡ä»¥åŠç”Ÿæ´»ä¸­å¸¸è§çš„ç›®æ ‡å›¾ç‰‡ï¼ŒèƒŒæ™¯æ¯”è¾ƒå¤æ‚ï¼Œç›®æ ‡æ•°é‡æ¯”è¾ƒå¤šï¼Œç›®æ ‡å°ºå¯¸æ›´å°ï¼Œå› æ­¤COCOæ•°æ®é›†ä¸Šçš„ä»»åŠ¡æ›´éš¾ï¼Œå¯¹äºŽæ£€æµ‹ä»»åŠ¡æ¥è¯´ï¼ŒçŽ°åœ¨è¡¡é‡ä¸€ä¸ªæ¨¡åž‹å¥½åçš„æ ‡å‡†æ›´åŠ å€¾å‘äºŽä½¿ç”¨COCOæ•°æ®é›†ä¸Šçš„æ£€æµ‹ç»“æžœã€‚ æ•°æ®é›†çš„æž„å»ºè¿‡ç¨‹ä¸è¯´äº†ã€‚ä¸»è¦å…³æ³¨ä¸€ä¸‹ç»Ÿè®¡ä¿¡æ¯ 1 ç»Ÿè®¡ä¿¡æ¯MSCOCOæ€»å…±åŒ…å«91ä¸ªç±»åˆ«ï¼Œæ¯ä¸ªç±»åˆ«çš„å›¾ç‰‡æ•°é‡å¦‚ä¸‹ï¼š å›¾ä¸­ä¹Ÿæ ‡å‡ºäº†PASCAL VOCçš„ç»Ÿè®¡æ•°æ®ä½œä¸ºå¯¹æ¯”ã€‚ ä¸‹å›¾å±•ç¤ºçš„æ˜¯å‡ ä¸ªä¸åŒæ•°æ®é›†çš„æ€»ç±»åˆ«æ•°é‡ï¼Œä»¥åŠæ¯ä¸ªç±»åˆ«çš„æ€»å®žä¾‹æ•°é‡ï¼Œä¸€ä¸ªå®žä¾‹å°±æ˜¯å›¾ç‰‡ä¸Šçš„ä¸€ä¸ªç›®æ ‡ï¼Œä¸»è¦å…³æ³¨ä¸€ä¸‹ PASCAL å’Œ ImageNetã€‚ COCOæ•°æ®é›†çš„ç±»åˆ«æ€»æ•°è™½ç„¶æ²¡æœ‰ ImageNet ä¸­ç”¨äºŽdetectionçš„ç±»åˆ«æ€»æ•°å¤šï¼Œä½†æ˜¯æ¯ä¸ªç±»åˆ«çš„å®žä¾‹ç›®æ ‡æ€»æ•°è¦æ¯”PASCALå’ŒImageNetéƒ½è¦å¤šã€‚ ä¸‹å›¾æ˜¯æ¯å¼ å›¾ç‰‡ä¸Šçš„ç±»åˆ«æ•°é‡æˆ–è€…å®žä¾‹æ•°é‡çš„åˆ†å¸ƒï¼Œæ‹¬å·ä¸­ä¸ºå¹³å‡å€¼ PASCALå’ŒImageNetä¸­ï¼Œæ¯å¼ å›¾ç‰‡ä¸Šçš„ç±»åˆ«æˆ–è€…å®žä¾‹æ•°é‡æ™®ééƒ½å¾ˆå°‘ã€‚ ä»¥PASCALä¸ºä¾‹ï¼šæœ‰å¤šäºŽ70%çš„å›¾ç‰‡ä¸Šéƒ½åªæœ‰ä¸€ä¸ªç±»åˆ«ï¼Œè€Œå¤šäºŽ50%çš„å›¾ç‰‡ä¸Šåªæœ‰ä¸€ä¸ªå®žä¾‹æˆ–è€…ç›®æ ‡ã€‚PASCALæ•°æ®é›†å¹³å‡æ¯å¼ å›¾ç‰‡åŒ…å«1.4ä¸ªç±»åˆ«å’Œ2.3ä¸ªå®žä¾‹ç›®æ ‡ï¼ŒImageNetä¹Ÿä»…æœ‰1.7å’Œ3.0ä¸ªã€‚ COCOæ•°æ®é›†å¹³å‡æ¯å¼ å›¾ç‰‡åŒ…å« 3.5ä¸ªç±»åˆ«å’Œ 7.7 ä¸ªå®žä¾‹ç›®æ ‡ï¼Œä»…æœ‰ä¸åˆ°20%çš„å›¾ç‰‡åªåŒ…å«ä¸€ä¸ªç±»åˆ«ï¼Œä»…æœ‰10%çš„å›¾ç‰‡åŒ…å«ä¸€ä¸ªå®žä¾‹ç›®æ ‡ã€‚ COCOæ•°æ®é›†ä¸ä»…æ•°æ®é‡å¤§ï¼Œç§ç±»å’Œå®žä¾‹æ•°é‡ä¹Ÿå¤šã€‚ä»Žè¿™è§’åº¦æ¥è¯´ SUN æ•°æ®é›†è¿™ä¸¤ä¸ªæŒ‡æ ‡æ›´é«˜ä¸€ç‚¹ï¼Œä½†æ˜¯è¿™ä¸ªæ•°æ®é›†åœ¨ç›®æ ‡æ£€æµ‹é‡Œé¢å¹¶ä¸å¸¸ç”¨ã€‚ å®žä¾‹ç›®æ ‡çš„åˆ†å¸ƒ COCOæ•°æ®é›†ä¸­çš„å°ç›®æ ‡æ•°é‡å æ¯”æ›´å¤š å…³äºŽæ•°æ®é›†çš„åˆ’åˆ†ï¼ŒCOCOçš„è®ºæ–‡é‡Œæ˜¯è¿™ä¹ˆè¯´çš„ï¼Œ The 2014 release contains 82,783 training, 40,504 validation, and 40,775 testing images (approximately 1/2 train, 1/4 val, and /4 test). There are nearly 270k segmented people and a total of 886k segmented object instances in the 2014 train+val data alone. The cumulative 2015 release will contain a total of 165,482 train, 81,208 val, and 81,434 test images. 2014å¹´çš„æ•°æ®åœ¨å®˜ç½‘æ˜¯å¯ä»¥ä¸‹è½½çš„ï¼Œä½†æ˜¯2015å¹´åªæœ‰testéƒ¨åˆ†ï¼Œtrainå’Œvaléƒ¨åˆ†çš„æ•°æ®æ²¡æœ‰ã€‚å¦å¤–2017å¹´çš„æ•°æ®å¹¶æ²¡æœ‰ä»€ä¹ˆæ–°çš„å›¾ç‰‡ï¼Œåªæ˜¯å°†æ•°æ®é‡æ–°åˆ’åˆ†ï¼Œtrainçš„æ•°æ®æ›´å¤šäº†ï¼Œå¦‚ä¸‹ï¼š 2 è¯„ä¼°æ ‡å‡†COCOçš„æµ‹è¯•æ ‡å‡†æ¯”PASCAL VOCæ›´ä¸¥æ ¼ï¼š PASCAL ä¸­åœ¨æµ‹è¯•mAPæ—¶ï¼Œæ˜¯åœ¨IOU=0.5æ—¶æµ‹çš„ COCOä¸­çš„AP æ˜¯æŒ‡åœ¨ 10ä¸ªIOUå±‚é¢ ä»¥åŠ 80ä¸ªç±»åˆ«å±‚é¢ çš„å¹³å‡å€¼ COCOçš„ä¸»è¦è¯„ä»·æŒ‡æ ‡æ˜¯APï¼ŒæŒ‡ IOUä»Ž0.5åˆ°0.95 æ¯å˜åŒ– 0.05 å°±æµ‹è¯•ä¸€æ¬¡ APï¼Œç„¶åŽæ±‚è¿™10æ¬¡æµ‹é‡ç»“æžœçš„å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆçš„ AP AP@0.5 è·ŸPASCAL VOCä¸­çš„mAPæ˜¯ç›¸åŒçš„å«ä¹‰ AP@0.75 è·ŸPASCAL VOCä¸­çš„mAPä¹Ÿç›¸åŒï¼Œåªæ˜¯IOUé˜ˆå€¼æé«˜åˆ°äº†0.75ï¼Œæ˜¾ç„¶è¿™ä¸ªå±‚é¢æ›´ä¸¥æ ¼ï¼Œç²¾åº¦ä¹Ÿä¼šæ›´ä½Ž IOUè¶Šé«˜ï¼ŒAPå°±è¶Šä½Žï¼Œæ‰€ä»¥æœ€ç»ˆçš„å¹³å‡ä¹‹åŽçš„APè¦æ¯” AP@0.5 å°å¾ˆå¤šï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆCOCOçš„AP è¶…è¿‡ 50%çš„åªæœ‰å¯¥å¯¥å‡ ä¸ªè€Œå·²ï¼Œå› ä¸ºè¶…è¿‡50%å¤ªéš¾äº†ã€‚è€Œä¸”ç”±äºŽCOCOæ•°æ®é›†æœ¬èº«æ•°æ®çš„å¤æ‚æ€§ï¼Œæ‰€ä»¥ç›®å‰çš„ AP@0.5 æœ€é«˜ä¹Ÿåªæœ‰ 73% ã€‚ COCOæ•°æ®é›†è¿˜é’ˆå¯¹ ä¸‰ç§ä¸åŒå¤§å°ï¼ˆsmallï¼Œmediumï¼Œlargeï¼‰ çš„å›¾ç‰‡æå‡ºäº†æµ‹é‡æ ‡å‡†ï¼ŒCOCOä¸­åŒ…å«å¤§çº¦ 41% çš„å°ç›®æ ‡ ($area &lt; 32Ã—32$), 34% çš„ä¸­ç­‰ç›®æ ‡ ($32Ã—32 &lt; area &lt; 96Ã—96$), å’Œ 24% çš„å¤§ç›®æ ‡ ($area &gt; 96Ã—96$). å°ç›®æ ‡çš„APæ˜¯å¾ˆéš¾æå‡çš„ã€‚ é™¤äº†APä¹‹å¤–ï¼Œè¿˜æå‡ºäº† AR çš„æµ‹é‡æ ‡å‡† è·ŸAPæ˜¯ç±»ä¼¼çš„ã€‚ COCOæä¾›äº†ä¸€äº›ä»£ç ï¼Œæ–¹ä¾¿å¯¹æ•°æ®é›†çš„ä½¿ç”¨å’Œæ¨¡åž‹è¯„ä¼° ï¼šhttps://github.com/cocodataset/cocoapi 3 æ€»ç»“ä¸ºä»€ä¹ˆCOCOçš„æ£€æµ‹ä»»åŠ¡é‚£ä¹ˆéš¾ï¼Ÿ å›¾ç‰‡å¤§å¤šæ•°æ¥æºäºŽç”Ÿæ´»ä¸­ï¼ŒèƒŒæ™¯æ›´å¤æ‚ æ¯å¼ å›¾ç‰‡ä¸Šçš„å®žä¾‹ç›®æ ‡ä¸ªæ•°å¤šï¼Œå¹³å‡æ¯å¼ å›¾ç‰‡7.7ä¸ª å°ç›®æ ‡æ›´å¤š è¯„ä¼°æ ‡å‡†æ›´ä¸¥æ ¼ æ‰€ä»¥çŽ°åœ¨å¤§å®¶æ›´å€¾å‘äºŽä½¿ç”¨COCOæ¥è¯„ä¼°æ¨¡åž‹çš„è´¨é‡ã€‚ å‚è€ƒèµ„æ–™ COCOå®˜ç½‘ï¼šhttp://cocodataset.org è®ºæ–‡ï¼šMicrosoft COCO: Common Objects in Context è®ºæ–‡ï¼šWhat makes for effective detection proposals?]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>dataset</tag>
        <tag>MSCOCO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›®æ ‡æ£€æµ‹æ•°æ®é›†PASCAL VOCç®€ä»‹]]></title>
    <url>%2Farticles%2F1dc20586%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹PASCAL VOCæŒ‘æˆ˜èµ› ï¼ˆThe PASCAL Visual Object Classes ï¼‰æ˜¯ä¸€ä¸ªä¸–ç•Œçº§çš„è®¡ç®—æœºè§†è§‰æŒ‘æˆ˜èµ›, PASCALå…¨ç§°ï¼šPattern Analysis, Statical Modeling and Computational Learningï¼Œæ˜¯ä¸€ä¸ªç”±æ¬§ç›Ÿèµ„åŠ©çš„ç½‘ç»œç»„ç»‡ã€‚ å¾ˆå¤šä¼˜ç§€çš„è®¡ç®—æœºè§†è§‰æ¨¡åž‹æ¯”å¦‚åˆ†ç±»ï¼Œå®šä½ï¼Œæ£€æµ‹ï¼Œåˆ†å‰²ï¼ŒåŠ¨ä½œè¯†åˆ«ç­‰æ¨¡åž‹éƒ½æ˜¯åŸºäºŽPASCAL VOCæŒ‘æˆ˜èµ›åŠå…¶æ•°æ®é›†ä¸ŠæŽ¨å‡ºçš„ï¼Œå°¤å…¶æ˜¯ä¸€äº›ç›®æ ‡æ£€æµ‹æ¨¡åž‹ï¼ˆæ¯”å¦‚å¤§åé¼Žé¼Žçš„R CNNç³»åˆ—ï¼Œä»¥åŠåŽé¢çš„YOLOï¼ŒSSDç­‰ï¼‰ã€‚ PASCAL VOCä»Ž2005å¹´å¼€å§‹ä¸¾åŠžæŒ‘æˆ˜èµ›ï¼Œæ¯å¹´çš„å†…å®¹éƒ½æœ‰æ‰€ä¸åŒï¼Œä»Žæœ€å¼€å§‹çš„åˆ†ç±»ï¼Œåˆ°åŽé¢é€æ¸å¢žåŠ æ£€æµ‹ï¼Œåˆ†å‰²ï¼Œäººä½“å¸ƒå±€ï¼ŒåŠ¨ä½œè¯†åˆ«ï¼ˆObject Classification ã€Object Detectionã€Object Segmentationã€Human Layoutã€Action Classificationï¼‰ç­‰å†…å®¹ï¼Œæ•°æ®é›†çš„å®¹é‡ä»¥åŠç§ç±»ä¹Ÿåœ¨ä¸æ–­çš„å¢žåŠ å’Œæ”¹å–„ã€‚è¯¥é¡¹æŒ‘æˆ˜èµ›å‚¬ç”Ÿå‡ºäº†ä¸€å¤§æ‰¹ä¼˜ç§€çš„è®¡ç®—æœºè§†è§‰æ¨¡åž‹ï¼ˆå°¤å…¶æ˜¯ä»¥æ·±åº¦å­¦ä¹ æŠ€æœ¯ä¸ºä¸»çš„ï¼‰ã€‚ æˆ‘ä»¬çŸ¥é“åœ¨ ImageNetæŒ‘æˆ˜èµ›ä¸Šæ¶ŒçŽ°äº†ä¸€å¤§æ‰¹ä¼˜ç§€çš„åˆ†ç±»æ¨¡åž‹ï¼Œè€ŒPASCALæŒ‘æˆ˜èµ›ä¸Šåˆ™æ˜¯æ¶ŒçŽ°äº†ä¸€å¤§æ‰¹ä¼˜ç§€çš„ç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²æ¨¡åž‹ï¼Œè¿™é¡¹æŒ‘æˆ˜èµ›å·²äºŽ2012å¹´åœæ­¢ä¸¾åŠžäº†ï¼Œä½†æ˜¯ç ”ç©¶è€…ä»ç„¶å¯ä»¥åœ¨å…¶æœåŠ¡å™¨ä¸Šæäº¤é¢„æµ‹ç»“æžœä»¥è¯„ä¼°æ¨¡åž‹çš„æ€§èƒ½ã€‚ è™½ç„¶è¿‘æœŸçš„ç›®æ ‡æ£€æµ‹æˆ–åˆ†å‰²æ¨¡åž‹æ›´å€¾å‘äºŽä½¿ç”¨MS COCOæ•°æ®é›†ï¼Œä½†æ˜¯è¿™ä¸æ¯«ä¸å½±å“ PASCAL VOCæ•°æ®é›†çš„é‡è¦æ€§ï¼Œæ¯•ç«ŸPASCALå¯¹äºŽç›®æ ‡æ£€æµ‹æˆ–åˆ†å‰²ç±»åž‹æ¥è¯´å±žäºŽå…ˆé©±è€…çš„åœ°ä½ã€‚å¯¹äºŽçŽ°åœ¨çš„ç ”ç©¶è€…æ¥è¯´æ¯”è¾ƒé‡è¦çš„ä¸¤ä¸ªå¹´ä»½çš„æ•°æ®é›†æ˜¯ PASCAL VOC 2007 ä¸Ž PASCAL VOC 2012ï¼Œè¿™ä¸¤ä¸ªæ•°æ®é›†é¢‘é¢‘åœ¨çŽ°åœ¨çš„ä¸€äº›æ£€æµ‹æˆ–åˆ†å‰²ç±»çš„è®ºæ–‡å½“ä¸­å‡ºçŽ°ã€‚ PASCALä¸»é¡µ ä¸Ž æŽ’è¡Œæ¦œ ï¼ˆæ¦œä¸Šå·²å‡ ä¹Žçœ‹ä¸åˆ°ä¼ ç»Ÿçš„è§†è§‰æ¨¡åž‹äº†ï¼Œå…¨æ˜¯åŸºäºŽæ·±åº¦å­¦ä¹ çš„ï¼‰ PASCAL VOC 2007 æŒ‘æˆ˜èµ›ä¸»é¡µ ä¸Ž PASCAL VOC 2012 æŒ‘æˆ˜èµ›ä¸»é¡µ ä¸Ž PASCAL VOC Evaluation Server. ä»¥åŠåœ¨ä¸¤ä¸ªé‡è¦æ—¶é—´ç‚¹å¯¹ PASCAL VOCæŒ‘æˆ˜èµ› æˆç»©è¿›è¡Œæ€»ç»“çš„ä¸¤ç¯‡è®ºæ–‡ The PASCAL Visual Object Classes Challenge: A Retrospective Everingham, M., Eslami, S. M. A., Van Gool, L., Williams, C. K. I., Winn, J. and Zisserman, A.International Journal of Computer Vision, 111(1), 98-136, 2015Bibtex source | Abstract | PDF ä¸»è¦æ€»ç»“PASCAL VOC 2012çš„æ•°æ®é›†æƒ…å†µï¼Œä»¥åŠ2011å¹´-2013å¹´ä¹‹é—´å‡ºçŽ°çš„æ¨¡åž‹åŠå…¶æ€§èƒ½å¯¹æ¯” The PASCAL Visual Object Classes (VOC) ChallengeEveringham, M., Van Gool, L., Williams, C. K. I., Winn, J. and Zisserman, A.International Journal of Computer Vision, 88(2), 303-338, 2010Bibtex source | Abstract | PDF ä¸»è¦æ€»ç»“PASCAL VOC 2007çš„æ•°æ®é›†æƒ…å†µï¼Œä»¥åŠ2008å¹´ä¹‹å‰å‡ºçŽ°çš„æ¨¡åž‹åŠå…¶æ€§èƒ½å¯¹æ¯” ä¸è¿‡åœ¨ä»¥ä¸Šè®ºæ–‡ä¸­å‡ºçŽ°çš„æ·±åº¦å­¦ä¹ æ¨¡åž‹åªæœ‰ä¸€ä¸ª R-CNNå§ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä¼ ç»Ÿæ–¹å¼çš„æ¨¡åž‹ï¼Œæ¯•ç«Ÿæ·±åº¦å­¦ä¹ æ¨¡åž‹ä¸»è¦åœ¨14å¹´ä»¥åŽæ‰å¤§é‡æ¶ŒçŽ°ã€‚ æœ¬æ–‡ä¹Ÿæ˜¯ä»¥PASCAL VOC 2007 å’Œ 2012 ä¸ºä¾‹ç®€è¦ä»‹ç»VOCæ•°æ®é›†çš„ç»“æž„ã€‚ 1 æ•°æ®é›†æ•´ä½“æ¦‚å†µ1.1 å±‚çº§ç»“æž„PASCAL VOC æ•°æ®é›†çš„20ä¸ªç±»åˆ«åŠå…¶å±‚çº§ç»“æž„ï¼š ä»Ž2007å¹´å¼€å§‹ï¼ŒPASCAL VOCæ¯å¹´çš„æ•°æ®é›†éƒ½æ˜¯è¿™ä¸ªå±‚çº§ç»“æž„ æ€»å…±å››ä¸ªå¤§ç±»ï¼švehicle,household,animal,person æ€»å…±20ä¸ªå°ç±»ï¼Œé¢„æµ‹çš„æ—¶å€™æ˜¯åªè¾“å‡ºå›¾ä¸­é»‘è‰²ç²—ä½“çš„ç±»åˆ« æ•°æ®é›†ä¸»è¦å…³æ³¨åˆ†ç±»å’Œæ£€æµ‹ï¼Œä¹Ÿå°±æ˜¯åˆ†ç±»å’Œæ£€æµ‹ç”¨åˆ°çš„æ•°æ®é›†ç›¸å¯¹è§„æ¨¡è¾ƒå¤§ã€‚å…³äºŽå…¶ä»–ä»»åŠ¡æ¯”å¦‚åˆ†å‰²ï¼ŒåŠ¨ä½œè¯†åˆ«ç­‰ï¼Œå…¶æ•°æ®é›†ä¸€èˆ¬æ˜¯åˆ†ç±»å’Œæ£€æµ‹æ•°æ®é›†çš„å­é›†ã€‚ 1.2 å‘å±•åŽ†ç¨‹ä¸Žä½¿ç”¨æ–¹æ³•ç®€è¦æä¸€ä¸‹åœ¨å‡ ä¸ªå…³é”®æ—¶é—´ç‚¹æ•°æ®é›†çš„ä¸€äº›å…³é”®å˜åŒ–ï¼Œè¯¦ç»†çš„è¯·æŸ¥çœ‹PASCAL VOCä¸»é¡µ ã€‚ 2005å¹´ï¼šè¿˜åªæœ‰4ä¸ªç±»åˆ«ï¼š bicycles, cars, motorbikes, people. Train/validation/testå…±æœ‰å›¾ç‰‡1578 å¼ ï¼ŒåŒ…å«2209 ä¸ªå·²æ ‡æ³¨çš„ç›®æ ‡objects. 2007å¹´ ï¼šåœ¨è¿™ä¸€å¹´PASCAL VOCåˆæ­¥å»ºç«‹æˆä¸€ä¸ªå®Œå–„çš„æ•°æ®é›†ã€‚ç±»åˆ«æ‰©å……åˆ°20ç±»ï¼ŒTrain/validation/testå…±æœ‰9963å¼ å›¾ç‰‡ï¼ŒåŒ…å«24640 ä¸ªå·²æ ‡æ³¨çš„ç›®æ ‡objects. 07å¹´ä¹‹å‰çš„æ•°æ®é›†ä¸­testéƒ¨åˆ†éƒ½æ˜¯å…¬å¸ƒçš„ï¼Œä½†æ˜¯ä¹‹åŽçš„éƒ½æ²¡æœ‰å…¬å¸ƒã€‚ 2009å¹´ï¼šä»Žè¿™ä¸€å¹´å¼€å§‹ï¼Œé€šè¿‡åœ¨å‰ä¸€å¹´çš„æ•°æ®é›†åŸºç¡€ä¸Šå¢žåŠ æ–°æ•°æ®çš„æ–¹å¼æ¥æ‰©å……æ•°æ®é›†ã€‚æ¯”å¦‚09å¹´çš„æ•°æ®é›†æ˜¯åŒ…å«äº†08å¹´çš„æ•°æ®é›†çš„ï¼Œä¹Ÿå°±æ˜¯è¯´08å¹´çš„æ•°æ®é›†æ˜¯09å¹´çš„ä¸€ä¸ªå­é›†ï¼Œä»¥åŽæ¯å¹´éƒ½æ˜¯è¿™æ ·çš„æ‰©å……æ–¹å¼ï¼Œç›´åˆ°2012å¹´ï¼›09å¹´ä¹‹å‰è™½ç„¶æ¯å¹´çš„æ•°æ®é›†éƒ½åœ¨å˜å¤§ï¼ˆ08å¹´æ¯”07å¹´ç•¥å°‘ï¼‰ï¼Œä½†æ˜¯æ¯å¹´çš„æ•°æ®é›†éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å¹´çš„æ•°æ®é›†éƒ½æ˜¯äº’æ–¥çš„ï¼Œæ²¡æœ‰é‡å çš„å›¾ç‰‡ã€‚ 2012å¹´ï¼šä»Ž09å¹´åˆ°11å¹´ï¼Œæ•°æ®é‡ä»ç„¶é€šè¿‡ä¸Šè¿°æ–¹å¼ä¸æ–­å¢žé•¿ï¼Œ11å¹´åˆ°12å¹´ï¼Œç”¨äºŽåˆ†ç±»ã€æ£€æµ‹å’Œperson layout ä»»åŠ¡çš„æ•°æ®é‡æ²¡æœ‰æ”¹å˜ã€‚ä¸»è¦æ˜¯é’ˆå¯¹åˆ†å‰²å’ŒåŠ¨ä½œè¯†åˆ«ï¼Œå®Œå–„ç›¸åº”çš„æ•°æ®å­é›†ä»¥åŠæ ‡æ³¨ä¿¡æ¯ã€‚ å¯¹äºŽåˆ†ç±»å’Œæ£€æµ‹æ¥è¯´ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾æ‰€ç¤ºçš„å‘å±•åŽ†ç¨‹ï¼Œç›¸åŒé¢œè‰²çš„ä»£è¡¨ç›¸åŒçš„æ•°æ®é›†ï¼š åˆ†å‰²ä»»åŠ¡çš„æ•°æ®é›†å˜åŒ–ç•¥æœ‰ä¸åŒï¼š VOC 2012ç”¨äºŽåˆ†ç±»å’Œæ£€æµ‹çš„æ•°æ®åŒ…å« 2008-2011å¹´é—´çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶ä¸ŽVOC2007äº’æ–¥ã€‚ VOC 2012ç”¨äºŽåˆ†å‰²çš„æ•°æ®ä¸­train+valåŒ…å« 2007-2011å¹´é—´çš„æ‰€æœ‰æ•°æ®ï¼ŒteståŒ…å«2008-2011å¹´é—´çš„æ•°æ®ï¼Œæ²¡æœ‰åŒ…å«07å¹´çš„æ˜¯å› ä¸º07å¹´çš„testæ•°æ®å·²ç»å…¬å¼€äº†ã€‚ 2012å¹´æ˜¯æœ€åŽä¸€æ¬¡æŒ‘æˆ˜èµ›ï¼Œæœ€ç»ˆç”¨äºŽåˆ†ç±»å’Œæ£€æµ‹çš„æ•°æ®é›†è§„æ¨¡ä¸ºï¼štrain/val ï¼š11540 å¼ å›¾ç‰‡ï¼ŒåŒ…å« 27450 ä¸ªå·²è¢«æ ‡æ³¨çš„ ROI annotated objects ï¼›ç”¨äºŽåˆ†å‰²çš„æ•°æ®é›†è§„æ¨¡ä¸ºï¼štrainvalï¼š2913å¼ å›¾ç‰‡ï¼Œ6929ä¸ªåˆ†å‰²ï¼Œç”¨äºŽå…¶ä»–ä»»åŠ¡çš„ä¸å†ç»†è¯´ï¼Œå‚è€ƒè¿™é‡Œ ã€‚ å³ä¾¿æŒ‘æˆ˜èµ›ç»“æŸäº†ï¼Œä½†æ˜¯ç ”ç©¶è€…ä»¬ä»ç„¶å¯ä»¥ä¸Šä¼ é¢„æµ‹ç»“æžœè¿›è¡Œè¯„ä¼°ã€‚ä¸Šä¼ å…¥å£ï¼š PASCAL VOC Evaluation Server. ç›®å‰å¹¿å¤§ç ”ç©¶è€…ä»¬æ™®éä½¿ç”¨çš„æ˜¯ VOC2007å’ŒVOC2012æ•°æ®é›†ï¼Œå› ä¸ºäºŒè€…æ˜¯äº’æ–¥çš„ï¼Œä¸ç›¸å®¹çš„ã€‚ è®ºæ–‡ä¸­é’ˆå¯¹ VOC2007å’ŒVOC2012 çš„å…·ä½“ç”¨æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š åªç”¨VOC2007çš„trainval è®­ç»ƒï¼Œä½¿ç”¨VOC2007çš„testæµ‹è¯• åªç”¨VOC2012çš„trainval è®­ç»ƒï¼Œä½¿ç”¨VOC2012çš„testæµ‹è¯•ï¼Œè¿™ç§ç”¨æ³•å¾ˆå°‘ä½¿ç”¨ï¼Œå› ä¸ºå¤§å®¶éƒ½ä¼šç»“åˆVOC2007ä½¿ç”¨ ä½¿ç”¨ VOC2007 çš„ train+val å’Œ VOC2012çš„ train+val è®­ç»ƒï¼Œç„¶åŽä½¿ç”¨ VOC2007çš„testæµ‹è¯•ï¼Œè¿™ä¸ªç”¨æ³•æ˜¯è®ºæ–‡ä¸­ç»å¸¸çœ‹åˆ°çš„ 07+12 ï¼Œç ”ç©¶è€…å¯ä»¥è‡ªå·±æµ‹è¯•åœ¨VOC2007ä¸Šçš„ç»“æžœï¼Œå› ä¸ºVOC2007çš„testæ˜¯å…¬å¼€çš„ã€‚ ä½¿ç”¨ VOC2007 çš„ train+val+test å’Œ VOC2012çš„ train+valè®­ç»ƒï¼Œç„¶åŽä½¿ç”¨ VOC2012çš„testæµ‹è¯•ï¼Œè¿™ä¸ªç”¨æ³•æ˜¯è®ºæ–‡ä¸­ç»å¸¸çœ‹åˆ°çš„ 07++12 ï¼Œè¿™ç§æ–¹æ³•éœ€æäº¤åˆ°VOCå®˜æ–¹æœåŠ¡å™¨ä¸Šè¯„ä¼°ç»“æžœï¼Œå› ä¸ºVOC2012 testæ²¡æœ‰å…¬å¸ƒã€‚ å…ˆåœ¨ MS COCO çš„ trainval ä¸Šé¢„è®­ç»ƒï¼Œå†ä½¿ç”¨ VOC2007 çš„ train+valã€ VOC2012çš„ train+val å¾®è°ƒè®­ç»ƒï¼Œç„¶åŽä½¿ç”¨ VOC2007çš„testæµ‹è¯•ï¼Œè¿™ä¸ªç”¨æ³•æ˜¯è®ºæ–‡ä¸­ç»å¸¸çœ‹åˆ°çš„ 07+12+COCO ã€‚ å…ˆåœ¨ MS COCO çš„ trainval ä¸Šé¢„è®­ç»ƒï¼Œå†ä½¿ç”¨ VOC2007 çš„ train+val+test ã€ VOC2012çš„ train+val å¾®è°ƒè®­ç»ƒï¼Œç„¶åŽä½¿ç”¨ VOC2012çš„testæµ‹è¯• ï¼Œè¿™ä¸ªç”¨æ³•æ˜¯è®ºæ–‡ä¸­ç»å¸¸çœ‹åˆ°çš„ 07++12+COCOï¼Œè¿™ç§æ–¹æ³•éœ€æäº¤åˆ°VOCå®˜æ–¹æœåŠ¡å™¨ä¸Šè¯„ä¼°ç»“æžœï¼Œå› ä¸ºVOC2012 testæ²¡æœ‰å…¬å¸ƒã€‚ åœ¨å„è‡ªæ•°æ®é›†ä¸Šåˆ†åˆ«è¿›è¡Œå»ºæ¨¡å’Œè¯„æµ‹çš„ç”¨æ³•æ¯”è¾ƒå°‘ï¼ŒåŸºæœ¬ä¸Šåœ¨æ—©æœŸè®ºæ–‡é‡Œå‡ºçŽ°å°±æ˜¯èµ·ä¸ªå¯¹ç…§ä½œç”¨ï¼›çŽ°åœ¨çš„å¤§éƒ¨åˆ†è®ºæ–‡éƒ½ä¼šä¸ºäº†å¢žåŠ æ•°æ®é‡è€Œå°†äºŒè€…åˆèµ·æ¥ä½¿ç”¨ã€‚ 2 æ•°æ®é‡ç»Ÿè®¡ç”±äºŽçŽ°åœ¨çš„ç ”ç©¶åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨VOC2007å’ŒVOC2012ä¸Šé¢è¿›è¡Œï¼Œå› æ­¤åªä»‹ç»è¿™ä¸¤ä¸ªå¹´ä»½çš„ã€‚ 2.1 VOC 2007ä¸€äº›ç¤ºä¾‹å›¾ç‰‡å±•ç¤ºï¼šClassification/detection example images æ•°æ®é›†æ€»ä½“ç»Ÿè®¡ï¼š ä»¥ä¸Šæ˜¯æ•°æ®é›†æ€»ä½“çš„ç»Ÿè®¡æƒ…å†µï¼Œè¿™ä¸ªé‡Œé¢æ˜¯åŒ…å«äº†æµ‹è¯•é›†çš„ï¼Œå¯è§person ç±»æ˜¯æœ€å¤šçš„ã€‚ è®­ç»ƒé›†ï¼ŒéªŒè¯é›†ï¼Œæµ‹è¯•é›†åˆ’åˆ†æƒ…å†µ PASCAL VOC 2007 æ•°æ®é›†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šè®­ç»ƒå’ŒéªŒè¯é›†trainvalï¼Œæµ‹è¯•é›†test ï¼Œä¸¤éƒ¨åˆ†å„å æ•°æ®æ€»é‡çš„çº¦ 50%ã€‚å…¶ä¸­trainval åˆåˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼ŒäºŒè€…åˆ†åˆ«å„å trainvalçš„50%ã€‚ æ¯å¼ å›¾ç‰‡ä¸­æœ‰å¯èƒ½åŒ…å«ä¸åªä¸€ä¸ªç›®æ ‡objectã€‚ è¿™é‡Œæˆ‘å°±åªè´´å‡ºç”¨äºŽåˆ†ç±»å’Œæ£€æµ‹çš„åˆ’åˆ†æƒ…å†µï¼Œå…³äºŽåˆ†å‰²æˆ–è€…å…¶ä»–ä»»åŠ¡çš„åˆ’åˆ†æ–¹å¼ ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ ã€‚ 2.2 VOC 2012ä¸€äº›ç¤ºä¾‹å›¾ç‰‡å±•ç¤ºï¼šClassification/detection example images æ•°æ®é›†æ€»ä½“ç»Ÿè®¡ è¿™ä¸ªç»Ÿè®¡æ˜¯æ²¡æœ‰åŒ…å« testéƒ¨åˆ†çš„ï¼Œä»ç„¶æ˜¯personç±»æœ€å¤š trainvaléƒ¨åˆ†çš„æ•°æ®ç»Ÿè®¡ï¼š testéƒ¨åˆ†æ²¡æœ‰å…¬å¸ƒï¼ŒåŒæ ·çš„ é™¤äº†åˆ†ç±»å’Œæ£€æµ‹ä¹‹å¤–çš„æ•°æ®ç»Ÿè®¡ï¼Œå‚è€ƒè¿™é‡Œ 2.3 VOC 2007 ä¸Ž 2012 çš„å¯¹æ¯”VOC 2007 ä¸Ž 2012 æ•°æ®é›†åŠäºŒè€…çš„å¹¶é›† æ•°æ®é‡å¯¹æ¯” é»‘è‰²å­—ä½“æ‰€ç¤ºæ•°å­—æ˜¯å®˜æ–¹ç»™å®šçš„ï¼Œç”±äºŽVOC2012æ•°æ®é›†ä¸­ test éƒ¨åˆ†æ²¡æœ‰å…¬å¸ƒï¼Œå› æ­¤çº¢è‰²å­—ä½“æ‰€ç¤ºæ•°å­—ä¸ºä¼°è®¡æ•°æ®ï¼ŒæŒ‰ç…§PASCAL é€šå¸¸çš„åˆ’åˆ†æ–¹æ³•ï¼Œå³ trainval ä¸Žtest å„å æ€»æ•°æ®é‡çš„ä¸€åŠã€‚ 3 æ ‡æ³¨ä¿¡æ¯æ•°æ®é›†çš„æ ‡æ³¨è¿˜æ˜¯å¾ˆè°¨æ…Žçš„ï¼Œæœ‰ä¸“é—¨çš„æ ‡æ³¨å›¢é˜Ÿï¼Œå¹¶éµä»Žç»Ÿä¸€çš„æ ‡æ³¨æ ‡å‡†ï¼Œå‚è€ƒ guidelines ã€‚ æ ‡æ³¨ä¿¡æ¯æ˜¯ç”¨ xml æ–‡ä»¶ç»„ç»‡çš„å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;annotation&gt; &lt;folder&gt;VOC2007&lt;/folder&gt; &lt;filename&gt;000001.jpg&lt;/filename&gt; &lt;source&gt; &lt;database&gt;The VOC2007 Database&lt;/database&gt; &lt;annotation&gt;PASCAL VOC2007&lt;/annotation&gt; &lt;image&gt;flickr&lt;/image&gt; &lt;flickrid&gt;341012865&lt;/flickrid&gt; &lt;/source&gt; &lt;owner&gt; &lt;flickrid&gt;Fried Camels&lt;/flickrid&gt; &lt;name&gt;Jinky the Fruit Bat&lt;/name&gt; &lt;/owner&gt; &lt;size&gt; &lt;width&gt;353&lt;/width&gt; &lt;height&gt;500&lt;/height&gt; &lt;depth&gt;3&lt;/depth&gt; &lt;/size&gt; &lt;segmented&gt;0&lt;/segmented&gt; &lt;object&gt; &lt;name&gt;dog&lt;/name&gt; &lt;pose&gt;Left&lt;/pose&gt; &lt;truncated&gt;1&lt;/truncated&gt; &lt;difficult&gt;0&lt;/difficult&gt; &lt;bndbox&gt; &lt;xmin&gt;48&lt;/xmin&gt; &lt;ymin&gt;240&lt;/ymin&gt; &lt;xmax&gt;195&lt;/xmax&gt; &lt;ymax&gt;371&lt;/ymax&gt; &lt;/bndbox&gt; &lt;/object&gt; &lt;object&gt; &lt;name&gt;person&lt;/name&gt; &lt;pose&gt;Left&lt;/pose&gt; &lt;truncated&gt;1&lt;/truncated&gt; &lt;difficult&gt;0&lt;/difficult&gt; &lt;bndbox&gt; &lt;xmin&gt;8&lt;/xmin&gt; &lt;ymin&gt;12&lt;/ymin&gt; &lt;xmax&gt;352&lt;/xmax&gt; &lt;ymax&gt;498&lt;/ymax&gt; &lt;/bndbox&gt; &lt;/object&gt;&lt;/annotation&gt; filename ï¼šæ–‡ä»¶å sourceï¼Œownerï¼šå›¾ç‰‡æ¥æºï¼ŒåŠæ‹¥æœ‰è€… sizeï¼šå›¾ç‰‡å¤§å° segmentedï¼šæ˜¯å¦åˆ†å‰² objectï¼šè¡¨æ˜Žè¿™æ˜¯ä¸€ä¸ªç›®æ ‡ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯ç›®æ ‡çš„ç›¸å…³ä¿¡æ¯ nameï¼šobjectåç§°ï¼Œ20ä¸ªç±»åˆ« poseï¼šæ‹æ‘„è§’åº¦ï¼šfront, rear, left, right, unspecified truncatedï¼šç›®æ ‡æ˜¯å¦è¢«æˆªæ–­ï¼ˆæ¯”å¦‚åœ¨å›¾ç‰‡ä¹‹å¤–ï¼‰ï¼Œæˆ–è€…è¢«é®æŒ¡ï¼ˆè¶…è¿‡15%ï¼‰ difficultï¼šæ£€æµ‹éš¾æ˜“ç¨‹åº¦ï¼Œè¿™ä¸ªä¸»è¦æ˜¯æ ¹æ®ç›®æ ‡çš„å¤§å°ï¼Œå…‰ç…§å˜åŒ–ï¼Œå›¾ç‰‡è´¨é‡æ¥åˆ¤æ–­ difficult æ ‡ç­¾ç¤ºä¾‹ï¼šå›¾ä¸­ç™½è‰²è™šçº¿ï¼Œè¢«æ ‡è®°ä¸º difficultã€‚ bndboxï¼šbounding box çš„å·¦ä¸Šè§’ç‚¹å’Œå³ä¸‹è§’ç‚¹çš„4ä¸ªåæ ‡å€¼ã€‚ 4 æäº¤æ ¼å¼4.1 Classification Taskæ¯ä¸€ç±»éƒ½æœ‰ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œé‡Œé¢æ¯ä¸€è¡Œéƒ½æ˜¯æµ‹è¯•é›†ä¸­çš„ä¸€å¼ å›¾ç‰‡ï¼Œå‰é¢ä¸€åˆ—æ˜¯å›¾ç‰‡åç§°ï¼ŒåŽé¢ä¸€åˆ—æ˜¯é¢„æµ‹çš„åˆ†æ•°ã€‚ comp1_cls_test_car.txt: 12345000004 0.702732000006 0.870849000008 0.532489000018 0.477167000019 0.112426 4.2 Detection Taskcomp3_det_test_car.txt: 12345000004 0.702732 89 112 516 466000006 0.870849 373 168 488 229000006 0.852346 407 157 500 213000006 0.914587 2 161 55 221000008 0.532489 175 184 232 201 æ¯ä¸€ç±»éƒ½æœ‰ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œé‡Œé¢æ¯ä¸€è¡Œéƒ½æ˜¯æµ‹è¯•é›†ä¸­çš„ä¸€å¼ å›¾ç‰‡ï¼Œæ¯è¡Œçš„æ ¼å¼æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ç»„ç»‡ 1&lt;image identifier&gt; &lt;confidence&gt; &lt;left&gt; &lt;top&gt; &lt;right&gt; &lt;bottom&gt; confidence ç”¨æ¥è®¡ç®— mAP. 5 è¯„ä¼°æ ‡å‡†PASCALçš„è¯„ä¼°æ ‡å‡†æ˜¯ mAP(mean average precision) å…³äºŽmAPä¸å†è¯¦ç»†è§£é‡Šï¼Œå‚è€ƒä»¥ä¸‹èµ„æ–™ï¼š æ€§èƒ½æŒ‡æ ‡ï¼ˆæ¨¡åž‹è¯„ä¼°ï¼‰ä¹‹mAP average precision å‘¨å¿—åŽè€å¸ˆ ã€Šæœºå™¨å­¦ä¹ ã€‹ æ¨¡åž‹è¯„ä¼°æ ‡å‡†ä¸€èŠ‚ è¿™é‡Œç®€å•çš„æä¸€ä¸‹ï¼š ä¸‹é¢æ˜¯ä¸€ä¸ªäºŒåˆ†ç±»çš„P-Ræ›²çº¿ï¼ˆprecision-recall curveï¼‰ï¼Œå¯¹äºŽPASCALæ¥è¯´ï¼Œæ¯ä¸€ç±»éƒ½æœ‰ä¸€ä¸ªè¿™æ ·çš„ P-Ræ›²çº¿ï¼ŒP-Ræ›²çº¿ä¸‹é¢ä¸Žxè½´å›´æˆçš„é¢ç§¯ç§°ä¸º average precisionï¼Œæ¯ä¸ªç±»åˆ«éƒ½æœ‰ä¸€ä¸ª AP, 20ä¸ªç±»åˆ«çš„AP å–å¹³å‡å€¼å°±æ˜¯ mAPã€‚ PASCALå®˜æ–¹ç»™äº†è¯„ä¼°è„šæœ¬mAPçš„è„šæœ¬å’Œç¤ºä¾‹ä»£ç  development kit code and documentation ï¼Œæ˜¯ç”¨MATLABå†™çš„ã€‚ 6 æ•°æ®é›†ç»„ç»‡ç»“æž„æ•°æ®é›†çš„ä¸‹è½½: 123456789# Download the data.cd $HOME/datawget http://host.robots.ox.ac.uk/pascal/VOC/voc2012/VOCtrainval_11-May-2012.tarwget http://host.robots.ox.ac.uk/pascal/VOC/voc2007/VOCtrainval_06-Nov-2007.tarwget http://host.robots.ox.ac.uk/pascal/VOC/voc2007/VOCtest_06-Nov-2007.tar# Extract the data.tar -xvf VOCtrainval_11-May-2012.tartar -xvf VOCtrainval_06-Nov-2007.tartar -xvf VOCtest_06-Nov-2007.tar æˆ–è€…æ”¯ç›´æŽ¥ç‚¹å‡»ä¸‹é¢é“¾æŽ¥ä¸‹è½½ï¼š Download the training/validation data (450MB tar file) Download the annotated test data (430MB tar file) ä¸Šé¢çš„è§£åŽ‹å‘½ä»¤ä¼šå°†VOC2007çš„trainvalå’Œtestè§£åŽ‹åˆ°ä¸€å—ï¼Œæ•°æ®ä¼šæ··åœ¨ä¸€èµ·ï¼Œå¦‚æžœä¸æƒ³ï¼Œå¯ä»¥è‡ªå·±æŒ‡å®šè§£åŽ‹è·¯å¾„ã€‚ä»¥VOC 2007 ä¸ºä¾‹ï¼Œè§£åŽ‹åŽçš„æ–‡ä»¶ï¼š 123456.â”œâ”€â”€ Annotations è¿›è¡Œdetection ä»»åŠ¡æ—¶çš„ æ ‡ç­¾æ–‡ä»¶ï¼Œxmlæ–‡ä»¶å½¢å¼â”œâ”€â”€ ImageSets å­˜æ”¾æ•°æ®é›†çš„åˆ†å‰²æ–‡ä»¶ï¼Œæ¯”å¦‚trainï¼Œvalï¼Œtestâ”œâ”€â”€ JPEGImages å­˜æ”¾ .jpgæ ¼å¼çš„å›¾ç‰‡æ–‡ä»¶â”œâ”€â”€ SegmentationClass å­˜æ”¾ æŒ‰ç…§class åˆ†å‰²çš„å›¾ç‰‡â””â”€â”€ SegmentationObject å­˜æ”¾ æŒ‰ç…§ object åˆ†å‰²çš„å›¾ç‰‡ Annotations æ–‡ä»¶å¤¹ï¼š 12345678910.â”œâ”€â”€ 000001.xmlâ”œâ”€â”€ 000002.xmlâ”œâ”€â”€ 000003.xmlâ”œâ”€â”€ 000004.xmlâ€¦â€¦â€¦â€¦â€¦â€¦â”œâ”€â”€ 009962.xmlâ””â”€â”€ 009963.xml ä»¥xml æ–‡ä»¶çš„å½¢å¼ï¼Œå­˜æ”¾æ ‡ç­¾æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚å‰è¿°ï¼Œæ–‡ä»¶åä¸Žå›¾ç‰‡åæ˜¯ä¸€æ ·çš„ï¼Œ6ä½æ•´æ•° ImageSetsæ–‡ä»¶å¤¹ï¼š å­˜æ”¾æ•°æ®é›†çš„åˆ†å‰²æ–‡ä»¶ åŒ…å«ä¸‰ä¸ªå­æ–‡ä»¶å¤¹ Layoutï¼ŒMainï¼ŒSegmentationï¼Œå…¶ä¸­Mainæ–‡ä»¶å¤¹å­˜æ”¾çš„æ˜¯ç”¨äºŽåˆ†ç±»å’Œæ£€æµ‹çš„æ•°æ®é›†åˆ†å‰²æ–‡ä»¶ï¼ŒLayoutæ–‡ä»¶å¤¹ç”¨äºŽ person layoutä»»åŠ¡ï¼ŒSegmentationç”¨äºŽåˆ†å‰²ä»»åŠ¡ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798.â”œâ”€â”€ Layoutâ”‚ â”œâ”€â”€ test.txtâ”‚ â”œâ”€â”€ train.txtâ”‚ â”œâ”€â”€ trainval.txtâ”‚ â””â”€â”€ val.txtâ”œâ”€â”€ Mainâ”‚ â”œâ”€â”€ aeroplane_test.txtâ”‚ â”œâ”€â”€ aeroplane_train.txtâ”‚ â”œâ”€â”€ aeroplane_trainval.txtâ”‚ â”œâ”€â”€ aeroplane_val.txtâ”‚ â”œâ”€â”€ bicycle_test.txtâ”‚ â”œâ”€â”€ bicycle_train.txtâ”‚ â”œâ”€â”€ bicycle_trainval.txtâ”‚ â”œâ”€â”€ bicycle_val.txtâ”‚ â”œâ”€â”€ bird_test.txtâ”‚ â”œâ”€â”€ bird_train.txtâ”‚ â”œâ”€â”€ bird_trainval.txtâ”‚ â”œâ”€â”€ bird_val.txtâ”‚ â”œâ”€â”€ boat_test.txtâ”‚ â”œâ”€â”€ boat_train.txtâ”‚ â”œâ”€â”€ boat_trainval.txtâ”‚ â”œâ”€â”€ boat_val.txtâ”‚ â”œâ”€â”€ bottle_test.txtâ”‚ â”œâ”€â”€ bottle_train.txtâ”‚ â”œâ”€â”€ bottle_trainval.txtâ”‚ â”œâ”€â”€ bottle_val.txtâ”‚ â”œâ”€â”€ bus_test.txtâ”‚ â”œâ”€â”€ bus_train.txtâ”‚ â”œâ”€â”€ bus_trainval.txtâ”‚ â”œâ”€â”€ bus_val.txtâ”‚ â”œâ”€â”€ car_test.txtâ”‚ â”œâ”€â”€ car_train.txtâ”‚ â”œâ”€â”€ car_trainval.txtâ”‚ â”œâ”€â”€ car_val.txtâ”‚ â”œâ”€â”€ cat_test.txtâ”‚ â”œâ”€â”€ cat_train.txtâ”‚ â”œâ”€â”€ cat_trainval.txtâ”‚ â”œâ”€â”€ cat_val.txtâ”‚ â”œâ”€â”€ chair_test.txtâ”‚ â”œâ”€â”€ chair_train.txtâ”‚ â”œâ”€â”€ chair_trainval.txtâ”‚ â”œâ”€â”€ chair_val.txtâ”‚ â”œâ”€â”€ cow_test.txtâ”‚ â”œâ”€â”€ cow_train.txtâ”‚ â”œâ”€â”€ cow_trainval.txtâ”‚ â”œâ”€â”€ cow_val.txtâ”‚ â”œâ”€â”€ diningtable_test.txtâ”‚ â”œâ”€â”€ diningtable_train.txtâ”‚ â”œâ”€â”€ diningtable_trainval.txtâ”‚ â”œâ”€â”€ diningtable_val.txtâ”‚ â”œâ”€â”€ dog_test.txtâ”‚ â”œâ”€â”€ dog_train.txtâ”‚ â”œâ”€â”€ dog_trainval.txtâ”‚ â”œâ”€â”€ dog_val.txtâ”‚ â”œâ”€â”€ horse_test.txtâ”‚ â”œâ”€â”€ horse_train.txtâ”‚ â”œâ”€â”€ horse_trainval.txtâ”‚ â”œâ”€â”€ horse_val.txtâ”‚ â”œâ”€â”€ motorbike_test.txtâ”‚ â”œâ”€â”€ motorbike_train.txtâ”‚ â”œâ”€â”€ motorbike_trainval.txtâ”‚ â”œâ”€â”€ motorbike_val.txtâ”‚ â”œâ”€â”€ person_test.txtâ”‚ â”œâ”€â”€ person_train.txtâ”‚ â”œâ”€â”€ person_trainval.txtâ”‚ â”œâ”€â”€ person_val.txtâ”‚ â”œâ”€â”€ pottedplant_test.txtâ”‚ â”œâ”€â”€ pottedplant_train.txtâ”‚ â”œâ”€â”€ pottedplant_trainval.txtâ”‚ â”œâ”€â”€ pottedplant_val.txtâ”‚ â”œâ”€â”€ sheep_test.txtâ”‚ â”œâ”€â”€ sheep_train.txtâ”‚ â”œâ”€â”€ sheep_trainval.txtâ”‚ â”œâ”€â”€ sheep_val.txtâ”‚ â”œâ”€â”€ sofa_test.txtâ”‚ â”œâ”€â”€ sofa_train.txtâ”‚ â”œâ”€â”€ sofa_trainval.txtâ”‚ â”œâ”€â”€ sofa_val.txtâ”‚ â”œâ”€â”€ test.txtâ”‚ â”œâ”€â”€ train_test.txtâ”‚ â”œâ”€â”€ train_train.txtâ”‚ â”œâ”€â”€ train_trainval.txtâ”‚ â”œâ”€â”€ train.txtâ”‚ â”œâ”€â”€ train_val.txtâ”‚ â”œâ”€â”€ trainval.txtâ”‚ â”œâ”€â”€ tvmonitor_test.txtâ”‚ â”œâ”€â”€ tvmonitor_train.txtâ”‚ â”œâ”€â”€ tvmonitor_trainval.txtâ”‚ â”œâ”€â”€ tvmonitor_val.txtâ”‚ â””â”€â”€ val.txtâ””â”€â”€ Segmentation â”œâ”€â”€ test.txt â”œâ”€â”€ train.txt â”œâ”€â”€ trainval.txt â””â”€â”€ val.txt 3 directories, 92 files ä¸»è¦ä»‹ç»ä¸€ä¸‹Mainæ–‡ä»¶å¤¹ä¸­çš„ç»„ç»‡ç»“æž„ï¼Œå…ˆæ¥çœ‹ä»¥ä¸‹è¿™å‡ ä¸ªæ–‡ä»¶ï¼š 12345â”œâ”€â”€ Mainâ”‚ â”œâ”€â”€ train.txt å†™ç€ç”¨äºŽè®­ç»ƒçš„å›¾ç‰‡åç§° å…±2501ä¸ªâ”‚ â”œâ”€â”€ val.txt å†™ç€ç”¨äºŽéªŒè¯çš„å›¾ç‰‡åç§° å…±2510ä¸ªâ”‚ â”œâ”€â”€ trainval.txt trainä¸Žvalçš„åˆé›† å…±5011ä¸ªâ”‚ â”œâ”€â”€ test.txt å†™ç€ç”¨äºŽæµ‹è¯•çš„å›¾ç‰‡åç§° å…±4952ä¸ª é‡Œé¢çš„æ–‡ä»¶å†…å®¹æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼šä»¥train.txtæ–‡ä»¶ä¸ºä¾‹ 123456789101112131415000012000017000023000026000032000033000034000035000036000042â€¦â€¦â€¦â€¦009949009959009961 å°±æ˜¯å¯¹æ•°æ®åº“çš„åˆ†å‰²ï¼Œè¿™ä¸€éƒ¨åˆ†å›¾ç‰‡ç”¨äºŽtrainï¼Œå…¶ä»–çš„ç”¨ä½œvalï¼Œtestç­‰ã€‚ Mainä¸­å‰©ä¸‹çš„æ–‡ä»¶å¾ˆæ˜¾ç„¶å°±æ˜¯æ¯ä¸€ç±»åˆ«åœ¨trainæˆ–valæˆ–testä¸­çš„ground truthï¼Œè¿™ä¸ªground truthæ˜¯ä¸ºäº†æ–¹ä¾¿classification ä»»åŠ¡è€Œæä¾›çš„ï¼›å¦‚æžœæ˜¯detectionçš„è¯ï¼Œä½¿ç”¨çš„æ˜¯ä¸Šé¢çš„xmlæ ‡ç­¾æ–‡ä»¶ã€‚ 1234567â”œâ”€â”€ Mainâ”‚ â”œâ”€â”€ aeroplane_test.txt å†™ç€ç”¨äºŽè®­ç»ƒçš„å›¾ç‰‡åç§° å…±2501ä¸ªï¼ŒæŒ‡å®šæ­£è´Ÿæ ·æœ¬â”‚ â”œâ”€â”€ aeroplane_train.txt å†™ç€ç”¨äºŽéªŒè¯çš„å›¾ç‰‡åç§° å…±2510ä¸ªï¼ŒæŒ‡å®šæ­£è´Ÿæ ·æœ¬â”‚ â”œâ”€â”€ aeroplane_trainval.txt trainä¸Žvalçš„åˆé›† å…±5011ä¸ªï¼ŒæŒ‡å®šæ­£è´Ÿæ ·æœ¬â”‚ â”œâ”€â”€ aeroplane_val.txt å†™ç€ç”¨äºŽæµ‹è¯•çš„å›¾ç‰‡åç§° å…±4952ä¸ªï¼ŒæŒ‡å®šæ­£è´Ÿæ ·æœ¬â€¦â€¦â€¦â€¦ é‡Œé¢æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼ˆä»¥aeroplane_train.txtä¸ºä¾‹ï¼‰ï¼š 123456789101112131415000012 -1000017 -1000023 -1000026 -1000032 1000033 1000034 -1000035 -1000036 -1000042 -1â€¦â€¦â€¦â€¦009949 -1009959 -1009961 -1 å‰é¢ä¸€åˆ—æ˜¯è®­ç»ƒé›†ä¸­çš„å›¾ç‰‡åç§°ï¼Œè¿™ä¸€åˆ—è·Ÿtrain.txtæ–‡ä»¶ä¸­çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼ŒåŽé¢ä¸€åˆ—æ˜¯æ ‡ç­¾ï¼Œå³è®­ç»ƒé›†ä¸­è¿™å¼ å›¾ç‰‡æ˜¯ä¸æ˜¯aeroplaneï¼Œæ˜¯çš„è¯ä¸º1ï¼Œå¦åˆ™ä¸º-1. å…¶ä»–æ‰€æœ‰çš„ (class)_(imgset).txt æ–‡ä»¶éƒ½æ˜¯ç±»ä¼¼çš„ã€‚ (class)_train å­˜æ”¾çš„æ˜¯è®­ç»ƒä½¿ç”¨çš„æ•°æ®ï¼Œæ¯ä¸€ä¸ªclasséƒ½æœ‰2501ä¸ªtrainæ•°æ®ã€‚ (class)_val å­˜æ”¾çš„æ˜¯éªŒè¯ä½¿ç”¨çš„æ•°æ®ï¼Œæ¯ä¸€ä¸ªclasséƒ½æœ‰2510ä¸ªvalæ•°æ®ã€‚ (class)_trainval å°†ä¸Šé¢ä¸¤ä¸ªè¿›è¡Œäº†åˆå¹¶ï¼Œæ¯ä¸€ä¸ªclassæœ‰5011ä¸ªæ•°æ®ã€‚ (class)_test å­˜æ”¾çš„æ˜¯æµ‹è¯•ä½¿ç”¨çš„æ•°æ®ï¼Œæ¯ä¸€ä¸ªclassæœ‰4952ä¸ªtestæ•°æ®ã€‚ æ‰€æœ‰æ–‡ä»¶éƒ½ æŒ‡å®šäº†æ­£è´Ÿæ ·æœ¬ï¼Œæ¯ä¸ªclassçš„å®žé™…æ•°é‡ä¸ºæ­£æ ·æœ¬çš„æ•°é‡ï¼Œtrainå’Œvalä¸¤è€…æ²¡æœ‰äº¤é›†ã€‚ VOC2012 çš„æ•°æ®é›†ç»„ç»‡ç»“æž„æ˜¯ç±»ä¼¼çš„ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºŽVOC2012 ä¸­æ²¡æœ‰ testç±»çš„å›¾ç‰‡å’Œä»¥åŠç›¸å…³æ ‡ç­¾å’Œåˆ†å‰²æ–‡ä»¶ï¼Œå› ä¸ºè¿™éƒ¨åˆ†æ•°æ® VOC2012æ²¡æœ‰å…¬å¸ƒã€‚ å‚è€ƒèµ„æ–™ http://host.robots.ox.ac.uk/pascal/VOC/ æ€§èƒ½æŒ‡æ ‡ï¼ˆæ¨¡åž‹è¯„ä¼°ï¼‰ä¹‹mAP å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP average precision]]></content>
      <categories>
        <category>deep learning</category>
      </categories>
      <tags>
        <tag>dataset</tag>
        <tag>PASCAL VOC</tag>
      </tags>
  </entry>
</search>
